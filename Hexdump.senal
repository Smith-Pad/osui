
  
  
  Offset: 00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F 	
00000000: 20 2F 2F 20 46 4F 49 4C 20 41 70 70 2E 6A 73 20    .//.FOIL.App.js.
00000010: 65 6E 76 69 72 6F 6E 65 6E 74 20 2F 2F 0A 20 2F    environent.//../
00000020: 2F 20 6F 70 65 6E 46 4F 49 4C 20 2F 2F 0A 20 76    /.openFOIL.//..v
00000030: 61 72 20 70 6F 70 75 70 57 69 6E 64 6F 77 3D 6E    ar.popupWindow=n
00000040: 75 6C 6C 3B 0A 0A 20 66 75 6E 63 74 69 6F 6E 20    ull;...function.
00000050: 63 65 6E 74 65 72 65 64 50 6F 70 75 70 28 75 72    centeredPopup(ur
00000060: 6C 2C 20 77 69 6E 4E 61 6D 65 2C 20 77 2C 20 68    l,.winName,.w,.h
00000070: 2C 20 73 63 72 6F 6C 6C 29 20 7B 0A 20 20 20 20    ,.scroll).{.....
00000080: 20 4C 65 66 74 50 6F 73 69 74 69 6F 6E 3D 28 73    .LeftPosition=(s
00000090: 63 72 65 65 6E 2E 77 69 64 74 68 29 20 3F 20 28    creen.width).?.(
000000a0: 73 63 72 65 65 6E 2E 77 69 64 74 68 2D 77 29 2F    screen.width-w)/
000000b0: 32 3A 20 30 3B 0A 20 20 20 20 20 54 6F 70 50 6F    2:.0;......TopPo
000000c0: 73 69 74 69 6F 6E 3D 28 73 63 72 65 65 6E 2E 68    sition=(screen.h
000000d0: 65 69 67 68 74 29 20 3F 20 28 73 63 72 65 65 6E    eight).?.(screen
000000e0: 2E 68 65 69 67 68 74 2D 68 29 2F 32 3A 20 30 3B    .height-h)/2:.0;
000000f0: 0A 20 20 20 20 20 73 65 74 74 69 6E 67 73 3D 27    ......settings='
00000100: 68 65 69 67 68 74 3D 27 2B 68 2B 27 2C 77 69 64    height='+h+',wid
00000110: 74 68 3D 27 2B 77 2B 27 2C 74 6F 70 3D 27 2B 54    th='+w+',top='+T
00000120: 6F 70 50 6F 73 69 74 69 6F 6E 2B 27 2C 6C 65 66    opPosition+',lef
00000130: 74 3D 27 2B 4C 65 66 74 50 6F 73 69 74 69 6F 6E    t='+LeftPosition
00000140: 2B 27 2C 73 63 72 6F 6C 6C 62 61 72 73 3D 27 2B    +',scrollbars='+
00000150: 73 63 72 6F 6C 6C 2B 27 2C 72 65 73 69 7A 61 62    scroll+',resizab
00000160: 6C 65 27 0A 20 20 20 20 20 70 6F 70 75 70 57 69    le'......popupWi
00000170: 6E 64 6F 77 3D 77 69 6E 64 6F 77 2E 6F 70 65 6E    ndow=window.open
00000180: 28 75 72 6C 2C 20 77 69 6E 4E 61 6D 65 2C 20 73    (url,.winName,.s
00000190: 65 74 74 69 6E 67 73 29 0A 20 7D 0A 0A 20 2F 2F    ettings)..}...//
000001a0: 20 53 63 72 69 70 74 20 66 6F 72 20 74 68 65 20    .Script.for.the.
000001b0: 73 65 70 61 72 61 74 65 20 77 69 6E 64 6F 77 20    separate.window.
000001c0: 2F 2F 0A 20 2F 2F 46 6F 72 20 62 6F 6F 74 69 6E    //..//For.bootin
000001d0: 67 20 46 4F 49 4C 20 4F 53 20 66 6F 72 20 6E 61    g.FOIL.OS.for.na
000001e0: 74 69 76 65 20 57 69 6E 64 6F 77 2E 20 54 68 69    tive.Window..Thi
000001f0: 73 20 61 70 70 6C 69 63 61 74 69 6F 6E 20 68 61    s.application.ha
00000200: 73 20 61 20 6E 61 74 75 72 61 6C 20 73 63 72 69    s.a.natural.scri
00000210: 70 74 20 74 68 61 74 20 72 75 6E 73 20 6E 61 74    pt.that.runs.nat
00000220: 69 76 65 20 77 69 6E 64 6F 77 20 6D 6F 64 65 2E    ive.window.mode.
00000230: 20 0A 20 2F 2F 54 68 69 73 20 61 70 70 6C 69 63    ...//This.applic
00000240: 61 74 69 6F 6E 20 70 72 6F 67 72 61 6D 20 69 6E    ation.program.in
00000250: 74 65 72 66 61 63 65 20 69 73 20 66 6F 72 20 6E    terface.is.for.n
00000260: 61 74 69 76 65 20 73 63 72 65 65 6E 20 61 70 70    ative.screen.app
00000270: 6C 69 63 61 74 69 6F 6E 20 66 6F 72 20 66 6F 69    lication.for.foi
00000280: 6C 20 6F 70 65 72 61 74 69 6E 67 20 73 79 73 74    l.operating.syst
00000290: 65 6D 20 66 6F 72 20 74 61 62 6C 65 74 20 73 63    em.for.tablet.sc
000002a0: 72 65 65 6E 2C 20 6C 63 64 20 73 63 72 65 65 6E    reen,.lcd.screen
000002b0: 0A 0A 20 2F 2F E3 81 93 E3 81 AE E3 82 A2 E3 83    ...//c..c..c."c.
000002c0: 97 E3 83 AA E3 82 B1 E3 83 BC E3 82 B7 E3 83 A7    .c.*c.1c.<c.7c.'
000002d0: E3 83 B3 E3 83 97 E3 83 AD E3 82 B0 E3 83 A9 E3    c.3c..c.-c.0c.)c
000002e0: 83 A0 E3 81 AE E3 82 A4 E3 83 B3 E3 82 BF E3 83    ..c..c.$c.3c.?c.
000002f0: BC E3 83 95 E3 82 A7 E3 82 A4 E3 82 B9 E3 81 AF    <c..c.'c.$c.9c./
00000300: E3 80 81 E3 82 BF E3 83 96 E3 83 AC E3 83 83 E3    c..c.?c..c.,c..c
00000310: 83 88 E7 94 BB E9 9D A2 E3 80 81 E6 B6 B2 E6 99    ..g.;i."c..f62f.
00000320: B6 E7 94 BB E9 9D A2 E3 81 AE E3 81 9F E3 82 81    6g.;i."c..c..c..
00000330: E3 81 AE E7 AE 94 E3 82 AA E3 83 9A E3 83 AC E3    c..g..c.*c..c.,c
00000340: 83 BC E3 83 86 E3 82 A3 E3 83 B3 E3 82 B0 E3 82    .<c..c.#c.3c.0c.
00000350: B7 E3 82 B9 E3 83 86 E3 83 A0 E3 81 AE E3 83 8D    7c.9c..c..c..c..
00000360: E3 82 A4 E3 83 86 E3 82 A3 E3 83 96 E3 82 B9 E3    c.$c..c.#c..c.9c
00000370: 82 AF E3 83 AA E3 83 BC E3 83 B3 E3 82 A2 E3 83    ./c.*c.<c.3c."c.
00000380: 97 E3 83 AA E3 82 B1 E3 83 BC E3 82 B7 E3 83 A7    .c.*c.1c.<c.7c.'
00000390: E3 83 B3 E7 94 A8 E3 81 A7 E3 81 99 E3 80 82 0A    c.3g.(c.'c..c...
000003a0: 0A 20 2F 2F E0 B6 B8 E0 B7 99 E0 B6 B8 20 E0 B6    ..//`68`7.`68.`6
000003b0: BA E0 B7 99 E0 B6 AF E0 B7 94 E0 B6 B8 E0 B7 8A    :`7.`6/`7.`68`7.
000003c0: 20 E0 B6 9A E0 B7 8A E0 B6 BB E0 B6 B8 E0 B6 BD    .`6.`7.`6;`68`6=
000003d0: E0 B7 9A E0 B6 9B 20 E0 B6 85 E0 B6 AD E0 B7 94    `7.`6..`6.`6-`7.
000003e0: E0 B6 BB E0 B7 94 E0 B6 B8 E0 B7 94 E0 B7 84 E0    `6;`7.`68`7.`7.`
000003f0: B7 94 E0 B6 AB E0 B6 AD 20 E0 B6 A7 E0 B7 90 E0    7.`6+`6-.`6'`7.`
00000400: B6 B6 E0 B7 8A E0 B6 BD E0 B6 A7 E0 B7 8A 20 E0    66`7.`6=`6'`7..`
00000410: B6 AD E0 B7 92 E0 B6 BB E0 B6 BA 20 E0 B7 83 E0    6-`7.`6;`6:.`7.`
00000420: B6 B3 E0 B7 84 E0 B7 8F 20 6C 63 64 20 E0 B6 AD    63`7.`7..lcd.`6-
00000430: E0 B7 92 E0 B6 BB E0 B6 BA 20 E0 B7 83 E0 B6 B3    `7.`6;`6:.`7.`63
00000440: E0 B7 84 E0 B7 8F 20 E0 B6 AD E0 B7 93 E0 B6 BB    `7.`7..`6-`7.`6;
00000450: E0 B7 94 20 E0 B6 B8 E0 B7 99 E0 B7 84 E0 B7 99    `7..`68`7.`7.`7.
00000460: E0 B6 BA E0 B7 94 E0 B6 B8 E0 B7 8A 20 E0 B6 B4    `6:`7.`68`7..`64
00000470: E0 B6 AF E0 B7 8A E0 B6 B0 E0 B6 AD E0 B7 92 20    `6/`7.`60`6-`7..
00000480: E0 B7 83 E0 B6 B3 E0 B7 84 E0 B7 8F 20 E0 B6 AF    `7.`63`7.`7..`6/
00000490: E0 B7 9A E0 B7 81 E0 B7 93 E0 B6 BA 20 E0 B6 AD    `7.`7.`7.`6:.`6-
000004a0: E0 B7 92 E0 B6 BB E0 B6 BA 20 E0 B7 83 E0 B6 B3    `7.`6;`6:.`7.`63
000004b0: E0 B7 84 E0 B7 8F 20 E0 B7 80 E0 B7 9A 0A 0A 0A    `7.`7..`7.`7....
000004c0: 0A 0A 0A 20 2F 2A 0A 20 20 20 20 41 20 53 74 61    ..../*.....A.Sta
000004d0: 6E 64 61 72 64 69 7A 65 64 20 50 52 4F 54 4F 54    ndardized.PROTOT
000004e0: 59 50 45 20 66 6F 72 20 4D 61 6E 79 20 42 72 6F    YPE.for.Many.Bro
000004f0: 77 73 65 72 73 20 77 69 74 68 20 4A 61 76 61 73    wsers.with.Javas
00000500: 63 72 69 70 74 20 45 6E 61 62 6C 65 64 20 20 20    cript.Enabled...
00000510: 20 20 20 20 20 0A 20 20 20 20 0A 20 20 20 20 0A    ................
00000520: 20 20 20 20 0A 20 20 20 20 44 65 62 75 67 67 69    .........Debuggi
00000530: 6E 67 20 46 4F 49 4C 20 4F 53 20 50 72 69 6E 63    ng.FOIL.OS.Princ
00000540: 69 70 6C 65 73 20 2A 2F 0A 0A 20 2F 2A 20 54 69    iples.*/.../*.Ti
00000550: 6D 65 2A 2F 0A 0A 0A 20 2F 2A 20 0A 0A 43 6F 64    me*/..../*...Cod
00000560: 65 20 45 64 69 74 6F 72 20 54 65 73 74 69 6E 67    e.Editor.Testing
00000570: 20 68 65 72 65 0A 0A 0A 0A 2F 2A 20 23 23 23 23    .here..../*.####
00000580: 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23    ################
00000590: 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23    ################
000005a0: 23 23 23 23 23 23 20 2A 2F 0A 0A 0A 20 64 6F 63    ######.*/....doc
000005b0: 75 6D 65 6E 74 2E 77 72 69 74 65 28 29 20 73 72    ument.write().sr
000005c0: 63 3D 22 2F 74 69 6D 65 25 32 35 32 30 6A 61 76    c="/time%2520jav
000005d0: 61 73 63 72 69 70 74 25 32 35 32 30 62 65 74 61    ascript%2520beta
000005e0: 2F 66 6F 69 6C 5F 61 70 70 5F 65 6E 76 69 72 6F    /foil_app_enviro
000005f0: 6E 6D 65 6E 74 2E 6A 73 22 3B 0A 0A 20 2F 2A 20    nment.js";.../*.
00000600: 0A 20 50 20 52 20 45 20 46 20 45 20 52 20 45 20    ..P.R.E.F.E.R.E.
00000610: 4E 20 43 20 45 20 53 20 0A 0A 2A 2F 0A 0A 20 66    N.C.E.S...*/...f
00000620: 43 6F 6C 3D 27 34 34 34 34 34 34 27 3B 20 2F 2F    Col='444444';.//
00000630: 66 61 63 65 20 63 6F 6C 6F 75 72 2E 0A 20 73 43    face.colour...sC
00000640: 6F 6C 3D 27 46 46 30 30 30 30 27 3B 20 2F 2F 73    ol='FF0000';.//s
00000650: 65 63 6F 6E 64 73 20 63 6F 6C 6F 75 72 2E 0A 20    econds.colour...
00000660: 6D 43 6F 6C 3D 27 34 34 34 34 34 34 27 3B 20 2F    mCol='444444';./
00000670: 2F 6D 69 6E 75 74 65 73 20 63 6F 6C 6F 75 72 2E    /minutes.colour.
00000680: 0A 20 68 43 6F 6C 3D 27 34 34 34 34 34 34 27 3B    ..hCol='444444';
00000690: 20 2F 2F 68 6F 75 72 73 20 63 6F 6C 6F 75 72 2E    .//hours.colour.
000006a0: 0A 0A 20 59 62 61 73 65 3D 33 30 3B 20 2F 2F 43    ...Ybase=30;.//C
000006b0: 6C 6F 63 6B 20 68 65 69 67 68 74 2E 0A 20 58 62    lock.height...Xb
000006c0: 61 73 65 3D 33 30 3B 20 2F 2F 43 6C 6F 63 6B 20    ase=30;.//Clock.
000006d0: 77 69 64 74 68 2E 0A 0A 0A 20 48 3D 27 2E 2E 2E    width.....H='...
000006e0: 27 3B 0A 20 48 3D 48 2E 73 70 6C 69 74 28 27 27    ';..H=H.split(''
000006f0: 29 3B 0A 20 4D 3D 27 2E 2E 2E 2E 27 3B 0A 20 4D    );..M='....';..M
00000700: 3D 4D 2E 73 70 6C 69 74 28 27 27 29 3B 0A 20 53    =M.split('');..S
00000710: 3D 27 2E 2E 2E 2E 2E 27 3B 0A 20 53 3D 53 2E 73    ='.....';..S=S.s
00000720: 70 6C 69 74 28 27 27 29 3B 0A 20 4E 53 34 3D 28    plit('');..NS4=(
00000730: 64 6F 63 75 6D 65 6E 74 2E 6C 61 79 65 72 73 29    document.layers)
00000740: 3B 0A 20 4E 53 36 3D 28 64 6F 63 75 6D 65 6E 74    ;..NS6=(document
00000750: 2E 67 65 74 45 6C 65 6D 65 6E 74 42 79 49 64 26    .getElementById&
00000760: 26 20 21 64 6F 63 75 6D 65 6E 74 2E 61 6C 6C 29    &.!document.all)
00000770: 3B 0A 20 49 45 34 3D 28 64 6F 63 75 6D 65 6E 74    ;..IE4=(document
00000780: 2E 61 6C 6C 29 3B 0A 20 59 70 6F 73 3D 30 3B 0A    .all);..Ypos=0;.
00000790: 20 58 70 6F 73 3D 30 3B 0A 20 64 6F 74 73 3D 31    .Xpos=0;..dots=1
000007a0: 32 3B 0A 20 53 70 6C 69 74 3D 33 36 30 2F 64 6F    2;..Split=360/do
000007b0: 74 73 3B 0A 0A 20 69 66 20 28 4E 53 36 29 20 7B    ts;...if.(NS6).{
000007c0: 0A 20 20 20 20 20 66 6F 72 20 28 69 3D 31 3B 20    ......for.(i=1;.
000007d0: 69 20 3C 20 64 6F 74 73 2B 31 3B 20 69 2B 2B 29    i.<.dots+1;.i++)
000007e0: 20 7B 0A 20 20 20 20 20 20 20 20 20 64 6F 63 75    .{..........docu
000007f0: 6D 65 6E 74 2E 77 72 69 74 65 28 27 3C 64 69 76    ment.write('<div
00000800: 20 69 64 3D 22 6E 36 44 69 67 69 74 73 27 2B 69    .id="n6Digits'+i
00000810: 2B 27 22 20 73 74 79 6C 65 3D 22 70 6F 73 69 74    +'".style="posit
00000820: 69 6F 6E 3A 61 62 73 6F 6C 75 74 65 3B 74 6F 70    ion:absolute;top
00000830: 3A 30 70 78 3B 6C 65 66 74 3A 30 70 78 3B 77 69    :0px;left:0px;wi
00000840: 64 74 68 3A 33 30 70 78 3B 68 65 69 67 68 74 3A    dth:30px;height:
00000850: 33 30 70 78 3B 66 6F 6E 74 2D 66 61 6D 69 6C 79    30px;font-family
00000860: 3A 41 72 69 61 6C 3B 66 6F 6E 74 2D 73 69 7A 65    :Arial;font-size
00000870: 3A 31 30 70 78 3B 63 6F 6C 6F 72 3A 23 27 2B 66    :10px;color:#'+f
00000880: 43 6F 6C 2B 27 3B 74 65 78 74 2D 61 6C 69 67 6E    Col+';text-align
00000890: 3A 63 65 6E 74 65 72 3B 70 61 64 64 69 6E 67 2D    :center;padding-
000008a0: 74 6F 70 3A 31 30 70 78 22 3E 27 2B 69 2B 27 3C    top:10px">'+i+'<
000008b0: 2F 64 69 76 3E 27 29 3B 0A 20 20 20 20 20 7D 0A    /div>');......}.
000008c0: 0A 20 20 20 20 20 66 6F 72 20 28 69 3D 30 3B 20    ......for.(i=0;.
000008d0: 69 20 3C 20 4D 2E 6C 65 6E 67 74 68 3B 20 69 2B    i.<.M.length;.i+
000008e0: 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 64 6F    +).{..........do
000008f0: 63 75 6D 65 6E 74 2E 77 72 69 74 65 28 27 3C 64    cument.write('<d
00000900: 69 76 20 69 64 3D 22 4E 79 27 2B 69 2B 27 22 20    iv.id="Ny'+i+'".
00000910: 73 74 79 6C 65 3D 22 70 6F 73 69 74 69 6F 6E 3A    style="position:
00000920: 61 62 73 6F 6C 75 74 65 3B 74 6F 70 3A 30 70 78    absolute;top:0px
00000930: 3B 6C 65 66 74 3A 30 70 78 3B 77 69 64 74 68 3A    ;left:0px;width:
00000940: 32 70 78 3B 68 65 69 67 68 74 3A 32 70 78 3B 66    2px;height:2px;f
00000950: 6F 6E 74 2D 73 69 7A 65 3A 32 70 78 3B 62 61 63    ont-size:2px;bac
00000960: 6B 67 72 6F 75 6E 64 3A 23 27 2B 6D 43 6F 6C 2B    kground:#'+mCol+
00000970: 27 22 3E 3C 2F 64 69 76 3E 27 29 3B 0A 20 20 20    '"></div>');....
00000980: 20 20 7D 0A 0A 20 20 20 20 20 66 6F 72 20 28 69    ..}.......for.(i
00000990: 3D 30 3B 20 69 20 3C 20 48 2E 6C 65 6E 67 74 68    =0;.i.<.H.length
000009a0: 3B 20 69 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20    ;.i++).{........
000009b0: 20 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74 65    ..document.write
000009c0: 28 27 3C 64 69 76 20 69 64 3D 22 4E 7A 27 2B 69    ('<div.id="Nz'+i
000009d0: 2B 27 22 20 73 74 79 6C 65 3D 22 70 6F 73 69 74    +'".style="posit
000009e0: 69 6F 6E 3A 61 62 73 6F 6C 75 74 65 3B 74 6F 70    ion:absolute;top
000009f0: 3A 30 70 78 3B 6C 65 66 74 3A 30 70 78 3B 77 69    :0px;left:0px;wi
00000a00: 64 74 68 3A 32 70 78 3B 68 65 69 67 68 74 3A 32    dth:2px;height:2
00000a10: 70 78 3B 66 6F 6E 74 2D 73 69 7A 65 3A 32 70 78    px;font-size:2px
00000a20: 3B 62 61 63 6B 67 72 6F 75 6E 64 3A 23 27 2B 68    ;background:#'+h
00000a30: 43 6F 6C 2B 27 22 3E 3C 2F 64 69 76 3E 27 29 3B    Col+'"></div>');
00000a40: 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 66 6F    ......}.......fo
00000a50: 72 20 28 69 3D 30 3B 20 69 20 3C 20 53 2E 6C 65    r.(i=0;.i.<.S.le
00000a60: 6E 67 74 68 3B 20 69 2B 2B 29 20 7B 0A 20 20 20    ngth;.i++).{....
00000a70: 20 20 20 20 20 20 64 6F 63 75 6D 65 6E 74 2E 77    ......document.w
00000a80: 72 69 74 65 28 27 3C 64 69 76 20 69 64 3D 22 4E    rite('<div.id="N
00000a90: 78 27 2B 69 2B 27 22 20 73 74 79 6C 65 3D 22 70    x'+i+'".style="p
00000aa0: 6F 73 69 74 69 6F 6E 3A 61 62 73 6F 6C 75 74 65    osition:absolute
00000ab0: 3B 74 6F 70 3A 30 70 78 3B 6C 65 66 74 3A 30 70    ;top:0px;left:0p
00000ac0: 78 3B 77 69 64 74 68 3A 32 70 78 3B 68 65 69 67    x;width:2px;heig
00000ad0: 68 74 3A 32 70 78 3B 66 6F 6E 74 2D 73 69 7A 65    ht:2px;font-size
00000ae0: 3A 32 70 78 3B 62 61 63 6B 67 72 6F 75 6E 64 3A    :2px;background:
00000af0: 23 27 2B 73 43 6F 6C 2B 27 22 3E 3C 2F 64 69 76    #'+sCol+'"></div
00000b00: 3E 27 29 3B 0A 20 20 20 20 20 7D 0A 20 7D 0A 0A    >');......}..}..
00000b10: 20 69 66 20 28 4E 53 34 29 20 7B 0A 20 20 20 20    .if.(NS4).{.....
00000b20: 20 64 67 74 73 3D 27 31 20 32 20 33 20 34 20 35    .dgts='1.2.3.4.5
00000b30: 20 36 20 37 20 38 20 39 20 31 30 20 31 31 20 31    .6.7.8.9.10.11.1
00000b40: 32 27 3B 0A 0A 20 20 20 20 20 64 67 74 73 3D 64    2';.......dgts=d
00000b50: 67 74 73 2E 73 70 6C 69 74 28 27 20 27 29 20 66    gts.split('.').f
00000b60: 6F 72 20 28 69 3D 30 3B 20 69 20 3C 20 64 6F 74    or.(i=0;.i.<.dot
00000b70: 73 3B 20 69 2B 2B 29 20 7B 0A 20 20 20 20 20 20    s;.i++).{.......
00000b80: 20 20 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74    ...document.writ
00000b90: 65 28 27 3C 6C 61 79 65 72 20 6E 61 6D 65 3D 6E    e('<layer.name=n
00000ba0: 73 44 69 67 69 74 73 27 2B 69 2B 27 20 74 6F 70    sDigits'+i+'.top
00000bb0: 3D 30 20 6C 65 66 74 3D 30 20 68 65 69 67 68 74    =0.left=0.height
00000bc0: 3D 33 30 20 77 69 64 74 68 3D 33 30 3E 3C 63 65    =30.width=30><ce
00000bd0: 6E 74 65 72 3E 3C 66 6F 6E 74 20 66 61 63 65 3D    nter><font.face=
00000be0: 41 72 69 61 6C 20 73 69 7A 65 3D 31 20 63 6F 6C    Arial.size=1.col
00000bf0: 6F 72 3D 27 2B 66 43 6F 6C 2B 27 3E 27 2B 64 67    or='+fCol+'>'+dg
00000c00: 74 73 5B 69 5D 2B 27 3C 2F 66 6F 6E 74 3E 3C 2F    ts[i]+'</font></
00000c10: 63 65 6E 74 65 72 3E 3C 2F 6C 61 79 65 72 3E 27    center></layer>'
00000c20: 29 3B 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    );......}.......
00000c30: 66 6F 72 20 28 69 3D 30 3B 20 69 20 3C 20 4D 2E    for.(i=0;.i.<.M.
00000c40: 6C 65 6E 67 74 68 3B 20 69 2B 2B 29 20 7B 0A 20    length;.i++).{..
00000c50: 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65 6E 74    ........document
00000c60: 2E 77 72 69 74 65 28 27 3C 6C 61 79 65 72 20 6E    .write('<layer.n
00000c70: 61 6D 65 3D 6E 79 27 2B 69 2B 27 20 74 6F 70 3D    ame=ny'+i+'.top=
00000c80: 30 20 6C 65 66 74 3D 30 20 62 67 63 6F 6C 6F 72    0.left=0.bgcolor
00000c90: 3D 27 2B 6D 43 6F 6C 2B 27 20 63 6C 69 70 3D 22    ='+mCol+'.clip="
00000ca0: 30 2C 30 2C 32 2C 32 22 3E 3C 2F 6C 61 79 65 72    0,0,2,2"></layer
00000cb0: 3E 27 29 3B 0A 20 20 20 20 20 7D 0A 0A 20 20 20    >');......}.....
00000cc0: 20 20 66 6F 72 20 28 69 3D 30 3B 20 69 20 3C 20    ..for.(i=0;.i.<.
00000cd0: 48 2E 6C 65 6E 67 74 68 3B 20 69 2B 2B 29 20 7B    H.length;.i++).{
00000ce0: 0A 20 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65    ..........docume
00000cf0: 6E 74 2E 77 72 69 74 65 28 27 3C 6C 61 79 65 72    nt.write('<layer
00000d00: 20 6E 61 6D 65 3D 6E 7A 27 2B 69 2B 27 20 74 6F    .name=nz'+i+'.to
00000d10: 70 3D 30 20 6C 65 66 74 3D 30 20 62 67 63 6F 6C    p=0.left=0.bgcol
00000d20: 6F 72 3D 27 2B 68 43 6F 6C 2B 27 20 63 6C 69 70    or='+hCol+'.clip
00000d30: 3D 22 30 2C 30 2C 32 2C 32 22 3E 3C 2F 6C 61 79    ="0,0,2,2"></lay
00000d40: 65 72 3E 27 29 3B 0A 20 20 20 20 20 7D 0A 0A 20    er>');......}...
00000d50: 20 20 20 20 66 6F 72 20 28 69 3D 30 3B 20 69 20    ....for.(i=0;.i.
00000d60: 3C 20 53 2E 6C 65 6E 67 74 68 3B 20 69 2B 2B 29    <.S.length;.i++)
00000d70: 20 7B 0A 20 20 20 20 20 20 20 20 20 64 6F 63 75    .{..........docu
00000d80: 6D 65 6E 74 2E 77 72 69 74 65 28 27 3C 6C 61 79    ment.write('<lay
00000d90: 65 72 20 6E 61 6D 65 3D 6E 78 27 2B 69 2B 27 20    er.name=nx'+i+'.
00000da0: 74 6F 70 3D 30 20 6C 65 66 74 3D 30 20 62 67 63    top=0.left=0.bgc
00000db0: 6F 6C 6F 72 3D 27 2B 73 43 6F 6C 2B 27 20 63 6C    olor='+sCol+'.cl
00000dc0: 69 70 3D 22 30 2C 30 2C 32 2C 32 22 3E 3C 2F 6C    ip="0,0,2,2"></l
00000dd0: 61 79 65 72 3E 27 29 3B 0A 20 20 20 20 20 7D 0A    ayer>');......}.
00000de0: 20 7D 0A 0A 20 69 66 20 28 49 45 34 29 20 7B 0A    .}...if.(IE4).{.
00000df0: 20 20 20 20 20 64 6F 63 75 6D 65 6E 74 2E 77 72    .....document.wr
00000e00: 69 74 65 28 27 3C 64 69 76 20 73 74 79 6C 65 3D    ite('<div.style=
00000e10: 22 70 6F 73 69 74 69 6F 6E 3A 61 62 73 6F 6C 75    "position:absolu
00000e20: 74 65 3B 74 6F 70 3A 30 70 78 3B 6C 65 66 74 3A    te;top:0px;left:
00000e30: 30 70 78 22 3E 3C 64 69 76 20 73 74 79 6C 65 3D    0px"><div.style=
00000e40: 22 70 6F 73 69 74 69 6F 6E 3A 72 65 6C 61 74 69    "position:relati
00000e50: 76 65 22 3E 27 29 3B 0A 0A 20 20 20 20 20 66 6F    ve">');.......fo
00000e60: 72 20 28 69 3D 31 3B 20 69 20 3C 20 64 6F 74 73    r.(i=1;.i.<.dots
00000e70: 2B 31 3B 20 69 2B 2B 29 20 7B 0A 20 20 20 20 20    +1;.i++).{......
00000e80: 20 20 20 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69    ....document.wri
00000e90: 74 65 28 27 3C 64 69 76 20 69 64 3D 22 69 65 44    te('<div.id="ieD
00000ea0: 69 67 69 74 73 22 20 73 74 79 6C 65 3D 22 70 6F    igits".style="po
00000eb0: 73 69 74 69 6F 6E 3A 61 62 73 6F 6C 75 74 65 3B    sition:absolute;
00000ec0: 74 6F 70 3A 30 70 78 3B 6C 65 66 74 3A 30 70 78    top:0px;left:0px
00000ed0: 3B 77 69 64 74 68 3A 33 30 70 78 3B 68 65 69 67    ;width:30px;heig
00000ee0: 68 74 3A 33 30 70 78 3B 66 6F 6E 74 2D 66 61 6D    ht:30px;font-fam
00000ef0: 69 6C 79 3A 41 72 69 61 6C 3B 66 6F 6E 74 2D 73    ily:Arial;font-s
00000f00: 69 7A 65 3A 31 30 70 78 3B 63 6F 6C 6F 72 3A 27    ize:10px;color:'
00000f10: 2B 66 43 6F 6C 2B 27 3B 74 65 78 74 2D 61 6C 69    +fCol+';text-ali
00000f20: 67 6E 3A 63 65 6E 74 65 72 3B 70 61 64 64 69 6E    gn:center;paddin
00000f30: 67 2D 74 6F 70 3A 31 30 70 78 22 3E 27 2B 69 2B    g-top:10px">'+i+
00000f40: 27 3C 2F 64 69 76 3E 27 29 3B 0A 20 20 20 20 20    '</div>');......
00000f50: 7D 0A 0A 20 20 20 20 20 64 6F 63 75 6D 65 6E 74    }.......document
00000f60: 2E 77 72 69 74 65 28 27 3C 2F 64 69 76 3E 3C 2F    .write('</div></
00000f70: 64 69 76 3E 27 29 20 2F 2F 20 47 69 76 65 73 20    div>').//.Gives.
00000f80: 74 68 65 20 6C 61 79 6F 75 74 20 6E 61 6D 65 20    the.layout.name.
00000f90: 74 6F 20 46 4F 49 4C 20 55 49 20 63 61 6C 6C 20    to.FOIL.UI.call.
00000fa0: 74 6F 20 48 54 4D 4C 20 41 4B 41 20 43 53 53 31    to.HTML.AKA.CSS1
00000fb0: 43 6F 6D 70 61 74 20 20 20 20 20 20 20 20 20 20    Compat..........
00000fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00000fd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00000fe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00000ff0: 20 20 20 20 20 20 20 20 0A 20 20 20 20 20 64 6F    ..............do
00001000: 63 75 6D 65 6E 74 2E 77 72 69 74 65 28 27 3C 64    cument.write('<d
00001010: 69 76 20 73 74 79 6C 65 3D 22 70 6F 73 69 74 69    iv.style="positi
00001020: 6F 6E 3A 61 62 73 6F 6C 75 74 65 3B 74 6F 70 3A    on:absolute;top:
00001030: 30 70 78 3B 6C 65 66 74 3A 30 70 78 22 3E 3C 64    0px;left:0px"><d
00001040: 69 76 20 73 74 79 6C 65 3D 22 70 6F 73 69 74 69    iv.style="positi
00001050: 6F 6E 3A 72 65 6C 61 74 69 76 65 22 3E 27 29 3B    on:relative">');
00001060: 0A 0A 20 20 20 20 20 66 6F 72 20 28 69 3D 30 3B    .......for.(i=0;
00001070: 20 69 20 3C 20 4D 2E 6C 65 6E 67 74 68 3B 20 69    .i.<.M.length;.i
00001080: 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 64    ++).{..........d
00001090: 6F 63 75 6D 65 6E 74 2E 77 72 69 74 65 28 27 3C    ocument.write('<
000010a0: 64 69 76 20 69 64 3D 79 20 73 74 79 6C 65 3D 22    div.id=y.style="
000010b0: 70 6F 73 69 74 69 6F 6E 3A 61 62 73 6F 6C 75 74    position:absolut
000010c0: 65 3B 77 69 64 74 68 3A 32 70 78 3B 68 65 69 67    e;width:2px;heig
000010d0: 68 74 3A 32 70 78 3B 66 6F 6E 74 2D 73 69 7A 65    ht:2px;font-size
000010e0: 3A 32 70 78 3B 62 61 63 6B 67 72 6F 75 6E 64 3A    :2px;background:
000010f0: 27 2B 6D 43 6F 6C 2B 27 22 3E 3C 2F 64 69 76 3E    '+mCol+'"></div>
00001100: 27 29 3B 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20    ');......}......
00001110: 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74 65 28    .document.write(
00001120: 27 3C 2F 64 69 76 3E 3C 2F 64 69 76 3E 27 29 20    '</div></div>').
00001130: 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74 65 28 27    document.write('
00001140: 3C 64 69 76 20 73 74 79 6C 65 3D 22 70 6F 73 69    <div.style="posi
00001150: 74 69 6F 6E 3A 61 62 73 6F 6C 75 74 65 3B 74 6F    tion:absolute;to
00001160: 70 3A 30 70 78 3B 6C 65 66 74 3A 30 70 78 22 3E    p:0px;left:0px">
00001170: 3C 64 69 76 20 73 74 79 6C 65 3D 22 70 6F 73 69    <div.style="posi
00001180: 74 69 6F 6E 3A 72 65 6C 61 74 69 76 65 22 3E 27    tion:relative">'
00001190: 29 3B 0A 0A 20 20 20 20 20 66 6F 72 20 28 69 3D    );.......for.(i=
000011a0: 30 3B 20 69 20 3C 20 48 2E 6C 65 6E 67 74 68 3B    0;.i.<.H.length;
000011b0: 20 69 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20    .i++).{.........
000011c0: 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74 65 28    .document.write(
000011d0: 27 3C 64 69 76 20 69 64 3D 7A 20 73 74 79 6C 65    '<div.id=z.style
000011e0: 3D 22 70 6F 73 69 74 69 6F 6E 3A 61 62 73 6F 6C    ="position:absol
000011f0: 75 74 65 3B 77 69 64 74 68 3A 32 70 78 3B 68 65    ute;width:2px;he
00001200: 69 67 68 74 3A 32 70 78 3B 66 6F 6E 74 2D 73 69    ight:2px;font-si
00001210: 7A 65 3A 32 70 78 3B 62 61 63 6B 67 72 6F 75 6E    ze:2px;backgroun
00001220: 64 3A 27 2B 68 43 6F 6C 2B 27 22 3E 3C 2F 64 69    d:'+hCol+'"></di
00001230: 76 3E 27 29 3B 0A 20 20 20 20 20 7D 0A 0A 20 20    v>');......}....
00001240: 20 20 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74    ...document.writ
00001250: 65 28 27 3C 2F 64 69 76 3E 3C 2F 64 69 76 3E 27    e('</div></div>'
00001260: 29 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74 65    ).document.write
00001270: 28 27 3C 64 69 76 20 73 74 79 6C 65 3D 22 70 6F    ('<div.style="po
00001280: 73 69 74 69 6F 6E 3A 61 62 73 6F 6C 75 74 65 3B    sition:absolute;
00001290: 74 6F 70 3A 30 70 78 3B 6C 65 66 74 3A 30 70 78    top:0px;left:0px
000012a0: 22 3E 3C 64 69 76 20 73 74 79 6C 65 3D 22 70 6F    "><div.style="po
000012b0: 73 69 74 69 6F 6E 3A 72 65 6C 61 74 69 76 65 22    sition:relative"
000012c0: 3E 27 29 3B 0A 0A 20 20 20 20 20 66 6F 72 20 28    >');.......for.(
000012d0: 69 3D 30 3B 20 69 20 3C 20 53 2E 6C 65 6E 67 74    i=0;.i.<.S.lengt
000012e0: 68 3B 20 69 2B 2B 29 20 7B 0A 20 20 20 20 20 20    h;.i++).{.......
000012f0: 20 20 20 64 6F 63 75 6D 65 6E 74 2E 77 72 69 74    ...document.writ
00001300: 65 28 27 3C 64 69 76 20 69 64 3D 78 20 73 74 79    e('<div.id=x.sty
00001310: 6C 65 3D 22 70 6F 73 69 74 69 6F 6E 3A 61 62 73    le="position:abs
00001320: 6F 6C 75 74 65 3B 77 69 64 74 68 3A 32 70 78 3B    olute;width:2px;
00001330: 68 65 69 67 68 74 3A 32 70 78 3B 66 6F 6E 74 2D    height:2px;font-
00001340: 73 69 7A 65 3A 32 70 78 3B 62 61 63 6B 67 72 6F    size:2px;backgro
00001350: 75 6E 64 3A 27 2B 73 43 6F 6C 2B 27 22 3E 3C 2F    und:'+sCol+'"></
00001360: 64 69 76 3E 27 29 3B 0A 20 20 20 20 20 7D 0A 0A    div>');......}..
00001370: 20 20 20 20 20 64 6F 63 75 6D 65 6E 74 2E 77 72    .....document.wr
00001380: 69 74 65 28 27 3C 2F 64 69 76 3E 3C 2F 64 69 76    ite('</div></div
00001390: 3E 27 29 0A 20 7D 0A 0A 0A 0A 20 66 75 6E 63 74    >')..}.....funct
000013a0: 69 6F 6E 20 63 6C 6F 63 6B 28 29 20 7B 0A 20 20    ion.clock().{...
000013b0: 20 20 20 74 69 6D 65 3D 6E 65 77 20 44 61 74 65    ...time=new.Date
000013c0: 20 28 29 3B 0A 20 20 20 20 20 73 65 63 73 3D 74    .();......secs=t
000013d0: 69 6D 65 2E 67 65 74 53 65 63 6F 6E 64 73 28 29    ime.getSeconds()
000013e0: 3B 0A 20 20 20 20 20 73 65 63 3D 2D 31 2E 35 37    ;......sec=-1.57
000013f0: 2B 4D 61 74 68 2E 50 49 20 2A 20 73 65 63 73 2F    +Math.PI.*.secs/
00001400: 33 30 3B 0A 20 20 20 20 20 6D 69 6E 73 3D 74 69    30;......mins=ti
00001410: 6D 65 2E 67 65 74 4D 69 6E 75 74 65 73 28 29 3B    me.getMinutes();
00001420: 0A 20 20 20 20 20 6D 69 6E 3D 2D 31 2E 35 37 2B    ......min=-1.57+
00001430: 4D 61 74 68 2E 50 49 20 2A 20 6D 69 6E 73 2F 33    Math.PI.*.mins/3
00001440: 30 3B 0A 20 20 20 20 20 68 72 3D 74 69 6D 65 2E    0;......hr=time.
00001450: 67 65 74 48 6F 75 72 73 28 29 3B 0A 20 20 20 20    getHours();.....
00001460: 20 68 72 73 3D 2D 31 2E 35 37 2B 4D 61 74 68 2E    .hrs=-1.57+Math.
00001470: 50 49 20 2A 20 68 72 2F 36 2B 4D 61 74 68 2E 50    PI.*.hr/6+Math.P
00001480: 49 2A 70 61 72 73 65 49 6E 74 28 74 69 6D 65 2E    I*parseInt(time.
00001490: 67 65 74 4D 69 6E 75 74 65 73 28 29 29 2F 33 36    getMinutes())/36
000014a0: 30 3B 0A 0A 20 20 20 20 20 69 66 20 28 4E 53 36    0;.......if.(NS6
000014b0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 59 70 6F    ).{..........Ypo
000014c0: 73 3D 77 69 6E 64 6F 77 2E 70 61 67 65 59 4F 66    s=window.pageYOf
000014d0: 66 73 65 74 2B 77 69 6E 64 6F 77 2E 69 6E 6E 65    fset+window.inne
000014e0: 72 48 65 69 67 68 74 2D 59 62 61 73 65 2D 32 35    rHeight-Ybase-25
000014f0: 3B 0A 20 20 20 20 20 20 20 20 20 58 70 6F 73 3D    ;..........Xpos=
00001500: 77 69 6E 64 6F 77 2E 70 61 67 65 58 4F 66 66 73    window.pageXOffs
00001510: 65 74 2B 77 69 6E 64 6F 77 2E 69 6E 6E 65 72 57    et+window.innerW
00001520: 69 64 74 68 2D 58 62 61 73 65 2D 33 30 3B 0A 0A    idth-Xbase-30;..
00001530: 20 20 20 20 20 20 20 20 20 66 6F 72 20 28 69 3D    .........for.(i=
00001540: 31 3B 20 69 20 3C 20 64 6F 74 73 2B 31 3B 20 69    1;.i.<.dots+1;.i
00001550: 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ++).{...........
00001560: 20 20 20 64 6F 63 75 6D 65 6E 74 2E 67 65 74 45    ...document.getE
00001570: 6C 65 6D 65 6E 74 42 79 49 64 28 22 6E 36 44 69    lementById("n6Di
00001580: 67 69 74 73 22 2B 69 29 2E 73 74 79 6C 65 2E 74    gits"+i).style.t
00001590: 6F 70 3D 59 70 6F 73 2D 31 35 2B 59 62 61 73 65    op=Ypos-15+Ybase
000015a0: 2A 4D 61 74 68 2E 73 69 6E 28 2D 31 2E 35 36 20    *Math.sin(-1.56.
000015b0: 2B 69 20 2A 53 70 6C 69 74 2A 4D 61 74 68 2E 50    +i.*Split*Math.P
000015c0: 49 2F 31 38 30 29 20 64 6F 63 75 6D 65 6E 74 2E    I/180).document.
000015d0: 67 65 74 45 6C 65 6D 65 6E 74 42 79 49 64 28 22    getElementById("
000015e0: 6E 36 44 69 67 69 74 73 22 2B 69 29 2E 73 74 79    n6Digits"+i).sty
000015f0: 6C 65 2E 6C 65 66 74 3D 58 70 6F 73 2D 31 35 2B    le.left=Xpos-15+
00001600: 58 62 61 73 65 2A 4D 61 74 68 2E 63 6F 73 28 2D    Xbase*Math.cos(-
00001610: 31 2E 35 36 20 2B 69 2A 53 70 6C 69 74 2A 4D 61    1.56.+i*Split*Ma
00001620: 74 68 2E 50 49 2F 31 38 30 29 0A 20 20 20 20 20    th.PI/180)......
00001630: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00001640: 66 6F 72 20 28 69 3D 30 3B 20 69 20 3C 20 53 2E    for.(i=0;.i.<.S.
00001650: 6C 65 6E 67 74 68 3B 20 69 2B 2B 29 20 7B 0A 20    length;.i++).{..
00001660: 20 20 20 20 20 20 20 20 20 20 20 20 64 6F 63 75    ............docu
00001670: 6D 65 6E 74 2E 67 65 74 45 6C 65 6D 65 6E 74 42    ment.getElementB
00001680: 79 49 64 28 22 4E 78 22 2B 69 29 2E 73 74 79 6C    yId("Nx"+i).styl
00001690: 65 2E 74 6F 70 3D 59 70 6F 73 2B 69 2A 59 62 61    e.top=Ypos+i*Yba
000016a0: 73 65 2F 34 2E 31 2A 4D 61 74 68 2E 73 69 6E 28    se/4.1*Math.sin(
000016b0: 73 65 63 29 3B 0A 20 20 20 20 20 20 20 20 20 20    sec);...........
000016c0: 20 20 20 64 6F 63 75 6D 65 6E 74 2E 67 65 74 45    ...document.getE
000016d0: 6C 65 6D 65 6E 74 42 79 49 64 28 22 4E 78 22 2B    lementById("Nx"+
000016e0: 69 29 2E 73 74 79 6C 65 2E 6C 65 66 74 3D 58 70    i).style.left=Xp
000016f0: 6F 73 2B 69 2A 58 62 61 73 65 2F 34 2E 31 2A 4D    os+i*Xbase/4.1*M
00001700: 61 74 68 2E 63 6F 73 28 73 65 63 29 3B 0A 20 20    ath.cos(sec);...
00001710: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00001720: 20 20 20 66 6F 72 20 28 69 3D 30 3B 20 69 20 3C    ...for.(i=0;.i.<
00001730: 20 4D 2E 6C 65 6E 67 74 68 3B 20 69 2B 2B 29 20    .M.length;.i++).
00001740: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 64    {..............d
00001750: 6F 63 75 6D 65 6E 74 2E 67 65 74 45 6C 65 6D 65    ocument.getEleme
00001760: 6E 74 42 79 49 64 28 22 4E 79 22 2B 69 29 2E 73    ntById("Ny"+i).s
00001770: 74 79 6C 65 2E 74 6F 70 3D 59 70 6F 73 2B 69 2A    tyle.top=Ypos+i*
00001780: 59 62 61 73 65 2F 34 2E 31 2A 4D 61 74 68 2E 73    Ybase/4.1*Math.s
00001790: 69 6E 28 6D 69 6E 29 3B 0A 20 20 20 20 20 20 20    in(min);........
000017a0: 20 20 20 20 20 20 64 6F 63 75 6D 65 6E 74 2E 67    ......document.g
000017b0: 65 74 45 6C 65 6D 65 6E 74 42 79 49 64 28 22 4E    etElementById("N
000017c0: 79 22 2B 69 29 2E 73 74 79 6C 65 2E 6C 65 66 74    y"+i).style.left
000017d0: 3D 58 70 6F 73 2B 69 2A 58 62 61 73 65 2F 34 2E    =Xpos+i*Xbase/4.
000017e0: 31 2A 4D 61 74 68 2E 63 6F 73 28 6D 69 6E 29 3B    1*Math.cos(min);
000017f0: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00001800: 20 20 20 20 20 20 66 6F 72 20 28 69 3D 30 3B 20    ......for.(i=0;.
00001810: 69 20 3C 20 48 2E 6C 65 6E 67 74 68 3B 20 69 2B    i.<.H.length;.i+
00001820: 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    +).{............
00001830: 20 20 64 6F 63 75 6D 65 6E 74 2E 67 65 74 45 6C    ..document.getEl
00001840: 65 6D 65 6E 74 42 79 49 64 28 22 4E 7A 22 2B 69    ementById("Nz"+i
00001850: 29 2E 73 74 79 6C 65 2E 74 6F 70 3D 59 70 6F 73    ).style.top=Ypos
00001860: 2B 69 2A 59 62 61 73 65 2F 34 2E 31 2A 4D 61 74    +i*Ybase/4.1*Mat
00001870: 68 2E 73 69 6E 28 68 72 73 29 3B 0A 20 20 20 20    h.sin(hrs);.....
00001880: 20 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65 6E    .........documen
00001890: 74 2E 67 65 74 45 6C 65 6D 65 6E 74 42 79 49 64    t.getElementById
000018a0: 28 22 4E 7A 22 2B 69 29 2E 73 74 79 6C 65 2E 6C    ("Nz"+i).style.l
000018b0: 65 66 74 3D 58 70 6F 73 2B 69 2A 58 62 61 73 65    eft=Xpos+i*Xbase
000018c0: 2F 34 2E 31 2A 4D 61 74 68 2E 63 6F 73 28 68 72    /4.1*Math.cos(hr
000018d0: 73 29 3B 0A 20 20 20 20 20 20 20 20 20 7D 0A 20    s);..........}..
000018e0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 69 66 20 28    ....}.......if.(
000018f0: 4E 53 34 29 20 7B 0A 20 20 20 20 20 20 20 20 20    NS4).{..........
00001900: 59 70 6F 73 3D 77 69 6E 64 6F 77 2E 70 61 67 65    Ypos=window.page
00001910: 59 4F 66 66 73 65 74 2B 77 69 6E 64 6F 77 2E 69    YOffset+window.i
00001920: 6E 6E 65 72 48 65 69 67 68 74 2D 59 62 61 73 65    nnerHeight-Ybase
00001930: 2D 32 30 3B 0A 20 20 20 20 20 20 20 20 20 58 70    -20;..........Xp
00001940: 6F 73 3D 77 69 6E 64 6F 77 2E 70 61 67 65 58 4F    os=window.pageXO
00001950: 66 66 73 65 74 2B 77 69 6E 64 6F 77 2E 69 6E 6E    ffset+window.inn
00001960: 65 72 57 69 64 74 68 2D 58 62 61 73 65 2D 33 30    erWidth-Xbase-30
00001970: 3B 0A 0A 20 20 20 20 20 20 20 20 20 66 6F 72 20    ;...........for.
00001980: 28 69 3D 30 3B 20 69 20 3C 20 64 6F 74 73 3B 20    (i=0;.i.<.dots;.
00001990: 2B 2B 69 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ++i).{..........
000019a0: 20 20 20 20 64 6F 63 75 6D 65 6E 74 2E 6C 61 79    ....document.lay
000019b0: 65 72 73 5B 22 6E 73 44 69 67 69 74 73 22 2B 69    ers["nsDigits"+i
000019c0: 5D 2E 74 6F 70 3D 59 70 6F 73 2D 35 2B 59 62 61    ].top=Ypos-5+Yba
000019d0: 73 65 2A 4D 61 74 68 2E 73 69 6E 28 2D 31 2E 30    se*Math.sin(-1.0
000019e0: 34 35 20 2B 69 2A 53 70 6C 69 74 2A 4D 61 74 68    45.+i*Split*Math
000019f0: 2E 50 49 2F 31 38 30 29 20 64 6F 63 75 6D 65 6E    .PI/180).documen
00001a00: 74 2E 6C 61 79 65 72 73 5B 22 6E 73 44 69 67 69    t.layers["nsDigi
00001a10: 74 73 22 2B 69 5D 2E 6C 65 66 74 3D 58 70 6F 73    ts"+i].left=Xpos
00001a20: 2D 31 35 2B 58 62 61 73 65 2A 4D 61 74 68 2E 63    -15+Xbase*Math.c
00001a30: 6F 73 28 2D 31 2E 30 34 35 20 2B 69 2A 53 70 6C    os(-1.045.+i*Spl
00001a40: 69 74 2A 4D 61 74 68 2E 50 49 2F 31 38 30 29 0A    it*Math.PI/180).
00001a50: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00001a60: 20 20 20 20 20 66 6F 72 20 28 69 3D 30 3B 20 69    .....for.(i=0;.i
00001a70: 20 3C 20 53 2E 6C 65 6E 67 74 68 3B 20 69 2B 2B    .<.S.length;.i++
00001a80: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00001a90: 20 64 6F 63 75 6D 65 6E 74 2E 6C 61 79 65 72 73    .document.layers
00001aa0: 5B 22 6E 78 22 2B 69 5D 2E 74 6F 70 3D 59 70 6F    ["nx"+i].top=Ypo
00001ab0: 73 2B 69 2A 59 62 61 73 65 2F 34 2E 31 2A 4D 61    s+i*Ybase/4.1*Ma
00001ac0: 74 68 2E 73 69 6E 28 73 65 63 29 3B 0A 20 20 20    th.sin(sec);....
00001ad0: 20 20 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65    ..........docume
00001ae0: 6E 74 2E 6C 61 79 65 72 73 5B 22 6E 78 22 2B 69    nt.layers["nx"+i
00001af0: 5D 2E 6C 65 66 74 3D 58 70 6F 73 2B 69 2A 58 62    ].left=Xpos+i*Xb
00001b00: 61 73 65 2F 34 2E 31 2A 4D 61 74 68 2E 63 6F 73    ase/4.1*Math.cos
00001b10: 28 73 65 63 29 3B 0A 20 20 20 20 20 20 20 20 20    (sec);..........
00001b20: 7D 0A 0A 20 20 20 20 20 20 20 20 20 66 6F 72 20    }...........for.
00001b30: 28 69 3D 30 3B 20 69 20 3C 20 4D 2E 6C 65 6E 67    (i=0;.i.<.M.leng
00001b40: 74 68 3B 20 69 2B 2B 29 20 7B 0A 20 20 20 20 20    th;.i++).{......
00001b50: 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65 6E 74    ........document
00001b60: 2E 6C 61 79 65 72 73 5B 22 6E 79 22 2B 69 5D 2E    .layers["ny"+i].
00001b70: 74 6F 70 3D 59 70 6F 73 2B 69 2A 59 62 61 73 65    top=Ypos+i*Ybase
00001b80: 2F 34 2E 31 2A 4D 61 74 68 2E 73 69 6E 28 6D 69    /4.1*Math.sin(mi
00001b90: 6E 29 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20    n);.............
00001ba0: 20 64 6F 63 75 6D 65 6E 74 2E 6C 61 79 65 72 73    .document.layers
00001bb0: 5B 22 6E 79 22 2B 69 5D 2E 6C 65 66 74 3D 58 70    ["ny"+i].left=Xp
00001bc0: 6F 73 2B 69 2A 58 62 61 73 65 2F 34 2E 31 2A 4D    os+i*Xbase/4.1*M
00001bd0: 61 74 68 2E 63 6F 73 28 6D 69 6E 29 3B 0A 20 20    ath.cos(min);...
00001be0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00001bf0: 20 20 20 66 6F 72 20 28 69 3D 30 3B 20 69 20 3C    ...for.(i=0;.i.<
00001c00: 20 48 2E 6C 65 6E 67 74 68 3B 20 69 2B 2B 29 20    .H.length;.i++).
00001c10: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 64    {..............d
00001c20: 6F 63 75 6D 65 6E 74 2E 6C 61 79 65 72 73 5B 22    ocument.layers["
00001c30: 6E 7A 22 2B 69 5D 2E 74 6F 70 3D 59 70 6F 73 2B    nz"+i].top=Ypos+
00001c40: 69 2A 59 62 61 73 65 2F 34 2E 31 2A 4D 61 74 68    i*Ybase/4.1*Math
00001c50: 2E 73 69 6E 28 68 72 73 29 3B 0A 20 20 20 20 20    .sin(hrs);......
00001c60: 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65 6E 74    ........document
00001c70: 2E 6C 61 79 65 72 73 5B 22 6E 7A 22 2B 69 5D 2E    .layers["nz"+i].
00001c80: 6C 65 66 74 3D 58 70 6F 73 2B 69 2A 58 62 61 73    left=Xpos+i*Xbas
00001c90: 65 2F 34 2E 31 2A 4D 61 74 68 2E 63 6F 73 28 68    e/4.1*Math.cos(h
00001ca0: 72 73 29 3B 0A 20 20 20 20 20 20 20 20 20 7D 0A    rs);..........}.
00001cb0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 69 66 20    .....}.......if.
00001cc0: 28 49 45 34 29 20 7B 0A 20 20 20 20 20 20 20 20    (IE4).{.........
00001cd0: 20 59 70 6F 73 3D 64 6F 63 75 6D 65 6E 74 2E 62    .Ypos=document.b
00001ce0: 6F 64 79 2E 73 63 72 6F 6C 6C 54 6F 70 2B 77 69    ody.scrollTop+wi
00001cf0: 6E 64 6F 77 2E 64 6F 63 75 6D 65 6E 74 2E 62 6F    ndow.document.bo
00001d00: 64 79 2E 63 6C 69 65 6E 74 48 65 69 67 68 74 2D    dy.clientHeight-
00001d10: 59 62 61 73 65 2D 32 30 3B 0A 20 20 20 20 20 20    Ybase-20;.......
00001d20: 20 20 20 58 70 6F 73 3D 64 6F 63 75 6D 65 6E 74    ...Xpos=document
00001d30: 2E 62 6F 64 79 2E 73 63 72 6F 6C 6C 4C 65 66 74    .body.scrollLeft
00001d40: 2B 77 69 6E 64 6F 77 2E 64 6F 63 75 6D 65 6E 74    +window.document
00001d50: 2E 62 6F 64 79 2E 63 6C 69 65 6E 74 57 69 64 74    .body.clientWidt
00001d60: 68 2D 58 62 61 73 65 2D 32 30 3B 0A 0A 20 20 20    h-Xbase-20;.....
00001d70: 20 20 20 20 20 20 66 6F 72 20 28 69 3D 30 3B 20    ......for.(i=0;.
00001d80: 69 20 3C 20 64 6F 74 73 3B 20 2B 2B 69 29 20 7B    i.<.dots;.++i).{
00001d90: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69 65    ..............ie
00001da0: 44 69 67 69 74 73 5B 69 5D 2E 73 74 79 6C 65 2E    Digits[i].style.
00001db0: 70 69 78 65 6C 54 6F 70 3D 59 70 6F 73 2D 31 35    pixelTop=Ypos-15
00001dc0: 2B 59 62 61 73 65 2A 4D 61 74 68 2E 73 69 6E 28    +Ybase*Math.sin(
00001dd0: 2D 31 2E 30 34 35 20 2B 69 20 2A 53 70 6C 69 74    -1.045.+i.*Split
00001de0: 2A 4D 61 74 68 2E 50 49 2F 31 38 30 29 20 69 65    *Math.PI/180).ie
00001df0: 44 69 67 69 74 73 5B 69 5D 2E 73 74 79 6C 65 2E    Digits[i].style.
00001e00: 70 69 78 65 6C 4C 65 66 74 3D 58 70 6F 73 2D 31    pixelLeft=Xpos-1
00001e10: 35 2B 58 62 61 73 65 2A 4D 61 74 68 2E 63 6F 73    5+Xbase*Math.cos
00001e20: 28 2D 31 2E 30 34 35 20 2B 69 20 2A 53 70 6C 69    (-1.045.+i.*Spli
00001e30: 74 2A 4D 61 74 68 2E 50 49 2F 31 38 30 29 0A 20    t*Math.PI/180)..
00001e40: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00001e50: 20 20 20 20 66 6F 72 20 28 69 3D 30 3B 20 69 20    ....for.(i=0;.i.
00001e60: 3C 20 53 2E 6C 65 6E 67 74 68 3B 20 69 2B 2B 29    <.S.length;.i++)
00001e70: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00001e80: 78 5B 69 5D 2E 73 74 79 6C 65 2E 70 69 78 65 6C    x[i].style.pixel
00001e90: 54 6F 70 3D 59 70 6F 73 2B 69 2A 59 62 61 73 65    Top=Ypos+i*Ybase
00001ea0: 2F 34 2E 31 2A 4D 61 74 68 2E 73 69 6E 28 73 65    /4.1*Math.sin(se
00001eb0: 63 29 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20    c);.............
00001ec0: 20 78 5B 69 5D 2E 73 74 79 6C 65 2E 70 69 78 65    .x[i].style.pixe
00001ed0: 6C 4C 65 66 74 3D 58 70 6F 73 2B 69 2A 58 62 61    lLeft=Xpos+i*Xba
00001ee0: 73 65 2F 34 2E 31 2A 4D 61 74 68 2E 63 6F 73 28    se/4.1*Math.cos(
00001ef0: 73 65 63 29 3B 0A 20 20 20 20 20 20 20 20 20 7D    sec);..........}
00001f00: 0A 0A 20 20 20 20 20 20 20 20 20 66 6F 72 20 28    ...........for.(
00001f10: 69 3D 30 3B 20 69 20 3C 20 4D 2E 6C 65 6E 67 74    i=0;.i.<.M.lengt
00001f20: 68 3B 20 69 2B 2B 29 20 7B 0A 20 20 20 20 20 20    h;.i++).{.......
00001f30: 20 20 20 20 20 20 20 79 5B 69 5D 2E 73 74 79 6C    .......y[i].styl
00001f40: 65 2E 70 69 78 65 6C 54 6F 70 3D 59 70 6F 73 2B    e.pixelTop=Ypos+
00001f50: 69 2A 59 62 61 73 65 2F 34 2E 37 2A 4D 61 74 68    i*Ybase/4.7*Math
00001f60: 2E 73 69 6E 28 6D 69 6E 29 3B 0A 20 20 20 20 20    .sin(min);......
00001f70: 20 20 20 20 20 20 20 20 79 5B 69 5D 2E 73 74 79    ........y[i].sty
00001f80: 6C 65 2E 70 69 78 65 6C 4C 65 66 74 3D 58 70 6F    le.pixelLeft=Xpo
00001f90: 73 2B 69 2A 58 62 61 73 65 2F 34 2E 31 2A 4D 61    s+i*Xbase/4.1*Ma
00001fa0: 74 68 2E 63 6F 73 28 6D 69 6E 29 3B 0A 20 20 20    th.cos(min);....
00001fb0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00001fc0: 20 20 66 6F 72 20 28 69 3D 30 3B 20 69 20 3C 20    ..for.(i=0;.i.<.
00001fd0: 48 2E 6C 65 6E 67 74 68 3B 20 69 2B 2B 29 20 7B    H.length;.i++).{
00001fe0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7A 5B    ..............z[
00001ff0: 69 5D 2E 73 74 79 6C 65 2E 70 69 78 65 6C 54 6F    i].style.pixelTo
00002000: 70 3D 59 70 6F 73 2B 69 2A 59 62 61 73 65 2F 34    p=Ypos+i*Ybase/4
00002010: 2E 31 2A 4D 61 74 68 2E 73 69 6E 28 68 72 73 29    .1*Math.sin(hrs)
00002020: 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7A    ;..............z
00002030: 5B 69 5D 2E 73 74 79 6C 65 2E 70 69 78 65 6C 4C    [i].style.pixelL
00002040: 65 66 74 3D 58 70 6F 73 2B 69 2A 58 62 61 73 65    eft=Xpos+i*Xbase
00002050: 2F 34 2E 31 2A 4D 61 74 68 2E 63 6F 73 28 68 72    /4.1*Math.cos(hr
00002060: 73 29 3B 0A 20 20 20 20 20 20 20 20 20 7D 0A 20    s);..........}..
00002070: 20 20 20 20 7D 0A 0A 20 20 20 20 20 73 65 74 54    ....}.......setT
00002080: 69 6D 65 6F 75 74 28 27 63 6C 6F 63 6B 28 29 27    imeout('clock()'
00002090: 2C 20 31 30 30 29 3B 0A 20 7D 0A 0A 20 63 6C 6F    ,.100);..}...clo
000020a0: 63 6B 28 29 3B 0A 20 2F 2F 2D 2D 3E 0A 0A 0A 0A    ck();..//-->....
000020b0: 20 66 43 6F 6C 3D 27 34 34 34 34 34 34 27 3B 20    .fCol='444444';.
000020c0: 2F 2F 66 61 63 65 20 63 6F 6C 6F 75 72 2E 0A 20    //face.colour...
000020d0: 73 43 6F 6C 3D 27 46 46 30 30 30 30 27 3B 20 2F    sCol='FF0000';./
000020e0: 2F 73 65 63 6F 6E 64 73 20 63 6F 6C 6F 75 72 2E    /seconds.colour.
000020f0: 0A 20 6D 43 6F 6C 3D 27 34 34 34 34 34 34 27 3B    ..mCol='444444';
00002100: 20 2F 2F 6D 69 6E 75 74 65 73 20 63 6F 6C 6F 75    .//minutes.colou
00002110: 72 2E 0A 20 68 43 6F 6C 3D 27 34 34 34 34 34 34    r...hCol='444444
00002120: 27 3B 20 2F 2F 68 6F 75 72 73 20 63 6F 6C 6F 75    ';.//hours.colou
00002130: 72 2E 0A 0A 20 59 62 61 73 65 3D 33 30 3B 20 2F    r....Ybase=30;./
00002140: 2F 43 6C 6F 63 6B 20 68 65 69 67 68 74 2E 0A 20    /Clock.height...
00002150: 58 62 61 73 65 3D 33 30 3B 20 2F 2F 43 6C 6F 63    Xbase=30;.//Cloc
00002160: 6B 20 77 69 64 74 68 2E 0A 0A 0A 0A 20 2F 2A 20    k.width....../*.
00002170: 20 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23    .###############
00002180: 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23    ################
00002190: 23 23 23 23 23 23 23 23 23 23 23 0A 2A 0A 2A 0A    ###########.*.*.
000021a0: 2A 20 20 20 20 20 43 61 6C 63 75 6C 61 74 6F 72    *.....Calculator
000021b0: 20 53 43 52 49 50 54 20 0A 2A 0A 2A 20 20 20 20    .SCRIPT..*.*....
000021c0: 0A 0A 2A 20 20 54 68 69 73 20 53 43 52 49 50 54    ..*..This.SCRIPT
000021d0: 20 49 53 20 44 45 53 49 47 4E 45 44 20 54 4F 20    .IS.DESIGNED.TO.
000021e0: 4E 41 54 55 52 41 4C 4C 59 20 47 45 4E 45 52 41    NATURALLY.GENERA
000021f0: 54 45 20 53 45 43 55 52 45 44 20 43 41 43 48 45    TE.SECURED.CACHE
00002200: 2C 20 45 56 45 4E 20 54 48 4F 55 47 48 20 54 48    ,.EVEN.THOUGH.TH
00002210: 45 20 57 45 42 20 42 52 4F 57 53 45 52 20 44 4F    E.WEB.BROWSER.DO
00002220: 45 53 4E 27 54 20 53 41 59 20 4E 4F 20 43 4F 4E    ESN'T.SAY.NO.CON
00002230: 4E 45 43 54 49 4F 4E 20 49 53 20 53 45 43 55 52    NECTION.IS.SECUR
00002240: 45 2E 20 0A 0A 2A 0A 0A 2A 0A 0A 2A 0A 2A 0A 0A    E....*..*..*.*..
00002250: 2A 0A 2A 0A 0A 2A 0A 2A 0A 2A 0A 2A 0A 0A 2A 0A    *.*..*.*.*.*..*.
00002260: 2A 0A 2A 0A 0A 2F 2A 20 23 23 23 23 23 23 23 23    *.*../*.########
00002270: 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23    ################
00002280: 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23 23    ################
00002290: 23 23 23 23 20 2A 2F 0A 0A 20 76 61 72 20 6B 65    ####.*/...var.ke
000022a0: 79 73 3D 64 6F 63 75 6D 65 6E 74 2E 71 75 65 72    ys=document.quer
000022b0: 79 53 65 6C 65 63 74 6F 72 41 6C 6C 28 27 23 63    ySelectorAll('#c
000022c0: 61 6C 63 75 6C 61 74 6F 72 20 73 70 61 6E 27 29    alculator.span')
000022d0: 3B 0A 20 76 61 72 20 6F 70 65 72 61 74 6F 72 73    ;..var.operators
000022e0: 3D 5B 27 2B 27 2C 0A 20 27 2D 27 2C 0A 20 27 78    =['+',..'-',..'x
000022f0: 27 2C 0A 20 27 C3 B7 27 5D 3B 0A 20 76 61 72 20    ',..'C7'];..var.
00002300: 64 65 63 69 6D 61 6C 41 64 64 65 64 3D 66 61 6C    decimalAdded=fal
00002310: 73 65 3B 0A 0A 0A 20 66 6F 72 28 76 61 72 20 69    se;....for(var.i
00002320: 3D 30 3B 20 69 20 3C 20 6B 65 79 73 2E 6C 65 6E    =0;.i.<.keys.len
00002330: 67 74 68 3B 20 69 2B 2B 29 20 7B 0A 20 20 20 20    gth;.i++).{.....
00002340: 20 6B 65 79 73 5B 69 5D 2E 6F 6E 63 6C 69 63 6B    .keys[i].onclick
00002350: 3D 66 75 6E 63 74 69 6F 6E 28 65 29 20 7B 0A 0A    =function(e).{..
00002360: 20 20 20 20 20 20 20 20 20 76 61 72 20 69 6E 70    .........var.inp
00002370: 75 74 3D 64 6F 63 75 6D 65 6E 74 2E 71 75 65 72    ut=document.quer
00002380: 79 53 65 6C 65 63 74 6F 72 28 27 2E 73 63 72 65    ySelector('.scre
00002390: 65 6E 27 29 3B 0A 20 20 20 20 20 20 20 20 20 76    en');..........v
000023a0: 61 72 20 69 6E 70 75 74 56 61 6C 3D 69 6E 70 75    ar.inputVal=inpu
000023b0: 74 2E 69 6E 6E 65 72 48 54 4D 4C 3B 0A 20 20 20    t.innerHTML;....
000023c0: 20 20 20 20 20 20 76 61 72 20 62 74 6E 56 61 6C    ......var.btnVal
000023d0: 3D 74 68 69 73 2E 69 6E 6E 65 72 48 54 4D 4C 3B    =this.innerHTML;
000023e0: 0A 20 20 20 20 20 20 20 20 20 76 61 72 20 74 6F    ..........var.to
000023f0: 74 61 6C 3B 0A 0A 20 20 20 20 20 20 20 20 20 69    tal;...........i
00002400: 66 28 62 74 6E 56 61 6C 3D 3D 27 43 27 29 20 7B    f(btnVal=='C').{
00002410: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69 6E    ..............in
00002420: 70 75 74 2E 69 6E 6E 65 72 48 54 4D 4C 3D 27 27    put.innerHTML=''
00002430: 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 64    ;..............d
00002440: 65 63 69 6D 61 6C 41 64 64 65 64 3D 66 61 6C 73    ecimalAdded=fals
00002450: 65 3B 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    e;..........}...
00002460: 20 20 20 20 20 20 20 20 65 6C 73 65 20 69 66 28    ........else.if(
00002470: 62 74 6E 56 61 6C 3D 3D 27 3D 27 29 20 7B 0A 20    btnVal=='=').{..
00002480: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
00002490: 65 71 75 61 74 69 6F 6E 3D 69 6E 70 75 74 56 61    equation=inputVa
000024a0: 6C 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    l;..............
000024b0: 76 61 72 20 6C 61 73 74 43 68 61 72 3D 65 71 75    var.lastChar=equ
000024c0: 61 74 69 6F 6E 5B 65 71 75 61 74 69 6F 6E 2E 6C    ation[equation.l
000024d0: 65 6E 67 74 68 20 2D 20 31 5D 3B 0A 0A 20 20 20    ength.-.1];.....
000024e0: 20 20 20 20 20 20 20 20 20 20 65 71 75 61 74 69    ..........equati
000024f0: 6F 6E 3D 65 71 75 61 74 69 6F 6E 2E 72 65 70 6C    on=equation.repl
00002500: 61 63 65 28 2F 78 2F 67 2C 20 27 2A 27 29 2E 72    ace(/x/g,.'*').r
00002510: 65 70 6C 61 63 65 28 2F C3 B7 2F 67 2C 20 27 2F    eplace(/C7/g,.'/
00002520: 27 29 3B 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ');.............
00002530: 20 20 69 66 28 6F 70 65 72 61 74 6F 72 73 2E 69    ..if(operators.i
00002540: 6E 64 65 78 4F 66 28 6C 61 73 74 43 68 61 72 29    ndexOf(lastChar)
00002550: 20 3E 20 2D 31 20 7C 7C 20 6C 61 73 74 43 68 61    .>.-1.||.lastCha
00002560: 72 3D 3D 27 2E 27 29 20 65 71 75 61 74 69 6F 6E    r=='.').equation
00002570: 3D 65 71 75 61 74 69 6F 6E 2E 72 65 70 6C 61 63    =equation.replac
00002580: 65 28 2F 2E 24 2F 2C 20 27 27 29 3B 0A 0A 20 20    e(/.$/,.'');....
00002590: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 65 71    ...........if(eq
000025a0: 75 61 74 69 6F 6E 29 20 7B 0A 20 20 20 20 20 20    uation).{.......
000025b0: 20 20 20 20 20 20 20 20 20 20 20 74 6F 74 61 6C    ...........total
000025c0: 3D 65 76 61 6C 28 65 71 75 61 74 69 6F 6E 29 3B    =eval(equation);
000025d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000025e0: 20 20 69 66 28 74 6F 74 61 6C 2E 74 6F 53 74 72    ..if(total.toStr
000025f0: 69 6E 67 28 29 2E 69 6E 64 65 78 4F 66 28 27 2E    ing().indexOf('.
00002600: 27 29 20 21 3D 2D 31 29 20 74 6F 74 61 6C 3D 74    ').!=-1).total=t
00002610: 6F 74 61 6C 2E 74 6F 46 69 78 65 64 28 32 29 3B    otal.toFixed(2);
00002620: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00002630: 20 20 20 69 6E 70 75 74 2E 69 6E 6E 65 72 48 54    ...input.innerHT
00002640: 4D 4C 3D 74 6F 74 61 6C 3B 0A 20 20 20 20 20 20    ML=total;.......
00002650: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00002660: 20 20 20 20 20 20 20 64 65 63 69 6D 61 6C 41 64    .......decimalAd
00002670: 64 65 64 3D 66 61 6C 73 65 3B 0A 20 20 20 20 20    ded=false;......
00002680: 20 20 20 20 7D 0A 0A 0A 20 20 20 20 20 20 20 20    ....}...........
00002690: 20 65 6C 73 65 20 69 66 28 6F 70 65 72 61 74 6F    .else.if(operato
000026a0: 72 73 2E 69 6E 64 65 78 4F 66 28 62 74 6E 56 61    rs.indexOf(btnVa
000026b0: 6C 29 20 3E 20 2D 31 29 20 7B 0A 0A 20 20 20 20    l).>.-1).{......
000026c0: 20 20 20 20 20 20 20 20 20 76 61 72 20 6C 61 73    .........var.las
000026d0: 74 43 68 61 72 3D 69 6E 70 75 74 56 61 6C 5B 69    tChar=inputVal[i
000026e0: 6E 70 75 74 56 61 6C 2E 6C 65 6E 67 74 68 20 2D    nputVal.length.-
000026f0: 20 31 5D 3B 0A 0A 20 20 20 20 20 20 20 20 20 20    .1];............
00002700: 20 20 20 69 66 28 69 6E 70 75 74 56 61 6C 20 21    ...if(inputVal.!
00002710: 3D 27 27 26 26 20 6F 70 65 72 61 74 6F 72 73 2E    =''&&.operators.
00002720: 69 6E 64 65 78 4F 66 28 6C 61 73 74 43 68 61 72    indexOf(lastChar
00002730: 29 3D 3D 2D 31 29 20 69 6E 70 75 74 2E 69 6E 6E    )==-1).input.inn
00002740: 65 72 48 54 4D 4C 2B 3D 62 74 6E 56 61 6C 3B 0A    erHTML+=btnVal;.
00002750: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 65 6C    ..............el
00002760: 73 65 20 69 66 28 69 6E 70 75 74 56 61 6C 3D 3D    se.if(inputVal==
00002770: 27 27 26 26 20 62 74 6E 56 61 6C 3D 3D 27 2D 27    ''&&.btnVal=='-'
00002780: 29 20 69 6E 70 75 74 2E 69 6E 6E 65 72 48 54 4D    ).input.innerHTM
00002790: 4C 2B 3D 62 74 6E 56 61 6C 3B 0A 0A 20 20 20 20    L+=btnVal;......
000027a0: 20 20 20 20 20 20 20 20 20 69 66 28 6F 70 65 72    .........if(oper
000027b0: 61 74 6F 72 73 2E 69 6E 64 65 78 4F 66 28 6C 61    ators.indexOf(la
000027c0: 73 74 43 68 61 72 29 20 3E 20 2D 31 20 26 26 20    stChar).>.-1.&&.
000027d0: 69 6E 70 75 74 56 61 6C 2E 6C 65 6E 67 74 68 20    inputVal.length.
000027e0: 3E 20 31 29 20 7B 0A 20 20 20 20 20 20 20 20 20    >.1).{..........
000027f0: 20 20 20 20 20 20 20 20 69 6E 70 75 74 2E 69 6E    ........input.in
00002800: 6E 65 72 48 54 4D 4C 3D 69 6E 70 75 74 56 61 6C    nerHTML=inputVal
00002810: 2E 72 65 70 6C 61 63 65 28 2F 2E 24 2F 2C 20 62    .replace(/.$/,.b
00002820: 74 6E 56 61 6C 29 3B 0A 20 20 20 20 20 20 20 20    tnVal);.........
00002830: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00002840: 20 20 20 20 20 64 65 63 69 6D 61 6C 41 64 64 65    .....decimalAdde
00002850: 64 3D 66 61 6C 73 65 3B 0A 20 20 20 20 20 20 20    d=false;........
00002860: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 65 6C    ..}...........el
00002870: 73 65 20 69 66 28 62 74 6E 56 61 6C 3D 3D 27 2E    se.if(btnVal=='.
00002880: 27 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ').{............
00002890: 20 20 69 66 28 20 21 64 65 63 69 6D 61 6C 41 64    ..if(.!decimalAd
000028a0: 64 65 64 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ded).{..........
000028b0: 20 20 20 20 20 20 20 20 69 6E 70 75 74 2E 69 6E    ........input.in
000028c0: 6E 65 72 48 54 4D 4C 2B 3D 62 74 6E 56 61 6C 3B    nerHTML+=btnVal;
000028d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000028e0: 20 20 64 65 63 69 6D 61 6C 41 64 64 65 64 3D 74    ..decimalAdded=t
000028f0: 72 75 65 3B 0A 20 20 20 20 20 20 20 20 20 20 20    rue;............
00002900: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    ..}..........}..
00002910: 20 20 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A    .........else.{.
00002920: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 6E 70    .............inp
00002930: 75 74 2E 69 6E 6E 65 72 48 54 4D 4C 2B 3D 62 74    ut.innerHTML+=bt
00002940: 6E 56 61 6C 3B 0A 20 20 20 20 20 20 20 20 20 7D    nVal;..........}
00002950: 0A 0A 20 20 20 20 20 20 20 20 20 65 2E 70 72 65    ...........e.pre
00002960: 76 65 6E 74 44 65 66 61 75 6C 74 28 29 3B 0A 20    ventDefault();..
00002970: 20 20 20 20 7D 0A 20 7D 0A 0A 20 2F 2F 45 4E 44    ....}..}...//END
00002980: 0A 0A 0A 0A 0A 0A 0A 0A 0A 0A 0A 0A 0A 0A 20 20    ................
00002990: 20 20 20 7B 0A 20 20 20 20 20 2F 2F 68 58 7D 0A    ...{......//hX}.
000029a0: 0A 0A 0A 0A 20 20 20 20 20 66 6F 69 6C 5F 69 6E    .........foil_in
000029b0: 66 6F 3D 74 72 75 65 3B 0A 0A 0A 0A 0A 0A 20 20    fo=true;........
000029c0: 20 20 20 2F 2F 20 63 6F 6E 73 6F 6C 65 20 63 6F    ...//.console.co
000029d0: 64 65 20 6D 69 6E 69 66 69 65 64 0A 0A 0A 20 20    de.minified.....
000029e0: 20 20 20 76 61 72 20 66 6F 69 6C 5F 69 6E 66 6F    ...var.foil_info
000029f0: 3D 20 7B 0A 20 20 20 20 20 20 20 20 20 76 65 72    =.{..........ver
00002a00: 73 69 6F 6E 3A 20 22 31 2E 32 2E 30 22 2C 20 62    sion:."1.2.0",.b
00002a10: 75 69 6C 64 3A 22 22 0A 20 20 20 20 20 7D 0A 0A    uild:""......}..
00002a20: 20 20 20 20 20 3B 0A 0A 20 20 20 20 20 76 61 72    .....;.......var
00002a30: 20 4E 61 74 69 76 65 3D 66 75 6E 63 74 69 6F 6E    .Native=function
00002a40: 28 4A 29 20 7B 0A 20 20 20 20 20 20 20 20 20 4A    (J).{..........J
00002a50: 3D 4A 7C 7C 20 7B 7D 0A 0A 20 20 20 20 20 20 20    =J||.{}.........
00002a60: 20 20 3B 0A 0A 20 20 20 20 20 20 20 20 20 76 61    ..;...........va
00002a70: 72 20 46 3D 4A 2E 61 66 74 65 72 49 6D 70 6C 65    r.F=J.afterImple
00002a80: 6D 65 6E 74 7C 7C 66 75 6E 63 74 69 6F 6E 28 29    ment||function()
00002a90: 20 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 3B 0A    .{}...........;.
00002aa0: 20 20 20 20 20 20 20 20 20 76 61 72 20 47 3D 4A    .........var.G=J
00002ab0: 2E 67 65 6E 65 72 69 63 73 3B 0A 20 20 20 20 20    .generics;......
00002ac0: 20 20 20 20 47 3D 28 47 20 21 3D 3D 20 21 31 29    ....G=(G.!==.!1)
00002ad0: 3B 0A 20 20 20 20 20 20 20 20 20 76 61 72 20 48    ;..........var.H
00002ae0: 3D 4A 2E 6C 65 67 61 63 79 3B 0A 20 20 20 20 20    =J.legacy;......
00002af0: 20 20 20 20 76 61 72 20 45 3D 4A 2E 69 6E 69 74    ....var.E=J.init
00002b00: 69 61 6C 69 7A 65 3B 0A 20 20 20 20 20 20 20 20    ialize;.........
00002b10: 20 76 61 72 20 42 3D 4A 2E 70 72 6F 74 65 63 74    .var.B=J.protect
00002b20: 3B 0A 20 20 20 20 20 20 20 20 20 76 61 72 20 41    ;..........var.A
00002b30: 3D 4A 2E 6E 61 6D 65 3B 0A 20 20 20 20 20 20 20    =J.name;........
00002b40: 20 20 76 61 72 20 43 3D 45 7C 7C 48 3B 0A 20 20    ..var.C=E||H;...
00002b50: 20 20 20 20 20 20 20 43 2E 63 6F 6E 73 74 72 75    .......C.constru
00002b60: 63 74 6F 72 3D 4E 61 74 69 76 65 3B 0A 0A 20 20    ctor=Native;....
00002b70: 20 20 20 20 20 20 20 43 2E 24 66 61 6D 69 6C 79    .......C.$family
00002b80: 3D 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    =.{.............
00002b90: 20 6E 61 6D 65 3A 20 22 6E 61 74 69 76 65 22 0A    .name:."native".
00002ba0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00002bb0: 20 20 20 20 20 3B 0A 0A 20 20 20 20 20 20 20 20    .....;..........
00002bc0: 20 69 66 28 48 26 26 45 29 20 7B 0A 20 20 20 20    .if(H&&E).{.....
00002bd0: 20 20 20 20 20 20 20 20 20 43 2E 70 72 6F 74 6F    .........C.proto
00002be0: 74 79 70 65 3D 48 2E 70 72 6F 74 6F 74 79 70 65    type=H.prototype
00002bf0: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00002c00: 20 20 20 20 20 20 43 2E 70 72 6F 74 6F 74 79 70    ......C.prototyp
00002c10: 65 2E 63 6F 6E 73 74 72 75 63 74 6F 72 3D 43 3B    e.constructor=C;
00002c20: 0A 0A 20 20 20 20 20 20 20 20 20 69 66 28 41 29    ...........if(A)
00002c30: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00002c40: 76 61 72 20 44 3D 41 2E 74 6F 4C 6F 77 65 72 43    var.D=A.toLowerC
00002c50: 61 73 65 28 29 3B 0A 0A 20 20 20 20 20 20 20 20    ase();..........
00002c60: 20 20 20 20 20 43 2E 70 72 6F 74 6F 74 79 70 65    .....C.prototype
00002c70: 2E 24 66 61 6D 69 6C 79 3D 20 7B 0A 20 20 20 20    .$family=.{.....
00002c80: 20 20 20 20 20 20 20 20 20 20 20 20 20 6E 61 6D    .............nam
00002c90: 65 3A 20 44 0A 20 20 20 20 20 20 20 20 20 20 20    e:.D............
00002ca0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00002cb0: 20 20 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..;.............
00002cc0: 20 4E 61 74 69 76 65 2E 74 79 70 69 7A 65 28 43    .Native.typize(C
00002cd0: 2C 20 44 29 0A 20 20 20 20 20 20 20 20 20 7D 0A    ,.D)..........}.
00002ce0: 0A 20 20 20 20 20 20 20 20 20 76 61 72 20 49 3D    ..........var.I=
00002cf0: 66 75 6E 63 74 69 6F 6E 28 4D 2C 20 4B 2C 20 4E    function(M,.K,.N
00002d00: 2C 20 4C 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.L).{..........
00002d10: 20 20 20 20 69 66 28 20 21 42 7C 7C 4C 7C 7C 20    ....if(.!B||L||.
00002d20: 21 4D 2E 70 72 6F 74 6F 74 79 70 65 5B 4B 5D 29    !M.prototype[K])
00002d30: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00002d40: 20 20 20 20 4D 2E 70 72 6F 74 6F 74 79 70 65 5B    ....M.prototype[
00002d50: 4B 5D 3D 4E 0A 20 20 20 20 20 20 20 20 20 20 20    K]=N............
00002d60: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00002d70: 20 20 69 66 28 47 29 20 7B 0A 20 20 20 20 20 20    ..if(G).{.......
00002d80: 20 20 20 20 20 20 20 20 20 20 20 4E 61 74 69 76    ...........Nativ
00002d90: 65 2E 67 65 6E 65 72 69 63 69 7A 65 28 4D 2C 20    e.genericize(M,.
00002da0: 4B 2C 20 42 29 0A 20 20 20 20 20 20 20 20 20 20    K,.B)...........
00002db0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00002dc0: 20 20 20 46 2E 63 61 6C 6C 28 4D 2C 20 4B 2C 20    ...F.call(M,.K,.
00002dd0: 4E 29 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20    N);.............
00002de0: 20 72 65 74 75 72 6E 20 4D 0A 20 20 20 20 20 20    .return.M.......
00002df0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 3B    ...}...........;
00002e00: 0A 0A 20 20 20 20 20 20 20 20 20 43 2E 69 6D 70    ...........C.imp
00002e10: 6C 65 6D 65 6E 74 3D 66 75 6E 63 74 69 6F 6E 28    lement=function(
00002e20: 4C 2C 20 4B 2C 20 4E 29 20 7B 0A 20 20 20 20 20    L,.K,.N).{......
00002e30: 20 20 20 20 20 20 20 20 69 66 28 74 79 70 65 6F    ........if(typeo
00002e40: 66 20 4C 3D 3D 22 73 74 72 69 6E 67 22 29 20 7B    f.L=="string").{
00002e50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00002e60: 20 20 72 65 74 75 72 6E 20 49 28 74 68 69 73 2C    ..return.I(this,
00002e70: 20 4C 2C 20 4B 2C 20 4E 29 0A 20 20 20 20 20 20    .L,.K,.N).......
00002e80: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00002e90: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 4D    .......for(var.M
00002ea0: 20 69 6E 20 4C 29 20 7B 0A 20 20 20 20 20 20 20    .in.L).{........
00002eb0: 20 20 20 20 20 20 20 20 20 20 49 28 74 68 69 73    ..........I(this
00002ec0: 2C 20 4D 2C 20 4C 5B 4D 5D 2C 20 4B 29 0A 20 20    ,.M,.L[M],.K)...
00002ed0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00002ee0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00002ef0: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
00002f00: 7D 0A 0A 20 20 20 20 20 20 20 20 20 3B 0A 0A 20    }...........;...
00002f10: 20 20 20 20 20 20 20 20 43 2E 61 6C 69 61 73 3D    ........C.alias=
00002f20: 66 75 6E 63 74 69 6F 6E 28 4D 2C 20 4B 2C 20 4E    function(M,.K,.N
00002f30: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00002f40: 20 69 66 28 74 79 70 65 6F 66 20 4D 3D 3D 22 73    .if(typeof.M=="s
00002f50: 74 72 69 6E 67 22 29 20 7B 0A 20 20 20 20 20 20    tring").{.......
00002f60: 20 20 20 20 20 20 20 20 20 20 20 4D 3D 74 68 69    ...........M=thi
00002f70: 73 2E 70 72 6F 74 6F 74 79 70 65 5B 4D 5D 3B 0A    s.prototype[M];.
00002f80: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00002f90: 20 20 69 66 28 4D 29 20 7B 0A 20 20 20 20 20 20    ..if(M).{.......
00002fa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 49    ...............I
00002fb0: 28 74 68 69 73 2C 20 4B 2C 20 4D 2C 20 4E 29 0A    (this,.K,.M,.N).
00002fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00002fd0: 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00002fe0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00002ff0: 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20 20    else.{..........
00003000: 20 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20    ........for(var.
00003010: 4C 20 69 6E 20 4D 29 20 7B 0A 20 20 20 20 20 20    L.in.M).{.......
00003020: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
00003030: 68 69 73 2E 61 6C 69 61 73 28 4C 2C 20 4D 5B 4C    his.alias(L,.M[L
00003040: 5D 2C 20 4B 29 0A 20 20 20 20 20 20 20 20 20 20    ],.K)...........
00003050: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00003060: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00003070: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
00003080: 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    s..........}....
00003090: 20 20 20 20 20 20 20 3B 0A 20 20 20 20 20 20 20    .......;........
000030a0: 20 20 72 65 74 75 72 6E 20 43 0A 20 20 20 20 20    ..return.C......
000030b0: 7D 0A 0A 20 20 20 20 20 3B 0A 0A 20 20 20 20 20    }.......;.......
000030c0: 4E 61 74 69 76 65 2E 69 6D 70 6C 65 6D 65 6E 74    Native.implement
000030d0: 3D 66 75 6E 63 74 69 6F 6E 28 44 2C 20 43 29 20    =function(D,.C).
000030e0: 7B 0A 20 20 20 20 20 20 20 20 20 66 6F 72 28 76    {..........for(v
000030f0: 61 72 20 42 3D 30 2C 20 41 3D 44 2E 6C 65 6E 67    ar.B=0,.A=D.leng
00003100: 74 68 3B 20 42 3C 41 3B 20 42 2B 2B 29 20 7B 0A    th;.B<A;.B++).{.
00003110: 20 20 20 20 20 20 20 20 20 20 20 20 20 44 5B 42    .............D[B
00003120: 5D 2E 69 6D 70 6C 65 6D 65 6E 74 28 43 29 0A 20    ].implement(C)..
00003130: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D    ........}......}
00003140: 0A 0A 20 20 20 20 20 3B 0A 0A 20 20 20 20 20 4E    .......;.......N
00003150: 61 74 69 76 65 2E 67 65 6E 65 72 69 63 69 7A 65    ative.genericize
00003160: 3D 66 75 6E 63 74 69 6F 6E 28 42 2C 20 43 2C 20    =function(B,.C,.
00003170: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 69 66    A).{..........if
00003180: 28 28 20 21 41 7C 7C 20 21 42 5B 43 5D 29 26 26    ((.!A||.!B[C])&&
00003190: 74 79 70 65 6F 66 20 42 2E 70 72 6F 74 6F 74 79    typeof.B.prototy
000031a0: 70 65 5B 43 5D 3D 3D 22 66 75 6E 63 74 69 6F 6E    pe[C]=="function
000031b0: 22 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ").{............
000031c0: 20 20 42 5B 43 5D 3D 66 75 6E 63 74 69 6F 6E 28    ..B[C]=function(
000031d0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000031e0: 20 20 20 20 20 76 61 72 20 44 3D 41 72 72 61 79    .....var.D=Array
000031f0: 2E 70 72 6F 74 6F 74 79 70 65 2E 73 6C 69 63 65    .prototype.slice
00003200: 2E 63 61 6C 6C 28 61 72 67 75 6D 65 6E 74 73 29    .call(arguments)
00003210: 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ;...............
00003220: 20 20 20 72 65 74 75 72 6E 20 42 2E 70 72 6F 74    ...return.B.prot
00003230: 6F 74 79 70 65 5B 43 5D 2E 61 70 70 6C 79 28 44    otype[C].apply(D
00003240: 2E 73 68 69 66 74 28 29 2C 20 44 29 0A 20 20 20    .shift(),.D)....
00003250: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
00003260: 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A 20    .....}......}...
00003270: 20 20 20 20 3B 0A 0A 20 20 20 20 20 4E 61 74 69    ....;.......Nati
00003280: 76 65 2E 74 79 70 69 7A 65 3D 66 75 6E 63 74 69    ve.typize=functi
00003290: 6F 6E 28 41 2C 20 42 29 20 7B 0A 20 20 20 20 20    on(A,.B).{......
000032a0: 20 20 20 20 69 66 28 20 21 41 2E 74 79 70 65 29    ....if(.!A.type)
000032b0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000032c0: 41 2E 74 79 70 65 3D 66 75 6E 63 74 69 6F 6E 28    A.type=function(
000032d0: 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    C).{............
000032e0: 20 20 20 20 20 20 72 65 74 75 72 6E 28 24 74 79    ......return($ty
000032f0: 70 65 28 43 29 3D 3D 3D 42 29 0A 20 20 20 20 20    pe(C)===B)......
00003300: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00003310: 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A 20 20 20    ...}......}.....
00003320: 20 20 3B 0A 0A 20 20 20 20 20 4E 61 74 69 76 65    ..;.......Native
00003330: 2E 61 6C 69 61 73 3D 66 75 6E 63 74 69 6F 6E 28    .alias=function(
00003340: 45 2C 20 42 2C 20 41 2C 20 46 29 20 7B 0A 20 20    E,.B,.A,.F).{...
00003350: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 44    .......for(var.D
00003360: 3D 30 2C 20 43 3D 45 2E 6C 65 6E 67 74 68 3B 20    =0,.C=E.length;.
00003370: 44 3C 43 3B 20 44 2B 2B 29 20 7B 0A 20 20 20 20    D<C;.D++).{.....
00003380: 20 20 20 20 20 20 20 20 20 45 5B 44 5D 2E 61 6C    .........E[D].al
00003390: 69 61 73 28 42 2C 20 41 2C 20 46 29 0A 20 20 20    ias(B,.A,.F)....
000033a0: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
000033b0: 20 20 20 20 20 3B 0A 0A 20 20 20 20 20 28 66 75    .....;.......(fu
000033c0: 6E 63 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20    nction(B).{.....
000033d0: 20 20 20 20 20 20 20 20 20 66 6F 72 28 76 61 72    .........for(var
000033e0: 20 41 20 69 6E 20 42 29 20 7B 0A 20 20 20 20 20    .A.in.B).{......
000033f0: 20 20 20 20 20 20 20 20 20 20 20 20 4E 61 74 69    ............Nati
00003400: 76 65 2E 74 79 70 69 7A 65 28 42 5B 41 5D 2C 20    ve.typize(B[A],.
00003410: 41 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    A)..............
00003420: 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    }..........}....
00003430: 20 20 20 29 28 20 7B 0A 20 20 20 20 20 20 20 20    ...)(.{.........
00003440: 20 20 20 20 20 22 62 6F 6F 6C 65 61 6E 22 3A 42    ....."boolean":B
00003450: 6F 6F 6C 65 61 6E 2C 20 22 6E 61 74 69 76 65 22    oolean,."native"
00003460: 3A 4E 61 74 69 76 65 2C 20 6F 62 6A 65 63 74 3A    :Native,.object:
00003470: 4F 62 6A 65 63 74 0A 20 20 20 20 20 20 20 20 20    Object..........
00003480: 7D 0A 0A 20 20 20 20 20 29 3B 0A 0A 20 20 20 20    }.......);......
00003490: 20 28 66 75 6E 63 74 69 6F 6E 28 42 29 20 7B 0A    .(function(B).{.
000034a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 66 6F 72    .............for
000034b0: 28 76 61 72 20 41 20 69 6E 20 42 29 20 7B 0A 20    (var.A.in.B).{..
000034c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000034d0: 6E 65 77 20 4E 61 74 69 76 65 28 20 7B 0A 20 20    new.Native(.{...
000034e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000034f0: 20 20 20 20 20 20 20 6E 61 6D 65 3A 41 2C 20 69    .......name:A,.i
00003500: 6E 69 74 69 61 6C 69 7A 65 3A 42 5B 41 5D 2C 20    nitialize:B[A],.
00003510: 70 72 6F 74 65 63 74 3A 20 21 30 0A 20 20 20 20    protect:.!0.....
00003520: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00003530: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00003540: 20 20 20 20 20 29 0A 20 20 20 20 20 20 20 20 20    .....)..........
00003550: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 7D    ....}..........}
00003560: 0A 0A 20 20 20 20 20 29 28 20 7B 0A 20 20 20 20    .......)(.{.....
00003570: 20 20 20 20 20 20 20 20 20 53 74 72 69 6E 67 3A    .........String:
00003580: 53 74 72 69 6E 67 2C 20 46 75 6E 63 74 69 6F 6E    String,.Function
00003590: 3A 46 75 6E 63 74 69 6F 6E 2C 20 4E 75 6D 62 65    :Function,.Numbe
000035a0: 72 3A 4E 75 6D 62 65 72 2C 20 41 72 72 61 79 3A    r:Number,.Array:
000035b0: 41 72 72 61 79 2C 20 52 65 67 45 78 70 3A 52 65    Array,.RegExp:Re
000035c0: 67 45 78 70 2C 20 44 61 74 65 3A 44 61 74 65 0A    gExp,.Date:Date.
000035d0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000035e0: 20 29 3B 0A 0A 20 20 20 20 20 28 66 75 6E 63 74    .);.......(funct
000035f0: 69 6F 6E 28 42 2C 20 41 29 20 7B 0A 20 20 20 20    ion(B,.A).{.....
00003600: 20 20 20 20 20 20 20 20 20 66 6F 72 28 76 61 72    .........for(var
00003610: 20 43 3D 41 2E 6C 65 6E 67 74 68 3B 20 43 2D 2D    .C=A.length;.C--
00003620: 3B 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ;.C).{..........
00003630: 20 20 20 20 20 20 20 20 4E 61 74 69 76 65 2E 67    ........Native.g
00003640: 65 6E 65 72 69 63 69 7A 65 28 42 2C 20 41 5B 43    enericize(B,.A[C
00003650: 5D 2C 20 20 21 30 29 0A 20 20 20 20 20 20 20 20    ],..!0).........
00003660: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00003670: 20 20 20 20 20 72 65 74 75 72 6E 20 61 72 67 75    .....return.argu
00003680: 6D 65 6E 74 73 2E 63 61 6C 6C 65 65 0A 20 20 20    ments.callee....
00003690: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 29 28    ......}.......)(
000036a0: 41 72 72 61 79 2C 20 5B 22 70 6F 70 22 2C 20 22    Array,.["pop",."
000036b0: 70 75 73 68 22 2C 20 22 72 65 76 65 72 73 65 22    push",."reverse"
000036c0: 2C 20 22 73 68 69 66 74 22 2C 20 22 73 6F 72 74    ,."shift",."sort
000036d0: 22 2C 20 22 73 70 6C 69 63 65 22 2C 20 22 75 6E    ",."splice",."un
000036e0: 73 68 69 66 74 22 2C 20 22 63 6F 6E 63 61 74 22    shift",."concat"
000036f0: 2C 20 22 6A 6F 69 6E 22 2C 20 22 73 6C 69 63 65    ,."join",."slice
00003700: 22 2C 20 22 74 6F 53 74 72 69 6E 67 22 2C 20 22    ",."toString",."
00003710: 76 61 6C 75 65 4F 66 22 2C 20 22 69 6E 64 65 78    valueOf",."index
00003720: 4F 66 22 2C 20 22 6C 61 73 74 49 6E 64 65 78 4F    Of",."lastIndexO
00003730: 66 22 5D 29 28 53 74 72 69 6E 67 2C 20 5B 22 63    f"])(String,.["c
00003740: 68 61 72 41 74 22 2C 20 22 63 68 61 72 43 6F 64    harAt",."charCod
00003750: 65 41 74 22 2C 20 22 63 6F 6E 63 61 74 22 2C 20    eAt",."concat",.
00003760: 22 69 6E 64 65 78 4F 66 22 2C 20 22 6C 61 73 74    "indexOf",."last
00003770: 49 6E 64 65 78 4F 66 22 2C 20 22 6D 61 74 63 68    IndexOf",."match
00003780: 22 2C 20 22 72 65 70 6C 61 63 65 22 2C 20 22 73    ",."replace",."s
00003790: 65 61 72 63 68 22 2C 20 22 73 6C 69 63 65 22 2C    earch",."slice",
000037a0: 20 22 73 70 6C 69 74 22 2C 20 22 73 75 62 73 74    ."split",."subst
000037b0: 72 22 2C 20 22 73 75 62 73 74 72 69 6E 67 22 2C    r",."substring",
000037c0: 20 22 74 6F 4C 6F 77 65 72 43 61 73 65 22 2C 20    ."toLowerCase",.
000037d0: 22 74 6F 55 70 70 65 72 43 61 73 65 22 2C 20 22    "toUpperCase",."
000037e0: 76 61 6C 75 65 4F 66 22 5D 29 3B 0A 0A 20 20 20    valueOf"]);.....
000037f0: 20 20 66 75 6E 63 74 69 6F 6E 20 24 63 68 6B 28    ..function.$chk(
00003800: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 72 65    A).{..........re
00003810: 74 75 72 6E 20 21 20 21 28 41 7C 7C 41 3D 3D 3D    turn.!.!(A||A===
00003820: 30 29 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    0)......}.......
00003830: 66 75 6E 63 74 69 6F 6E 20 24 63 6C 65 61 72 28    function.$clear(
00003840: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 63 6C    A).{..........cl
00003850: 65 61 72 54 69 6D 65 6F 75 74 28 41 29 3B 0A 20    earTimeout(A);..
00003860: 20 20 20 20 20 20 20 20 63 6C 65 61 72 49 6E 74    ........clearInt
00003870: 65 72 76 61 6C 28 41 29 3B 0A 20 20 20 20 20 20    erval(A);.......
00003880: 20 20 20 72 65 74 75 72 6E 20 6E 75 6C 6C 0A 20    ...return.null..
00003890: 20 20 20 20 7D 0A 0A 20 20 20 20 20 66 75 6E 63    ....}.......func
000038a0: 74 69 6F 6E 20 24 64 65 66 69 6E 65 64 28 41 29    tion.$defined(A)
000038b0: 20 7B 0A 20 20 20 20 20 20 20 20 20 72 65 74 75    .{..........retu
000038c0: 72 6E 28 41 20 21 3D 75 6E 64 65 66 69 6E 65 64    rn(A.!=undefined
000038d0: 29 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 66    )......}.......f
000038e0: 75 6E 63 74 69 6F 6E 20 24 65 6D 70 74 79 28 29    unction.$empty()
000038f0: 20 7B 7D 0A 0A 20 20 20 20 20 66 75 6E 63 74 69    .{}.......functi
00003900: 6F 6E 20 24 61 72 67 75 6D 65 6E 74 73 28 41 29    on.$arguments(A)
00003910: 20 7B 0A 20 20 20 20 20 20 20 20 20 72 65 74 75    .{..........retu
00003920: 72 6E 20 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    rn.function().{.
00003930: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00003940: 75 72 6E 20 61 72 67 75 6D 65 6E 74 73 5B 41 5D    urn.arguments[A]
00003950: 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
00003960: 20 7D 0A 0A 20 20 20 20 20 66 75 6E 63 74 69 6F    .}.......functio
00003970: 6E 20 24 6C 61 6D 62 64 61 28 41 29 20 7B 0A 20    n.$lambda(A).{..
00003980: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 28 74    ........return(t
00003990: 79 70 65 6F 66 20 41 3D 3D 22 66 75 6E 63 74 69    ypeof.A=="functi
000039a0: 6F 6E 22 29 3F 41 3A 66 75 6E 63 74 69 6F 6E 28    on")?A:function(
000039b0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000039c0: 20 72 65 74 75 72 6E 20 41 0A 20 20 20 20 20 20    .return.A.......
000039d0: 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A 20 20 20    ...}......}.....
000039e0: 20 20 66 75 6E 63 74 69 6F 6E 20 24 65 78 74 65    ..function.$exte
000039f0: 6E 64 28 43 2C 20 41 29 20 7B 0A 20 20 20 20 20    nd(C,.A).{......
00003a00: 20 20 20 20 66 6F 72 28 76 61 72 20 42 20 69 6E    ....for(var.B.in
00003a10: 28 41 7C 7C 20 7B 7D 0A 0A 20 20 20 20 20 20 20    (A||.{}.........
00003a20: 20 20 20 20 20 20 29 29 20 7B 0A 20 20 20 20 20    ......)).{......
00003a30: 20 20 20 20 20 20 20 20 43 5B 42 5D 3D 41 5B 42    ........C[B]=A[B
00003a40: 5D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ]..........}....
00003a50: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 43 0A    .......return.C.
00003a60: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 66 75 6E    .....}.......fun
00003a70: 63 74 69 6F 6E 20 24 75 6E 6C 69 6E 6B 28 43 29    ction.$unlink(C)
00003a80: 20 7B 0A 20 20 20 20 20 20 20 20 20 76 61 72 20    .{..........var.
00003a90: 42 3B 0A 0A 20 20 20 20 20 20 20 20 20 73 77 69    B;...........swi
00003aa0: 74 63 68 28 24 74 79 70 65 28 43 29 29 20 7B 0A    tch($type(C)).{.
00003ab0: 20 20 20 20 20 20 20 20 20 20 20 20 20 63 61 73    .............cas
00003ac0: 65 20 22 6F 62 6A 65 63 74 22 3A 42 3D 20 7B 7D    e."object":B=.{}
00003ad0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 3B    ...............;
00003ae0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 66    ...............f
00003af0: 6F 72 28 76 61 72 20 45 20 69 6E 20 43 29 20 7B    or(var.E.in.C).{
00003b00: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00003b10: 20 20 42 5B 45 5D 3D 24 75 6E 6C 69 6E 6B 28 43    ..B[E]=$unlink(C
00003b20: 5B 45 5D 29 0A 20 20 20 20 20 20 20 20 20 20 20    [E])............
00003b30: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00003b40: 20 20 62 72 65 61 6B 3B 0A 20 20 20 20 20 20 20    ..break;........
00003b50: 20 20 20 20 20 20 63 61 73 65 20 22 68 61 73 68    ......case."hash
00003b60: 22 3A 42 3D 24 75 6E 6C 69 6E 6B 28 43 2E 67 65    ":B=$unlink(C.ge
00003b70: 74 43 6C 65 61 6E 28 29 29 3B 0A 20 20 20 20 20    tClean());......
00003b80: 20 20 20 20 20 20 20 20 62 72 65 61 6B 3B 0A 20    ........break;..
00003b90: 20 20 20 20 20 20 20 20 20 20 20 20 63 61 73 65    ............case
00003ba0: 20 22 61 72 72 61 79 22 3A 42 3D 5B 5D 3B 0A 0A    ."array":B=[];..
00003bb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 66 6F 72    .............for
00003bc0: 28 76 61 72 20 44 3D 30 2C 20 41 3D 43 2E 6C 65    (var.D=0,.A=C.le
00003bd0: 6E 67 74 68 3B 20 44 3C 41 3B 20 44 2B 2B 29 20    ngth;.D<A;.D++).
00003be0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00003bf0: 20 20 20 42 5B 44 5D 3D 24 75 6E 6C 69 6E 6B 28    ...B[D]=$unlink(
00003c00: 43 5B 44 5D 29 0A 20 20 20 20 20 20 20 20 20 20    C[D])...........
00003c10: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00003c20: 20 20 20 62 72 65 61 6B 3B 0A 20 20 20 20 20 20    ...break;.......
00003c30: 20 20 20 20 20 20 20 64 65 66 61 75 6C 74 3A 72    .......default:r
00003c40: 65 74 75 72 6E 20 43 0A 20 20 20 20 20 20 20 20    eturn.C.........
00003c50: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 72 65 74    .}...........ret
00003c60: 75 72 6E 20 42 0A 20 20 20 20 20 7D 0A 0A 20 20    urn.B......}....
00003c70: 20 20 20 66 75 6E 63 74 69 6F 6E 20 24 6D 65 72    ...function.$mer
00003c80: 67 65 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ge().{..........
00003c90: 76 61 72 20 45 3D 20 7B 7D 0A 0A 20 20 20 20 20    var.E=.{}.......
00003ca0: 20 20 20 20 3B 0A 0A 20 20 20 20 20 20 20 20 20    ....;...........
00003cb0: 66 6F 72 28 76 61 72 20 44 3D 30 2C 20 41 3D 61    for(var.D=0,.A=a
00003cc0: 72 67 75 6D 65 6E 74 73 2E 6C 65 6E 67 74 68 3B    rguments.length;
00003cd0: 20 44 3C 41 3B 20 44 2B 2B 29 20 7B 0A 20 20 20    .D<A;.D++).{....
00003ce0: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 42 3D    ..........var.B=
00003cf0: 61 72 67 75 6D 65 6E 74 73 5B 44 5D 3B 0A 0A 20    arguments[D];...
00003d00: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 24    ............if($
00003d10: 74 79 70 65 28 42 29 20 21 3D 22 6F 62 6A 65 63    type(B).!="objec
00003d20: 74 22 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    t").{...........
00003d30: 20 20 20 20 20 20 20 63 6F 6E 74 69 6E 75 65 0A    .......continue.
00003d40: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00003d50: 20 20 20 20 20 20 20 20 20 20 20 20 20 66 6F 72    .............for
00003d60: 28 76 61 72 20 43 20 69 6E 20 42 29 20 7B 0A 20    (var.C.in.B).{..
00003d70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00003d80: 76 61 72 20 47 3D 42 5B 43 5D 2C 0A 20 20 20 20    var.G=B[C],.....
00003d90: 20 20 20 20 20 20 20 20 20 20 20 20 20 46 3D 45    .............F=E
00003da0: 5B 43 5D 3B 0A 20 20 20 20 20 20 20 20 20 20 20    [C];............
00003db0: 20 20 20 20 20 20 45 5B 43 5D 3D 28 46 26 26 24    ......E[C]=(F&&$
00003dc0: 74 79 70 65 28 47 29 3D 3D 22 6F 62 6A 65 63 74    type(G)=="object
00003dd0: 22 26 26 24 74 79 70 65 28 46 29 3D 3D 22 6F 62    "&&$type(F)=="ob
00003de0: 6A 65 63 74 22 29 3F 24 6D 65 72 67 65 28 46 2C    ject")?$merge(F,
00003df0: 20 47 29 3A 20 24 75 6E 6C 69 6E 6B 28 47 29 0A    .G):.$unlink(G).
00003e00: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20    .............}..
00003e10: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00003e20: 20 20 20 20 72 65 74 75 72 6E 20 45 0A 20 20 20    ....return.E....
00003e30: 20 20 7D 0A 0A 20 20 20 20 20 66 75 6E 63 74 69    ..}.......functi
00003e40: 6F 6E 20 24 70 69 63 6B 28 29 20 7B 0A 20 20 20    on.$pick().{....
00003e50: 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 42 3D    ......for(var.B=
00003e60: 30 2C 20 41 3D 61 72 67 75 6D 65 6E 74 73 2E 6C    0,.A=arguments.l
00003e70: 65 6E 67 74 68 3B 20 42 3C 41 3B 20 42 2B 2B 29    ength;.B<A;.B++)
00003e80: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00003e90: 69 66 28 61 72 67 75 6D 65 6E 74 73 5B 42 5D 20    if(arguments[B].
00003ea0: 21 3D 75 6E 64 65 66 69 6E 65 64 29 20 7B 0A 20    !=undefined).{..
00003eb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00003ec0: 72 65 74 75 72 6E 20 61 72 67 75 6D 65 6E 74 73    return.arguments
00003ed0: 5B 42 5D 0A 20 20 20 20 20 20 20 20 20 20 20 20    [B].............
00003ee0: 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    .}..........}...
00003ef0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 6E    ........return.n
00003f00: 75 6C 6C 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20    ull......}......
00003f10: 20 66 75 6E 63 74 69 6F 6E 20 24 72 61 6E 64 6F    .function.$rando
00003f20: 6D 28 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20    m(B,.A).{.......
00003f30: 20 20 20 72 65 74 75 72 6E 20 4D 61 74 68 2E 66    ...return.Math.f
00003f40: 6C 6F 6F 72 28 4D 61 74 68 2E 72 61 6E 64 6F 6D    loor(Math.random
00003f50: 28 29 2A 28 41 2D 42 2B 31 29 2B 42 29 0A 20 20    ()*(A-B+1)+B)...
00003f60: 20 20 20 7D 0A 0A 20 20 20 20 20 66 75 6E 63 74    ...}.......funct
00003f70: 69 6F 6E 20 24 73 70 6C 61 74 28 42 29 20 7B 0A    ion.$splat(B).{.
00003f80: 20 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 24    .........var.A=$
00003f90: 74 79 70 65 28 42 29 3B 0A 20 20 20 20 20 20 20    type(B);........
00003fa0: 20 20 72 65 74 75 72 6E 28 41 29 3F 28 28 41 20    ..return(A)?((A.
00003fb0: 21 3D 22 61 72 72 61 79 22 26 26 41 20 21 3D 22    !="array"&&A.!="
00003fc0: 61 72 67 75 6D 65 6E 74 73 22 29 3F 5B 42 5D 3A    arguments")?[B]:
00003fd0: 42 29 3A 20 5B 5D 0A 20 20 20 20 20 7D 0A 0A 20    B):.[]......}...
00003fe0: 20 20 20 20 76 61 72 20 24 74 69 6D 65 3D 44 61    ....var.$time=Da
00003ff0: 74 65 2E 6E 6F 77 7C 7C 66 75 6E 63 74 69 6F 6E    te.now||function
00004000: 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 72 65    ().{..........re
00004010: 74 75 72 6E 20 6E 65 77 20 44 61 74 65 28 29 2E    turn.new.Date().
00004020: 67 65 74 54 69 6D 65 28 29 0A 20 20 20 20 20 7D    getTime()......}
00004030: 0A 0A 20 20 20 20 20 3B 0A 0A 20 20 20 20 20 66    .......;.......f
00004040: 75 6E 63 74 69 6F 6E 20 24 74 72 79 28 29 20 7B    unction.$try().{
00004050: 0A 20 20 20 20 20 20 20 20 20 66 6F 72 28 76 61    ..........for(va
00004060: 72 20 42 3D 30 2C 20 41 3D 61 72 67 75 6D 65 6E    r.B=0,.A=argumen
00004070: 74 73 2E 6C 65 6E 67 74 68 3B 20 42 3C 41 3B 20    ts.length;.B<A;.
00004080: 42 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20    B++).{..........
00004090: 20 20 20 20 74 72 79 20 7B 0A 20 20 20 20 20 20    ....try.{.......
000040a0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
000040b0: 6E 20 61 72 67 75 6D 65 6E 74 73 5B 42 5D 28 29    n.arguments[B]()
000040c0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000040d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 63 61    ..............ca
000040e0: 74 63 68 28 43 29 20 7B 7D 0A 20 20 20 20 20 20    tch(C).{}.......
000040f0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 72    ...}...........r
00004100: 65 74 75 72 6E 20 6E 75 6C 6C 0A 20 20 20 20 20    eturn.null......
00004110: 7D 0A 0A 20 20 20 20 20 66 75 6E 63 74 69 6F 6E    }.......function
00004120: 20 24 74 79 70 65 28 41 29 20 7B 0A 20 20 20 20    .$type(A).{.....
00004130: 20 20 20 20 20 69 66 28 41 3D 3D 75 6E 64 65 66    .....if(A==undef
00004140: 69 6E 65 64 29 20 7B 0A 20 20 20 20 20 20 20 20    ined).{.........
00004150: 20 20 20 20 20 72 65 74 75 72 6E 20 21 31 0A 20    .....return.!1..
00004160: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00004170: 20 20 20 20 69 66 28 41 2E 24 66 61 6D 69 6C 79    ....if(A.$family
00004180: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00004190: 20 72 65 74 75 72 6E 28 41 2E 24 66 61 6D 69 6C    .return(A.$famil
000041a0: 79 2E 6E 61 6D 65 3D 3D 22 6E 75 6D 62 65 72 22    y.name=="number"
000041b0: 26 26 20 21 69 73 46 69 6E 69 74 65 28 41 29 29    &&.!isFinite(A))
000041c0: 3F 20 21 31 3A 20 41 2E 24 66 61 6D 69 6C 79 2E    ?.!1:.A.$family.
000041d0: 6E 61 6D 65 0A 20 20 20 20 20 20 20 20 20 7D 0A    name..........}.
000041e0: 0A 20 20 20 20 20 20 20 20 20 69 66 28 41 2E 6E    ..........if(A.n
000041f0: 6F 64 65 4E 61 6D 65 29 20 7B 0A 20 20 20 20 20    odeName).{......
00004200: 20 20 20 20 20 20 20 20 73 77 69 74 63 68 28 41    ........switch(A
00004210: 2E 6E 6F 64 65 54 79 70 65 29 20 7B 0A 20 20 20    .nodeType).{....
00004220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 63 61    ..............ca
00004230: 73 65 20 31 3A 20 72 65 74 75 72 6E 22 65 6C 65    se.1:.return"ele
00004240: 6D 65 6E 74 22 3B 0A 20 20 20 20 20 20 20 20 20    ment";..........
00004250: 20 20 20 20 20 20 20 20 63 61 73 65 20 33 3A 20    ........case.3:.
00004260: 72 65 74 75 72 6E 28 2F 5C 53 2F 29 2E 74 65 73    return(/\S/).tes
00004270: 74 28 41 2E 6E 6F 64 65 56 61 6C 75 65 29 3F 22    t(A.nodeValue)?"
00004280: 74 65 78 74 6E 6F 64 65 22 3A 22 77 68 69 74 65    textnode":"white
00004290: 73 70 61 63 65 22 0A 20 20 20 20 20 20 20 20 20    space"..........
000042a0: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 7D    ....}..........}
000042b0: 0A 0A 20 20 20 20 20 20 20 20 20 65 6C 73 65 20    ...........else.
000042c0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69    {..............i
000042d0: 66 28 74 79 70 65 6F 66 20 41 2E 6C 65 6E 67 74    f(typeof.A.lengt
000042e0: 68 3D 3D 22 6E 75 6D 62 65 72 22 29 20 7B 0A 20    h=="number").{..
000042f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004300: 69 66 28 41 2E 63 61 6C 6C 65 65 29 20 7B 0A 20    if(A.callee).{..
00004310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004320: 20 20 20 20 72 65 74 75 72 6E 22 61 72 67 75 6D    ....return"argum
00004330: 65 6E 74 73 22 0A 20 20 20 20 20 20 20 20 20 20    ents"...........
00004340: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00004350: 20 20 20 20 20 20 20 20 20 20 20 65 6C 73 65 20    ...........else.
00004360: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00004370: 20 20 20 20 20 20 20 69 66 28 41 2E 69 74 65 6D    .......if(A.item
00004380: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00004390: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
000043a0: 75 72 6E 22 63 6F 6C 6C 65 63 74 69 6F 6E 22 0A    urn"collection".
000043b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000043c0: 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20    .....}..........
000043d0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
000043e0: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
000043f0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 72 65    ..}...........re
00004400: 74 75 72 6E 20 74 79 70 65 6F 66 20 41 0A 20 20    turn.typeof.A...
00004410: 20 20 20 7D 0A 0A 20 20 20 20 20 76 61 72 20 48    ...}.......var.H
00004420: 61 73 68 3D 6E 65 77 20 4E 61 74 69 76 65 28 20    ash=new.Native(.
00004430: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 6E    {..............n
00004440: 61 6D 65 3A 22 48 61 73 68 22 2C 20 69 6E 69 74    ame:"Hash",.init
00004450: 69 61 6C 69 7A 65 3A 66 75 6E 63 74 69 6F 6E 28    ialize:function(
00004460: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    A).{............
00004470: 20 20 20 20 20 20 69 66 28 24 74 79 70 65 28 41    ......if($type(A
00004480: 29 3D 3D 22 68 61 73 68 22 29 20 7B 0A 20 20 20    )=="hash").{....
00004490: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000044a0: 20 20 41 3D 24 75 6E 6C 69 6E 6B 28 41 2E 67 65    ..A=$unlink(A.ge
000044b0: 74 43 6C 65 61 6E 28 29 29 0A 20 20 20 20 20 20    tClean()).......
000044c0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
000044d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 66    ...............f
000044e0: 6F 72 28 76 61 72 20 42 20 69 6E 20 41 29 20 7B    or(var.B.in.A).{
000044f0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004500: 20 20 20 20 20 20 74 68 69 73 5B 42 5D 3D 41 5B    ......this[B]=A[
00004510: 42 5D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    B]..............
00004520: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00004530: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74    ........return.t
00004540: 68 69 73 0A 20 20 20 20 20 20 20 20 20 20 20 20    his.............
00004550: 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    .}..........}...
00004560: 20 20 20 20 29 3B 0A 0A 20 20 20 20 20 48 61 73    ....);.......Has
00004570: 68 2E 69 6D 70 6C 65 6D 65 6E 74 28 20 7B 0A 20    h.implement(.{..
00004580: 20 20 20 20 20 20 20 20 20 20 20 20 67 65 74 4C    ............getL
00004590: 65 6E 67 74 68 3A 66 75 6E 63 74 69 6F 6E 28 29    ength:function()
000045a0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000045b0: 20 20 20 20 76 61 72 20 42 3D 30 3B 20 66 6F 72    ....var.B=0;.for
000045c0: 28 76 61 72 20 41 20 69 6E 20 74 68 69 73 29 20    (var.A.in.this).
000045d0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
000045e0: 20 20 20 20 20 20 20 69 66 28 74 68 69 73 2E 68    .......if(this.h
000045f0: 61 73 4F 77 6E 50 72 6F 70 65 72 74 79 28 41 29    asOwnProperty(A)
00004600: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00004610: 20 20 20 20 20 20 20 20 20 20 20 20 20 42 2B 2B    .............B++
00004620: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004630: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
00004640: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00004650: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00004660: 75 72 6E 20 42 0A 20 20 20 20 20 20 20 20 20 20    urn.B...........
00004670: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00004680: 20 20 20 2C 20 66 6F 72 45 61 63 68 3A 66 75 6E    ...,.forEach:fun
00004690: 63 74 69 6F 6E 28 42 2C 20 43 29 20 7B 0A 20 20    ction(B,.C).{...
000046a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 66    ...............f
000046b0: 6F 72 28 76 61 72 20 41 20 69 6E 20 74 68 69 73    or(var.A.in.this
000046c0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000046d0: 20 20 20 20 20 20 20 20 20 69 66 28 74 68 69 73    .........if(this
000046e0: 2E 68 61 73 4F 77 6E 50 72 6F 70 65 72 74 79 28    .hasOwnProperty(
000046f0: 41 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    A)).{...........
00004700: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 42    ...............B
00004710: 2E 63 61 6C 6C 28 43 2C 20 74 68 69 73 5B 41 5D    .call(C,.this[A]
00004720: 2C 20 41 2C 20 74 68 69 73 29 0A 20 20 20 20 20    ,.A,.this)......
00004730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004740: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00004750: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20    ...}............
00004760: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00004770: 20 20 2C 20 67 65 74 43 6C 65 61 6E 3A 66 75 6E    ..,.getClean:fun
00004780: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
00004790: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 42    ...........var.B
000047a0: 3D 20 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    =.{}............
000047b0: 20 20 20 20 20 20 20 3B 20 66 6F 72 28 76 61 72    .......;.for(var
000047c0: 20 41 20 69 6E 20 74 68 69 73 29 20 7B 0A 20 20    .A.in.this).{...
000047d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000047e0: 20 20 20 69 66 28 74 68 69 73 2E 68 61 73 4F 77    ...if(this.hasOw
000047f0: 6E 50 72 6F 70 65 72 74 79 28 41 29 29 20 7B 0A    nProperty(A)).{.
00004800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004810: 20 20 20 20 20 20 20 20 20 42 5B 41 5D 3D 74 68    .........B[A]=th
00004820: 69 73 5B 41 5D 0A 20 20 20 20 20 20 20 20 20 20    is[A]...........
00004830: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00004840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00004850: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004860: 20 20 72 65 74 75 72 6E 20 42 0A 20 20 20 20 20    ..return.B......
00004870: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00004880: 20 20 20 7D 0A 0A 20 20 20 20 20 29 3B 0A 20 20    ...}.......);...
00004890: 20 20 20 48 61 73 68 2E 61 6C 69 61 73 28 22 66    ...Hash.alias("f
000048a0: 6F 72 45 61 63 68 22 2C 20 22 65 61 63 68 22 29    orEach",."each")
000048b0: 3B 0A 0A 20 20 20 20 20 66 75 6E 63 74 69 6F 6E    ;.......function
000048c0: 20 24 48 28 41 29 20 7B 0A 20 20 20 20 20 20 20    .$H(A).{........
000048d0: 20 20 72 65 74 75 72 6E 20 6E 65 77 20 48 61 73    ..return.new.Has
000048e0: 68 28 41 29 0A 20 20 20 20 20 7D 0A 0A 20 20 20    h(A)......}.....
000048f0: 20 20 41 72 72 61 79 2E 69 6D 70 6C 65 6D 65 6E    ..Array.implemen
00004900: 74 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    t(.{............
00004910: 20 20 66 6F 72 45 61 63 68 3A 66 75 6E 63 74 69    ..forEach:functi
00004920: 6F 6E 28 43 2C 20 44 29 20 7B 0A 20 20 20 20 20    on(C,.D).{......
00004930: 20 20 20 20 20 20 20 20 20 20 20 20 66 6F 72 28    ............for(
00004940: 76 61 72 20 42 3D 30 2C 20 41 3D 74 68 69 73 2E    var.B=0,.A=this.
00004950: 6C 65 6E 67 74 68 3B 20 42 3C 41 3B 20 42 2B 2B    length;.B<A;.B++
00004960: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00004970: 20 20 20 20 20 20 20 20 20 43 2E 63 61 6C 6C 28    .........C.call(
00004980: 44 2C 20 74 68 69 73 5B 42 5D 2C 20 42 2C 20 74    D,.this[B],.B,.t
00004990: 68 69 73 29 0A 20 20 20 20 20 20 20 20 20 20 20    his)............
000049a0: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
000049b0: 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20    .....}..........
000049c0: 7D 0A 0A 20 20 20 20 20 29 3B 0A 20 20 20 20 20    }.......);......
000049d0: 41 72 72 61 79 2E 61 6C 69 61 73 28 22 66 6F 72    Array.alias("for
000049e0: 45 61 63 68 22 2C 20 22 65 61 63 68 22 29 3B 0A    Each",."each");.
000049f0: 0A 20 20 20 20 20 66 75 6E 63 74 69 6F 6E 20 24    ......function.$
00004a00: 41 28 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20    A(C).{..........
00004a10: 69 66 28 43 2E 69 74 65 6D 29 20 7B 0A 20 20 20    if(C.item).{....
00004a20: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 44 3D    ..........var.D=
00004a30: 5B 5D 3B 0A 0A 20 20 20 20 20 20 20 20 20 20 20    [];.............
00004a40: 20 20 66 6F 72 28 76 61 72 20 42 3D 30 2C 20 41    ..for(var.B=0,.A
00004a50: 3D 43 2E 6C 65 6E 67 74 68 3B 20 42 3C 41 3B 20    =C.length;.B<A;.
00004a60: 42 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20    B++).{..........
00004a70: 20 20 20 20 20 20 20 20 44 5B 42 5D 3D 43 5B 42    ........D[B]=C[B
00004a80: 5D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ]..............}
00004a90: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
00004aa0: 65 74 75 72 6E 20 44 0A 20 20 20 20 20 20 20 20    eturn.D.........
00004ab0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 72 65 74    .}...........ret
00004ac0: 75 72 6E 20 41 72 72 61 79 2E 70 72 6F 74 6F 74    urn.Array.protot
00004ad0: 79 70 65 2E 73 6C 69 63 65 2E 63 61 6C 6C 28 43    ype.slice.call(C
00004ae0: 29 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 66    )......}.......f
00004af0: 75 6E 63 74 69 6F 6E 20 24 65 61 63 68 28 43 2C    unction.$each(C,
00004b00: 20 42 2C 20 44 29 20 7B 0A 20 20 20 20 20 20 20    .B,.D).{........
00004b10: 20 20 76 61 72 20 41 3D 24 74 79 70 65 28 43 29    ..var.A=$type(C)
00004b20: 3B 0A 20 20 20 20 20 20 20 20 20 28 28 41 3D 3D    ;..........((A==
00004b30: 22 61 72 67 75 6D 65 6E 74 73 22 7C 7C 41 3D 3D    "arguments"||A==
00004b40: 22 63 6F 6C 6C 65 63 74 69 6F 6E 22 7C 7C 41 3D    "collection"||A=
00004b50: 3D 22 61 72 72 61 79 22 29 3F 41 72 72 61 79 3A    ="array")?Array:
00004b60: 48 61 73 68 29 2E 65 61 63 68 28 43 2C 20 42 2C    Hash).each(C,.B,
00004b70: 20 44 29 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20    .D)......}......
00004b80: 20 76 61 72 20 42 72 6F 77 73 65 72 3D 6E 65 77    .var.Browser=new
00004b90: 20 48 61 73 68 28 20 7B 0A 20 20 20 20 20 20 20    .Hash(.{........
00004ba0: 20 20 20 20 20 20 45 6E 67 69 6E 65 3A 20 7B 0A    ......Engine:.{.
00004bb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004bc0: 20 6E 61 6D 65 3A 22 75 6E 6B 6E 6F 77 6E 22 2C    .name:"unknown",
00004bd0: 20 76 65 72 73 69 6F 6E 3A 22 22 0A 20 20 20 20    .version:"".....
00004be0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00004bf0: 20 20 20 20 20 20 20 20 20 2C 20 50 6C 61 74 66    .........,.Platf
00004c00: 6F 72 6D 3A 20 7B 0A 20 20 20 20 20 20 20 20 20    orm:.{..........
00004c10: 20 20 20 20 20 20 20 20 6E 61 6D 65 3A 28 6E 61    ........name:(na
00004c20: 76 69 67 61 74 6F 72 2E 70 6C 61 74 66 6F 72 6D    vigator.platform
00004c30: 2E 6D 61 74 63 68 28 2F 6D 61 63 7C 77 69 6E 7C    .match(/mac|win|
00004c40: 6C 69 6E 75 78 2F 69 29 7C 7C 5B 22 6F 74 68 65    linux/i)||["othe
00004c50: 72 22 5D 29 5B 30 5D 2E 74 6F 4C 6F 77 65 72 43    r"])[0].toLowerC
00004c60: 61 73 65 28 29 0A 20 20 20 20 20 20 20 20 20 20    ase()...........
00004c70: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00004c80: 20 20 20 2C 20 46 65 61 74 75 72 65 73 3A 20 7B    ...,.Features:.{
00004c90: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004ca0: 20 20 78 70 61 74 68 3A 20 21 20 21 28 64 6F 63    ..xpath:.!.!(doc
00004cb0: 75 6D 65 6E 74 2E 65 76 61 6C 75 61 74 65 29 2C    ument.evaluate),
00004cc0: 20 61 69 72 3A 20 21 20 21 28 77 69 6E 64 6F 77    .air:.!.!(window
00004cd0: 2E 72 75 6E 74 69 6D 65 29 0A 20 20 20 20 20 20    .runtime).......
00004ce0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00004cf0: 20 20 20 20 20 20 20 2C 20 50 6C 75 67 69 6E 73    .......,.Plugins
00004d00: 3A 20 7B 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A    :.{}..........}.
00004d10: 0A 20 20 20 20 20 29 3B 0A 0A 20 20 20 20 20 69    ......);.......i
00004d20: 66 28 77 69 6E 64 6F 77 2E 6F 70 65 72 61 29 20    f(window.opera).
00004d30: 7B 0A 20 20 20 20 20 20 20 20 20 42 72 6F 77 73    {..........Brows
00004d40: 65 72 2E 45 6E 67 69 6E 65 3D 20 7B 0A 20 20 20    er.Engine=.{....
00004d50: 20 20 20 20 20 20 20 20 20 20 6E 61 6D 65 3A 20    ..........name:.
00004d60: 22 70 72 65 73 74 6F 22 2C 20 76 65 72 73 69 6F    "presto",.versio
00004d70: 6E 3A 28 64 6F 63 75 6D 65 6E 74 2E 67 65 74 45    n:(document.getE
00004d80: 6C 65 6D 65 6E 74 73 42 79 43 6C 61 73 73 4E 61    lementsByClassNa
00004d90: 6D 65 29 3F 39 35 30 3A 39 32 35 0A 20 20 20 20    me)?950:925.....
00004da0: 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A 20    .....}......}...
00004db0: 20 20 20 20 65 6C 73 65 20 7B 0A 20 20 20 20 20    ....else.{......
00004dc0: 20 20 20 20 69 66 28 77 69 6E 64 6F 77 2E 41 63    ....if(window.Ac
00004dd0: 74 69 76 65 58 4F 62 6A 65 63 74 29 20 7B 0A 20    tiveXObject).{..
00004de0: 20 20 20 20 20 20 20 20 20 20 20 20 42 72 6F 77    ............Brow
00004df0: 73 65 72 2E 45 6E 67 69 6E 65 3D 20 7B 0A 20 20    ser.Engine=.{...
00004e00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 6E    ...............n
00004e10: 61 6D 65 3A 20 22 74 72 69 64 65 6E 74 22 2C 20    ame:."trident",.
00004e20: 76 65 72 73 69 6F 6E 3A 28 77 69 6E 64 6F 77 2E    version:(window.
00004e30: 58 4D 4C 48 74 74 70 52 65 71 75 65 73 74 29 3F    XMLHttpRequest)?
00004e40: 35 3A 34 0A 20 20 20 20 20 20 20 20 20 20 20 20    5:4.............
00004e50: 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    .}..........}...
00004e60: 20 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A 20    ........else.{..
00004e70: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 20    ............if(.
00004e80: 21 6E 61 76 69 67 61 74 6F 72 2E 74 61 69 6E 74    !navigator.taint
00004e90: 45 6E 61 62 6C 65 64 29 20 7B 0A 20 20 20 20 20    Enabled).{......
00004ea0: 20 20 20 20 20 20 20 20 20 20 20 20 42 72 6F 77    ............Brow
00004eb0: 73 65 72 2E 45 6E 67 69 6E 65 3D 20 7B 0A 20 20    ser.Engine=.{...
00004ec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004ed0: 20 20 20 6E 61 6D 65 3A 20 22 77 65 62 6B 69 74    ...name:."webkit
00004ee0: 22 2C 20 76 65 72 73 69 6F 6E 3A 28 42 72 6F 77    ",.version:(Brow
00004ef0: 73 65 72 2E 46 65 61 74 75 72 65 73 2E 78 70 61    ser.Features.xpa
00004f00: 74 68 29 3F 34 32 30 3A 34 31 39 0A 20 20 20 20    th)?420:419.....
00004f10: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20    .............}..
00004f20: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00004f30: 20 20 20 20 20 20 20 20 20 20 20 20 65 6C 73 65    ............else
00004f40: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00004f50: 20 20 20 20 69 66 28 64 6F 63 75 6D 65 6E 74 2E    ....if(document.
00004f60: 67 65 74 42 6F 78 4F 62 6A 65 63 74 46 6F 72 20    getBoxObjectFor.
00004f70: 21 3D 6E 75 6C 6C 29 20 7B 0A 20 20 20 20 20 20    !=null).{.......
00004f80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 42    ...............B
00004f90: 72 6F 77 73 65 72 2E 45 6E 67 69 6E 65 3D 20 7B    rowser.Engine=.{
00004fa0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00004fb0: 20 20 20 20 20 20 20 20 20 20 6E 61 6D 65 3A 20    ..........name:.
00004fc0: 22 67 65 63 6B 6F 22 2C 20 76 65 72 73 69 6F 6E    "gecko",.version
00004fd0: 3A 28 64 6F 63 75 6D 65 6E 74 2E 67 65 74 45 6C    :(document.getEl
00004fe0: 65 6D 65 6E 74 73 42 79 43 6C 61 73 73 4E 61 6D    ementsByClassNam
00004ff0: 65 29 3F 31 39 3A 31 38 0A 20 20 20 20 20 20 20    e)?19:18........
00005000: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00005010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005020: 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00005030: 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    }..........}....
00005040: 20 20 7D 0A 0A 20 20 20 20 20 42 72 6F 77 73 65    ..}.......Browse
00005050: 72 2E 45 6E 67 69 6E 65 5B 42 72 6F 77 73 65 72    r.Engine[Browser
00005060: 2E 45 6E 67 69 6E 65 2E 6E 61 6D 65 5D 3D 42 72    .Engine.name]=Br
00005070: 6F 77 73 65 72 2E 45 6E 67 69 6E 65 5B 42 72 6F    owser.Engine[Bro
00005080: 77 73 65 72 2E 45 6E 67 69 6E 65 2E 6E 61 6D 65    wser.Engine.name
00005090: 2B 42 72 6F 77 73 65 72 2E 45 6E 67 69 6E 65 2E    +Browser.Engine.
000050a0: 76 65 72 73 69 6F 6E 5D 3D 20 21 30 3B 0A 0A 20    version]=.!0;...
000050b0: 20 20 20 20 69 66 28 77 69 6E 64 6F 77 2E 6F 72    ....if(window.or
000050c0: 69 65 6E 74 61 74 69 6F 6E 20 21 3D 75 6E 64 65    ientation.!=unde
000050d0: 66 69 6E 65 64 29 20 7B 0A 20 20 20 20 20 20 20    fined).{........
000050e0: 20 20 42 72 6F 77 73 65 72 2E 50 6C 61 74 66 6F    ..Browser.Platfo
000050f0: 72 6D 2E 6E 61 6D 65 3D 22 69 70 6F 64 22 0A 20    rm.name="ipod"..
00005100: 20 20 20 20 7D 0A 0A 20 20 20 20 20 42 72 6F 77    ....}.......Brow
00005110: 73 65 72 2E 50 6C 61 74 66 6F 72 6D 5B 42 72 6F    ser.Platform[Bro
00005120: 77 73 65 72 2E 50 6C 61 74 66 6F 72 6D 2E 6E 61    wser.Platform.na
00005130: 6D 65 5D 3D 20 21 30 3B 0A 0A 20 20 20 20 20 42    me]=.!0;.......B
00005140: 72 6F 77 73 65 72 2E 52 65 71 75 65 73 74 3D 66    rowser.Request=f
00005150: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
00005160: 20 20 20 20 20 72 65 74 75 72 6E 20 24 74 72 79    .....return.$try
00005170: 28 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    (function().{...
00005180: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
00005190: 65 74 75 72 6E 20 6E 65 77 20 58 4D 4C 48 74 74    eturn.new.XMLHtt
000051a0: 70 52 65 71 75 65 73 74 28 29 0A 20 20 20 20 20    pRequest()......
000051b0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000051c0: 20 20 20 20 20 20 20 20 2C 20 66 75 6E 63 74 69    ........,.functi
000051d0: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
000051e0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 6E    ........return.n
000051f0: 65 77 20 41 63 74 69 76 65 58 4F 62 6A 65 63 74    ew.ActiveXObject
00005200: 28 22 4D 53 58 4D 4C 32 2E 58 4D 4C 48 54 54 50    ("MSXML2.XMLHTTP
00005210: 22 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ")..............
00005220: 7D 0A 0A 20 20 20 20 20 20 20 20 20 29 0A 20 20    }...........)...
00005230: 20 20 20 7D 0A 0A 20 20 20 20 20 3B 0A 20 20 20    ...}.......;....
00005240: 20 20 42 72 6F 77 73 65 72 2E 46 65 61 74 75 72    ..Browser.Featur
00005250: 65 73 2E 78 68 72 3D 20 21 20 21 28 42 72 6F 77    es.xhr=.!.!(Brow
00005260: 73 65 72 2E 52 65 71 75 65 73 74 28 29 29 3B 0A    ser.Request());.
00005270: 0A 20 20 20 20 20 42 72 6F 77 73 65 72 2E 50 6C    ......Browser.Pl
00005280: 75 67 69 6E 73 2E 46 6C 61 73 68 3D 28 66 75 6E    ugins.Flash=(fun
00005290: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
000052a0: 20 20 20 20 20 20 20 76 61 72 20 41 3D 28 24 74    .......var.A=($t
000052b0: 72 79 28 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    ry(function().{.
000052c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000052d0: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
000052e0: 6E 61 76 69 67 61 74 6F 72 2E 70 6C 75 67 69 6E    navigator.plugin
000052f0: 73 5B 22 53 68 6F 63 6B 77 61 76 65 20 46 6C 61    s["Shockwave.Fla
00005300: 73 68 22 5D 2E 64 65 73 63 72 69 70 74 69 6F 6E    sh"].description
00005310: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005320: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00005330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00005340: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
00005350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005360: 20 20 20 20 20 20 72 65 74 75 72 6E 20 6E 65 77    ......return.new
00005370: 20 41 63 74 69 76 65 58 4F 62 6A 65 63 74 28 22    .ActiveXObject("
00005380: 53 68 6F 63 6B 77 61 76 65 46 6C 61 73 68 2E 53    ShockwaveFlash.S
00005390: 68 6F 63 6B 77 61 76 65 46 6C 61 73 68 22 29 2E    hockwaveFlash").
000053a0: 47 65 74 56 61 72 69 61 62 6C 65 28 22 24 76 65    GetVariable("$ve
000053b0: 72 73 69 6F 6E 22 29 0A 20 20 20 20 20 20 20 20    rsion").........
000053c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
000053d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000053e0: 20 29 7C 7C 22 30 20 72 30 22 29 2E 6D 61 74 63    .)||"0.r0").matc
000053f0: 68 28 2F 5C 64 2B 2F 67 29 3B 20 72 65 74 75 72    h(/\d+/g);.retur
00005400: 6E 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    n.{.............
00005410: 20 20 20 20 20 76 65 72 73 69 6F 6E 3A 70 61 72    .....version:par
00005420: 73 65 49 6E 74 28 41 5B 30 5D 7C 7C 30 2B 22 2E    seInt(A[0]||0+".
00005430: 22 2B 41 5B 31 5D 7C 7C 30 29 2C 20 62 75 69 6C    "+A[1]||0),.buil
00005440: 64 3A 70 61 72 73 65 49 6E 74 28 41 5B 32 5D 7C    d:parseInt(A[2]|
00005450: 7C 30 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    |0).............
00005460: 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    .}..........}...
00005470: 20 20 20 20 29 28 29 3B 0A 0A 20 20 20 20 20 66    ....)();.......f
00005480: 75 6E 63 74 69 6F 6E 20 24 65 78 65 63 28 42 29    unction.$exec(B)
00005490: 20 7B 0A 20 20 20 20 20 20 20 20 20 69 66 28 20    .{..........if(.
000054a0: 21 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    !B).{...........
000054b0: 20 20 20 72 65 74 75 72 6E 20 42 0A 20 20 20 20    ...return.B.....
000054c0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000054d0: 20 69 66 28 77 69 6E 64 6F 77 2E 65 78 65 63 53    .if(window.execS
000054e0: 63 72 69 70 74 29 20 7B 0A 20 20 20 20 20 20 20    cript).{........
000054f0: 20 20 20 20 20 20 77 69 6E 64 6F 77 2E 65 78 65    ......window.exe
00005500: 63 53 63 72 69 70 74 28 42 29 0A 20 20 20 20 20    cScript(B)......
00005510: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00005520: 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20 20    else.{..........
00005530: 20 20 20 20 76 61 72 20 41 3D 64 6F 63 75 6D 65    ....var.A=docume
00005540: 6E 74 2E 63 72 65 61 74 65 45 6C 65 6D 65 6E 74    nt.createElement
00005550: 28 22 73 63 72 69 70 74 22 29 3B 0A 20 20 20 20    ("script");.....
00005560: 20 20 20 20 20 20 20 20 20 41 2E 73 65 74 41 74    .........A.setAt
00005570: 74 72 69 62 75 74 65 28 22 74 79 70 65 22 2C 20    tribute("type",.
00005580: 22 74 65 78 74 2F 6A 61 76 61 73 63 72 69 70 74    "text/javascript
00005590: 22 29 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ");.............
000055a0: 20 41 2E 74 65 78 74 3D 42 3B 0A 20 20 20 20 20    .A.text=B;......
000055b0: 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65 6E 74    ........document
000055c0: 2E 68 65 61 64 2E 61 70 70 65 6E 64 43 68 69 6C    .head.appendChil
000055d0: 64 28 41 29 3B 0A 20 20 20 20 20 20 20 20 20 20    d(A);...........
000055e0: 20 20 20 64 6F 63 75 6D 65 6E 74 2E 68 65 61 64    ...document.head
000055f0: 2E 72 65 6D 6F 76 65 43 68 69 6C 64 28 41 29 0A    .removeChild(A).
00005600: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00005610: 20 20 20 20 20 72 65 74 75 72 6E 20 42 0A 20 20    .....return.B...
00005620: 20 20 20 7D 0A 0A 20 20 20 20 20 4E 61 74 69 76    ...}.......Nativ
00005630: 65 2E 55 49 44 3D 31 3B 0A 0A 20 20 20 20 20 76    e.UID=1;.......v
00005640: 61 72 20 24 75 69 64 3D 28 42 72 6F 77 73 65 72    ar.$uid=(Browser
00005650: 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74 29    .Engine.trident)
00005660: 3F 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20    ?function(A).{..
00005670: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 28 41    ........return(A
00005680: 2E 75 69 64 7C 7C 28 41 2E 75 69 64 3D 5B 4E 61    .uid||(A.uid=[Na
00005690: 74 69 76 65 2E 55 49 44 2B 2B 5D 29 29 5B 30 5D    tive.UID++]))[0]
000056a0: 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 3A 66    ......}.......:f
000056b0: 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20    unction(A).{....
000056c0: 20 20 20 20 20 20 72 65 74 75 72 6E 20 41 2E 75    ......return.A.u
000056d0: 69 64 7C 7C 28 41 2E 75 69 64 3D 4E 61 74 69 76    id||(A.uid=Nativ
000056e0: 65 2E 55 49 44 2B 2B 29 0A 20 20 20 20 20 7D 0A    e.UID++)......}.
000056f0: 0A 20 20 20 20 20 3B 0A 0A 20 20 20 20 20 76 61    ......;.......va
00005700: 72 20 57 69 6E 64 6F 77 3D 6E 65 77 20 4E 61 74    r.Window=new.Nat
00005710: 69 76 65 28 20 7B 0A 20 20 20 20 20 20 20 20 20    ive(.{..........
00005720: 20 20 20 20 6E 61 6D 65 3A 22 57 69 6E 64 6F 77    ....name:"Window
00005730: 22 2C 20 6C 65 67 61 63 79 3A 28 42 72 6F 77 73    ",.legacy:(Brows
00005740: 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E    er.Engine.triden
00005750: 74 29 3F 6E 75 6C 6C 3A 77 69 6E 64 6F 77 2E 57    t)?null:window.W
00005760: 69 6E 64 6F 77 2C 20 69 6E 69 74 69 61 6C 69 7A    indow,.initializ
00005770: 65 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    e:function(A).{.
00005780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005790: 20 24 75 69 64 28 41 29 3B 20 69 66 28 20 21 41    .$uid(A);.if(.!A
000057a0: 2E 45 6C 65 6D 65 6E 74 29 20 7B 0A 20 20 20 20    .Element).{.....
000057b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000057c0: 20 41 2E 45 6C 65 6D 65 6E 74 3D 24 65 6D 70 74    .A.Element=$empt
000057d0: 79 3B 20 69 66 28 42 72 6F 77 73 65 72 2E 45 6E    y;.if(Browser.En
000057e0: 67 69 6E 65 2E 77 65 62 6B 69 74 29 20 7B 0A 20    gine.webkit).{..
000057f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005800: 20 20 20 20 20 20 20 20 41 2E 64 6F 63 75 6D 65    ........A.docume
00005810: 6E 74 2E 63 72 65 61 74 65 45 6C 65 6D 65 6E 74    nt.createElement
00005820: 28 22 69 66 72 61 6D 65 22 29 0A 20 20 20 20 20    ("iframe")......
00005830: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005840: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00005850: 20 20 20 20 20 20 20 20 41 2E 45 6C 65 6D 65 6E    ........A.Elemen
00005860: 74 2E 70 72 6F 74 6F 74 79 70 65 3D 28 42 72 6F    t.prototype=(Bro
00005870: 77 73 65 72 2E 45 6E 67 69 6E 65 2E 77 65 62 6B    wser.Engine.webk
00005880: 69 74 29 3F 77 69 6E 64 6F 77 5B 22 5B 5B 44 4F    it)?window["[[DO
00005890: 4D 45 6C 65 6D 65 6E 74 2E 70 72 6F 74 6F 74 79    MElement.prototy
000058a0: 70 65 5D 5D 22 5D 3A 20 7B 7D 0A 20 20 20 20 20    pe]]"]:.{}......
000058b0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
000058c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000058d0: 72 65 74 75 72 6E 20 24 65 78 74 65 6E 64 28 41    return.$extend(A
000058e0: 2C 20 57 69 6E 64 6F 77 2E 50 72 6F 74 6F 74 79    ,.Window.Prototy
000058f0: 70 65 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    pe).............
00005900: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00005910: 20 2C 20 61 66 74 65 72 49 6D 70 6C 65 6D 65 6E    .,.afterImplemen
00005920: 74 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29    t:function(B,.A)
00005930: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00005940: 20 20 20 20 77 69 6E 64 6F 77 5B 42 5D 3D 57 69    ....window[B]=Wi
00005950: 6E 64 6F 77 2E 50 72 6F 74 6F 74 79 70 65 5B 42    ndow.Prototype[B
00005960: 5D 3D 41 0A 20 20 20 20 20 20 20 20 20 20 20 20    ]=A.............
00005970: 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    .}..........}...
00005980: 20 20 20 20 29 3B 0A 0A 20 20 20 20 20 57 69 6E    ....);.......Win
00005990: 64 6F 77 2E 50 72 6F 74 6F 74 79 70 65 3D 20 7B    dow.Prototype=.{
000059a0: 0A 20 20 20 20 20 20 20 20 20 24 66 61 6D 69 6C    ..........$famil
000059b0: 79 3A 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    y:.{............
000059c0: 20 20 6E 61 6D 65 3A 20 22 77 69 6E 64 6F 77 22    ..name:."window"
000059d0: 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
000059e0: 20 7D 0A 0A 20 20 20 20 20 3B 0A 20 20 20 20 20    .}.......;......
000059f0: 6E 65 77 20 57 69 6E 64 6F 77 28 77 69 6E 64 6F    new.Window(windo
00005a00: 77 29 3B 0A 0A 20 20 20 20 20 76 61 72 20 44 6F    w);.......var.Do
00005a10: 63 75 6D 65 6E 74 3D 6E 65 77 20 4E 61 74 69 76    cument=new.Nativ
00005a20: 65 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    e(.{............
00005a30: 20 20 6E 61 6D 65 3A 22 44 6F 63 75 6D 65 6E 74    ..name:"Document
00005a40: 22 2C 20 6C 65 67 61 63 79 3A 28 42 72 6F 77 73    ",.legacy:(Brows
00005a50: 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E    er.Engine.triden
00005a60: 74 29 3F 6E 75 6C 6C 3A 77 69 6E 64 6F 77 2E 44    t)?null:window.D
00005a70: 6F 63 75 6D 65 6E 74 2C 20 69 6E 69 74 69 61 6C    ocument,.initial
00005a80: 69 7A 65 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20    ize:function(A).
00005a90: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00005aa0: 20 20 20 24 75 69 64 28 41 29 3B 20 41 2E 68 65    ...$uid(A);.A.he
00005ab0: 61 64 3D 41 2E 67 65 74 45 6C 65 6D 65 6E 74 73    ad=A.getElements
00005ac0: 42 79 54 61 67 4E 61 6D 65 28 22 68 65 61 64 22    ByTagName("head"
00005ad0: 29 5B 30 5D 3B 20 41 2E 68 74 6D 6C 3D 41 2E 67    )[0];.A.html=A.g
00005ae0: 65 74 45 6C 65 6D 65 6E 74 73 42 79 54 61 67 4E    etElementsByTagN
00005af0: 61 6D 65 28 22 68 74 6D 6C 22 29 5B 30 5D 3B 20    ame("html")[0];.
00005b00: 41 2E 77 69 6E 64 6F 77 3D 41 2E 64 65 66 61 75    A.window=A.defau
00005b10: 6C 74 56 69 65 77 7C 7C 41 2E 70 61 72 65 6E 74    ltView||A.parent
00005b20: 57 69 6E 64 6F 77 3B 20 69 66 28 42 72 6F 77 73    Window;.if(Brows
00005b30: 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E    er.Engine.triden
00005b40: 74 34 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    t4).{...........
00005b50: 20 20 20 20 20 20 20 20 20 20 20 24 74 72 79 28    ...........$try(
00005b60: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
00005b70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005b80: 20 20 20 20 20 20 20 20 20 20 41 2E 65 78 65 63    ..........A.exec
00005b90: 43 6F 6D 6D 61 6E 64 28 22 42 61 63 6B 67 72 6F    Command("Backgro
00005ba0: 75 6E 64 49 6D 61 67 65 43 61 63 68 65 22 2C 20    undImageCache",.
00005bb0: 20 21 31 2C 20 20 21 30 29 0A 20 20 20 20 20 20    .!1,..!0).......
00005bc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005bd0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00005be0: 20 20 20 20 20 20 20 20 20 20 20 29 0A 20 20 20    ...........)....
00005bf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00005c00: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005c10: 20 20 72 65 74 75 72 6E 20 24 65 78 74 65 6E 64    ..return.$extend
00005c20: 28 41 2C 20 44 6F 63 75 6D 65 6E 74 2E 50 72 6F    (A,.Document.Pro
00005c30: 74 6F 74 79 70 65 29 0A 20 20 20 20 20 20 20 20    totype).........
00005c40: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00005c50: 20 20 20 20 20 2C 20 61 66 74 65 72 49 6D 70 6C    .....,.afterImpl
00005c60: 65 6D 65 6E 74 3A 66 75 6E 63 74 69 6F 6E 28 42    ement:function(B
00005c70: 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.A).{..........
00005c80: 20 20 20 20 20 20 20 20 64 6F 63 75 6D 65 6E 74    ........document
00005c90: 5B 42 5D 3D 44 6F 63 75 6D 65 6E 74 2E 50 72 6F    [B]=Document.Pro
00005ca0: 74 6F 74 79 70 65 5B 42 5D 3D 41 0A 20 20 20 20    totype[B]=A.....
00005cb0: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
00005cc0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 29 3B 0A 0A    ....}.......);..
00005cd0: 20 20 20 20 20 44 6F 63 75 6D 65 6E 74 2E 50 72    .....Document.Pr
00005ce0: 6F 74 6F 74 79 70 65 3D 20 7B 0A 20 20 20 20 20    ototype=.{......
00005cf0: 20 20 20 20 24 66 61 6D 69 6C 79 3A 20 7B 0A 20    ....$family:.{..
00005d00: 20 20 20 20 20 20 20 20 20 20 20 20 6E 61 6D 65    ............name
00005d10: 3A 20 22 64 6F 63 75 6D 65 6E 74 22 0A 20 20 20    :."document"....
00005d20: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
00005d30: 20 20 20 20 20 3B 0A 20 20 20 20 20 6E 65 77 20    .....;......new.
00005d40: 44 6F 63 75 6D 65 6E 74 28 64 6F 63 75 6D 65 6E    Document(documen
00005d50: 74 29 3B 0A 0A 20 20 20 20 20 41 72 72 61 79 2E    t);.......Array.
00005d60: 69 6D 70 6C 65 6D 65 6E 74 28 20 7B 0A 20 20 20    implement(.{....
00005d70: 20 20 20 20 20 20 20 20 20 20 65 76 65 72 79 3A    ..........every:
00005d80: 66 75 6E 63 74 69 6F 6E 28 43 2C 20 44 29 20 7B    function(C,.D).{
00005d90: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005da0: 20 20 66 6F 72 28 76 61 72 20 42 3D 30 2C 20 41    ..for(var.B=0,.A
00005db0: 3D 74 68 69 73 2E 6C 65 6E 67 74 68 3B 20 42 3C    =this.length;.B<
00005dc0: 41 3B 20 42 2B 2B 29 20 7B 0A 20 20 20 20 20 20    A;.B++).{.......
00005dd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
00005de0: 66 28 20 21 43 2E 63 61 6C 6C 28 44 2C 20 74 68    f(.!C.call(D,.th
00005df0: 69 73 5B 42 5D 2C 20 42 2C 20 74 68 69 73 29 29    is[B],.B,.this))
00005e00: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00005e10: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00005e20: 72 6E 20 21 31 0A 20 20 20 20 20 20 20 20 20 20    rn.!1...........
00005e30: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00005e40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00005e50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005e60: 20 20 72 65 74 75 72 6E 20 21 30 0A 20 20 20 20    ..return.!0.....
00005e70: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00005e80: 20 20 20 20 20 20 20 20 20 2C 20 66 69 6C 74 65    .........,.filte
00005e90: 72 3A 66 75 6E 63 74 69 6F 6E 28 44 2C 20 45 29    r:function(D,.E)
00005ea0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00005eb0: 20 20 20 20 76 61 72 20 43 3D 5B 5D 3B 20 66 6F    ....var.C=[];.fo
00005ec0: 72 28 76 61 72 20 42 3D 30 2C 20 41 3D 74 68 69    r(var.B=0,.A=thi
00005ed0: 73 2E 6C 65 6E 67 74 68 3B 20 42 3C 41 3B 20 42    s.length;.B<A;.B
00005ee0: 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ++).{...........
00005ef0: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 44 2E    ...........if(D.
00005f00: 63 61 6C 6C 28 45 2C 20 74 68 69 73 5B 42 5D 2C    call(E,.this[B],
00005f10: 20 42 2C 20 74 68 69 73 29 29 20 7B 0A 20 20 20    .B,.this)).{....
00005f20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005f30: 20 20 20 20 20 20 43 2E 70 75 73 68 28 74 68 69    ......C.push(thi
00005f40: 73 5B 42 5D 29 0A 20 20 20 20 20 20 20 20 20 20    s[B])...........
00005f50: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00005f60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00005f70: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00005f80: 20 20 72 65 74 75 72 6E 20 43 0A 20 20 20 20 20    ..return.C......
00005f90: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00005fa0: 20 20 20 20 20 20 20 20 2C 20 63 6C 65 61 6E 3A    ........,.clean:
00005fb0: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
00005fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00005fd0: 74 75 72 6E 20 74 68 69 73 2E 66 69 6C 74 65 72    turn.this.filter
00005fe0: 28 24 64 65 66 69 6E 65 64 29 0A 20 20 20 20 20    ($defined)......
00005ff0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00006000: 20 20 20 20 20 20 20 20 2C 20 69 6E 64 65 78 4F    ........,.indexO
00006010: 66 3A 66 75 6E 63 74 69 6F 6E 28 43 2C 20 44 29    f:function(C,.D)
00006020: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00006030: 20 20 20 20 76 61 72 20 41 3D 74 68 69 73 2E 6C    ....var.A=this.l
00006040: 65 6E 67 74 68 3B 20 66 6F 72 28 76 61 72 20 42    ength;.for(var.B
00006050: 3D 28 44 3C 30 29 3F 4D 61 74 68 2E 6D 61 78 28    =(D<0)?Math.max(
00006060: 30 2C 20 41 2B 44 29 3A 44 7C 7C 30 3B 20 42 3C    0,.A+D):D||0;.B<
00006070: 41 3B 20 42 2B 2B 29 20 7B 0A 20 20 20 20 20 20    A;.B++).{.......
00006080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
00006090: 66 28 74 68 69 73 5B 42 5D 3D 3D 3D 43 29 20 7B    f(this[B]===C).{
000060a0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000060b0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
000060c0: 20 42 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .B..............
000060d0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
000060e0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
000060f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
00006100: 65 74 75 72 6E 2D 31 0A 20 20 20 20 20 20 20 20    eturn-1.........
00006110: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00006120: 20 20 20 20 20 2C 20 6D 61 70 3A 66 75 6E 63 74    .....,.map:funct
00006130: 69 6F 6E 28 44 2C 20 45 29 20 7B 0A 20 20 20 20    ion(D,.E).{.....
00006140: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
00006150: 20 43 3D 5B 5D 3B 20 66 6F 72 28 76 61 72 20 42    .C=[];.for(var.B
00006160: 3D 30 2C 20 41 3D 74 68 69 73 2E 6C 65 6E 67 74    =0,.A=this.lengt
00006170: 68 3B 20 42 3C 41 3B 20 42 2B 2B 29 20 7B 0A 20    h;.B<A;.B++).{..
00006180: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006190: 20 20 20 20 43 5B 42 5D 3D 44 2E 63 61 6C 6C 28    ....C[B]=D.call(
000061a0: 45 2C 20 74 68 69 73 5B 42 5D 2C 20 42 2C 20 74    E,.this[B],.B,.t
000061b0: 68 69 73 29 0A 20 20 20 20 20 20 20 20 20 20 20    his)............
000061c0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
000061d0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
000061e0: 20 43 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .C..............
000061f0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00006200: 2C 20 73 6F 6D 65 3A 66 75 6E 63 74 69 6F 6E 28    ,.some:function(
00006210: 43 2C 20 44 29 20 7B 0A 20 20 20 20 20 20 20 20    C,.D).{.........
00006220: 20 20 20 20 20 20 20 20 20 66 6F 72 28 76 61 72    .........for(var
00006230: 20 42 3D 30 2C 20 41 3D 74 68 69 73 2E 6C 65 6E    .B=0,.A=this.len
00006240: 67 74 68 3B 20 42 3C 41 3B 20 42 2B 2B 29 20 7B    gth;.B<A;.B++).{
00006250: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006260: 20 20 20 20 20 20 69 66 28 43 2E 63 61 6C 6C 28    ......if(C.call(
00006270: 44 2C 20 74 68 69 73 5B 42 5D 2C 20 42 2C 20 74    D,.this[B],.B,.t
00006280: 68 69 73 29 29 20 7B 0A 20 20 20 20 20 20 20 20    his)).{.........
00006290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000062a0: 20 72 65 74 75 72 6E 20 21 30 0A 20 20 20 20 20    .return.!0......
000062b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000062c0: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
000062d0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
000062e0: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 21 31    .......return.!1
000062f0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00006300: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00006310: 61 73 73 6F 63 69 61 74 65 3A 66 75 6E 63 74 69    associate:functi
00006320: 6F 6E 28 43 29 20 7B 0A 20 20 20 20 20 20 20 20    on(C).{.........
00006330: 20 20 20 20 20 20 20 20 20 76 61 72 20 44 3D 20    .........var.D=.
00006340: 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    {}..............
00006350: 20 20 20 20 20 2C 20 42 3D 4D 61 74 68 2E 6D 69    .....,.B=Math.mi
00006360: 6E 28 74 68 69 73 2E 6C 65 6E 67 74 68 2C 20 43    n(this.length,.C
00006370: 2E 6C 65 6E 67 74 68 29 3B 20 66 6F 72 28 76 61    .length);.for(va
00006380: 72 20 41 3D 30 3B 20 41 3C 42 3B 20 41 2B 2B 29    r.A=0;.A<B;.A++)
00006390: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000063a0: 20 20 20 20 20 20 20 20 44 5B 43 5B 41 5D 5D 3D    ........D[C[A]]=
000063b0: 74 68 69 73 5B 41 5D 0A 20 20 20 20 20 20 20 20    this[A].........
000063c0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000063d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
000063e0: 75 72 6E 20 44 0A 20 20 20 20 20 20 20 20 20 20    urn.D...........
000063f0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00006400: 20 20 20 2C 20 6C 69 6E 6B 3A 66 75 6E 63 74 69    ...,.link:functi
00006410: 6F 6E 28 43 29 20 7B 0A 20 20 20 20 20 20 20 20    on(C).{.........
00006420: 20 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 20    .........var.A=.
00006430: 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    {}..............
00006440: 20 20 20 20 20 3B 20 66 6F 72 28 76 61 72 20 45    .....;.for(var.E
00006450: 3D 30 2C 20 42 3D 74 68 69 73 2E 6C 65 6E 67 74    =0,.B=this.lengt
00006460: 68 3B 20 45 3C 42 3B 20 45 2B 2B 29 20 7B 0A 20    h;.E<B;.E++).{..
00006470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006480: 20 20 20 20 66 6F 72 28 76 61 72 20 44 20 69 6E    ....for(var.D.in
00006490: 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .C).{...........
000064a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
000064b0: 66 28 43 5B 44 5D 28 74 68 69 73 5B 45 5D 29 29    f(C[D](this[E]))
000064c0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000064d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000064e0: 41 5B 44 5D 3D 74 68 69 73 5B 45 5D 3B 20 64 65    A[D]=this[E];.de
000064f0: 6C 65 74 65 20 43 5B 44 5D 3B 20 62 72 65 61 6B    lete.C[D];.break
00006500: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006510: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
00006520: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006530: 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00006540: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00006550: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 41    ........return.A
00006560: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00006570: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00006580: 63 6F 6E 74 61 69 6E 73 3A 66 75 6E 63 74 69 6F    contains:functio
00006590: 6E 28 41 2C 20 42 29 20 7B 0A 20 20 20 20 20 20    n(A,.B).{.......
000065a0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
000065b0: 6E 20 74 68 69 73 2E 69 6E 64 65 78 4F 66 28 41    n.this.indexOf(A
000065c0: 2C 20 42 29 20 21 3D 2D 31 0A 20 20 20 20 20 20    ,.B).!=-1.......
000065d0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000065e0: 20 20 20 20 20 20 20 2C 20 65 78 74 65 6E 64 3A    .......,.extend:
000065f0: 66 75 6E 63 74 69 6F 6E 28 43 29 20 7B 0A 20 20    function(C).{...
00006600: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 66    ...............f
00006610: 6F 72 28 76 61 72 20 42 3D 30 2C 20 41 3D 43 2E    or(var.B=0,.A=C.
00006620: 6C 65 6E 67 74 68 3B 20 42 3C 41 3B 20 42 2B 2B    length;.B<A;.B++
00006630: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00006640: 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 70 75    .........this.pu
00006650: 73 68 28 43 5B 42 5D 29 0A 20 20 20 20 20 20 20    sh(C[B])........
00006660: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00006670: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00006680: 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20    turn.this.......
00006690: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000066a0: 20 20 20 20 20 20 20 2C 20 67 65 74 4C 61 73 74    .......,.getLast
000066b0: 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    :function().{...
000066c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
000066d0: 65 74 75 72 6E 28 74 68 69 73 2E 6C 65 6E 67 74    eturn(this.lengt
000066e0: 68 29 3F 74 68 69 73 5B 74 68 69 73 2E 6C 65 6E    h)?this[this.len
000066f0: 67 74 68 2D 31 5D 3A 6E 75 6C 6C 0A 20 20 20 20    gth-1]:null.....
00006700: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00006710: 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 52 61    .........,.getRa
00006720: 6E 64 6F 6D 3A 66 75 6E 63 74 69 6F 6E 28 29 20    ndom:function().
00006730: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00006740: 20 20 20 72 65 74 75 72 6E 28 74 68 69 73 2E 6C    ...return(this.l
00006750: 65 6E 67 74 68 29 3F 74 68 69 73 5B 24 72 61 6E    ength)?this[$ran
00006760: 64 6F 6D 28 30 2C 20 74 68 69 73 2E 6C 65 6E 67    dom(0,.this.leng
00006770: 74 68 2D 31 29 5D 3A 6E 75 6C 6C 0A 20 20 20 20    th-1)]:null.....
00006780: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00006790: 20 20 20 20 20 20 20 20 20 2C 20 69 6E 63 6C 75    .........,.inclu
000067a0: 64 65 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B    de:function(A).{
000067b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000067c0: 20 20 69 66 28 20 21 74 68 69 73 2E 63 6F 6E 74    ..if(.!this.cont
000067d0: 61 69 6E 73 28 41 29 29 20 7B 0A 20 20 20 20 20    ains(A)).{......
000067e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000067f0: 74 68 69 73 2E 70 75 73 68 28 41 29 0A 20 20 20    this.push(A)....
00006800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00006810: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006820: 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20    ..return.this...
00006830: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00006840: 20 20 20 20 20 20 20 20 20 20 20 2C 20 63 6F 6D    ...........,.com
00006850: 62 69 6E 65 3A 66 75 6E 63 74 69 6F 6E 28 43 29    bine:function(C)
00006860: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00006870: 20 20 20 20 66 6F 72 28 76 61 72 20 42 3D 30 2C    ....for(var.B=0,
00006880: 20 41 3D 43 2E 6C 65 6E 67 74 68 3B 20 42 3C 41    .A=C.length;.B<A
00006890: 3B 20 42 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20    ;.B++).{........
000068a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68    ..............th
000068b0: 69 73 2E 69 6E 63 6C 75 64 65 28 43 5B 42 5D 29    is.include(C[B])
000068c0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000068d0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000068e0: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
000068f0: 73 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    s..............}
00006900: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
00006910: 20 65 72 61 73 65 3A 66 75 6E 63 74 69 6F 6E 28    .erase:function(
00006920: 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    B).{............
00006930: 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 41 3D    ......for(var.A=
00006940: 74 68 69 73 2E 6C 65 6E 67 74 68 3B 20 41 2D 2D    this.length;.A--
00006950: 3B 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ;.A).{..........
00006960: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 74    ............if(t
00006970: 68 69 73 5B 41 5D 3D 3D 3D 42 29 20 7B 0A 20 20    his[A]===B).{...
00006980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006990: 20 20 20 20 20 20 20 74 68 69 73 2E 73 70 6C 69    .......this.spli
000069a0: 63 65 28 41 2C 20 31 29 0A 20 20 20 20 20 20 20    ce(A,.1)........
000069b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000069c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000069d0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000069e0: 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73    .....return.this
000069f0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00006a00: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00006a10: 65 6D 70 74 79 3A 66 75 6E 63 74 69 6F 6E 28 29    empty:function()
00006a20: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00006a30: 20 20 20 20 74 68 69 73 2E 6C 65 6E 67 74 68 3D    ....this.length=
00006a40: 30 3B 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20    0;.return.this..
00006a50: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00006a60: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 66 6C    ............,.fl
00006a70: 61 74 74 65 6E 3A 66 75 6E 63 74 69 6F 6E 28 29    atten:function()
00006a80: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00006a90: 20 20 20 20 76 61 72 20 44 3D 5B 5D 3B 20 66 6F    ....var.D=[];.fo
00006aa0: 72 28 76 61 72 20 42 3D 30 2C 20 41 3D 74 68 69    r(var.B=0,.A=thi
00006ab0: 73 2E 6C 65 6E 67 74 68 3B 20 42 3C 41 3B 20 42    s.length;.B<A;.B
00006ac0: 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ++).{...........
00006ad0: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 43    ...........var.C
00006ae0: 3D 24 74 79 70 65 28 74 68 69 73 5B 42 5D 29 3B    =$type(this[B]);
00006af0: 20 69 66 28 20 21 43 29 20 7B 0A 20 20 20 20 20    .if(.!C).{......
00006b00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006b10: 20 20 20 20 63 6F 6E 74 69 6E 75 65 0A 20 20 20    ....continue....
00006b20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006b30: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00006b40: 20 20 20 20 20 20 20 20 20 20 44 3D 44 2E 63 6F    ..........D=D.co
00006b50: 6E 63 61 74 28 28 43 3D 3D 22 61 72 72 61 79 22    ncat((C=="array"
00006b60: 7C 7C 43 3D 3D 22 63 6F 6C 6C 65 63 74 69 6F 6E    ||C=="collection
00006b70: 22 7C 7C 43 3D 3D 22 61 72 67 75 6D 65 6E 74 73    "||C=="arguments
00006b80: 22 29 3F 41 72 72 61 79 2E 66 6C 61 74 74 65 6E    ")?Array.flatten
00006b90: 28 74 68 69 73 5B 42 5D 29 3A 74 68 69 73 5B 42    (this[B]):this[B
00006ba0: 5D 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ])..............
00006bb0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00006bc0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 44    ........return.D
00006bd0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00006be0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00006bf0: 68 65 78 54 6F 52 67 62 3A 66 75 6E 63 74 69 6F    hexToRgb:functio
00006c00: 6E 28 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(B).{..........
00006c10: 20 20 20 20 20 20 20 20 69 66 28 74 68 69 73 2E    ........if(this.
00006c20: 6C 65 6E 67 74 68 20 21 3D 33 29 20 7B 0A 20 20    length.!=3).{...
00006c30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006c40: 20 20 20 72 65 74 75 72 6E 20 6E 75 6C 6C 0A 20    ...return.null..
00006c50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006c60: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00006c70: 20 20 20 20 76 61 72 20 41 3D 74 68 69 73 2E 6D    ....var.A=this.m
00006c80: 61 70 28 66 75 6E 63 74 69 6F 6E 28 43 29 20 7B    ap(function(C).{
00006c90: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006ca0: 20 20 20 20 20 20 20 20 20 20 69 66 28 43 2E 6C    ..........if(C.l
00006cb0: 65 6E 67 74 68 3D 3D 31 29 20 7B 0A 20 20 20 20    ength==1).{.....
00006cc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006cd0: 20 20 20 20 20 20 20 20 20 43 2B 3D 43 0A 20 20    .........C+=C...
00006ce0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006cf0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00006d00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006d10: 20 20 20 72 65 74 75 72 6E 20 43 2E 74 6F 49 6E    ...return.C.toIn
00006d20: 74 28 31 36 29 0A 20 20 20 20 20 20 20 20 20 20    t(16)...........
00006d30: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00006d40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 29    ...............)
00006d50: 3B 20 72 65 74 75 72 6E 28 42 29 3F 41 3A 22 72    ;.return(B)?A:"r
00006d60: 67 62 28 22 2B 41 2B 22 29 22 0A 20 20 20 20 20    gb("+A+")"......
00006d70: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00006d80: 20 20 20 20 20 20 20 20 2C 20 72 67 62 54 6F 48    ........,.rgbToH
00006d90: 65 78 3A 66 75 6E 63 74 69 6F 6E 28 44 29 20 7B    ex:function(D).{
00006da0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006db0: 20 20 69 66 28 74 68 69 73 2E 6C 65 6E 67 74 68    ..if(this.length
00006dc0: 3C 33 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    <3).{...........
00006dd0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00006de0: 6E 20 6E 75 6C 6C 0A 20 20 20 20 20 20 20 20 20    n.null..........
00006df0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00006e00: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 74    ............if(t
00006e10: 68 69 73 2E 6C 65 6E 67 74 68 3D 3D 34 26 26 74    his.length==4&&t
00006e20: 68 69 73 5B 33 5D 3D 3D 30 26 26 20 21 44 29 20    his[3]==0&&.!D).
00006e30: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00006e40: 20 20 20 20 20 20 20 72 65 74 75 72 6E 22 74 72    .......return"tr
00006e50: 61 6E 73 70 61 72 65 6E 74 22 0A 20 20 20 20 20    ansparent"......
00006e60: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00006e70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00006e80: 76 61 72 20 42 3D 5B 5D 3B 20 66 6F 72 28 76 61    var.B=[];.for(va
00006e90: 72 20 41 3D 30 3B 20 41 3C 33 3B 20 41 2B 2B 29    r.A=0;.A<3;.A++)
00006ea0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00006eb0: 20 20 20 20 20 20 20 20 76 61 72 20 43 3D 28 74    ........var.C=(t
00006ec0: 68 69 73 5B 41 5D 2D 30 29 2E 74 6F 53 74 72 69    his[A]-0).toStri
00006ed0: 6E 67 28 31 36 29 3B 20 42 2E 70 75 73 68 28 28    ng(16);.B.push((
00006ee0: 43 2E 6C 65 6E 67 74 68 3D 3D 31 29 3F 22 30 22    C.length==1)?"0"
00006ef0: 2B 43 3A 43 29 0A 20 20 20 20 20 20 20 20 20 20    +C:C)...........
00006f00: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00006f10: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00006f20: 6E 28 44 29 3F 42 3A 22 23 22 2B 42 2E 6A 6F 69    n(D)?B:"#"+B.joi
00006f30: 6E 28 22 22 29 0A 20 20 20 20 20 20 20 20 20 20    n("")...........
00006f40: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A    ...}..........}.
00006f50: 0A 20 20 20 20 20 29 3B 0A 0A 20 20 20 20 20 46    ......);.......F
00006f60: 75 6E 63 74 69 6F 6E 2E 69 6D 70 6C 65 6D 65 6E    unction.implemen
00006f70: 74 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    t(.{............
00006f80: 20 20 65 78 74 65 6E 64 3A 66 75 6E 63 74 69 6F    ..extend:functio
00006f90: 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(A).{..........
00006fa0: 20 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20    ........for(var.
00006fb0: 42 20 69 6E 20 41 29 20 7B 0A 20 20 20 20 20 20    B.in.A).{.......
00006fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
00006fd0: 68 69 73 5B 42 5D 3D 41 5B 42 5D 0A 20 20 20 20    his[B]=A[B].....
00006fe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00006ff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007000: 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20    .return.this....
00007010: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00007020: 20 20 20 20 20 20 20 20 20 20 2C 20 63 72 65 61    ..........,.crea
00007030: 74 65 3A 66 75 6E 63 74 69 6F 6E 28 42 29 20 7B    te:function(B).{
00007040: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007050: 20 20 76 61 72 20 41 3D 74 68 69 73 3B 20 42 3D    ..var.A=this;.B=
00007060: 42 7C 7C 20 7B 7D 0A 0A 20 20 20 20 20 20 20 20    B||.{}..........
00007070: 20 20 20 20 20 20 20 20 20 3B 20 72 65 74 75 72    .........;.retur
00007080: 6E 20 66 75 6E 63 74 69 6F 6E 28 44 29 20 7B 0A    n.function(D).{.
00007090: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000070a0: 20 20 20 20 20 76 61 72 20 43 3D 42 2E 61 72 67    .....var.C=B.arg
000070b0: 75 6D 65 6E 74 73 3B 20 43 3D 28 43 20 21 3D 75    uments;.C=(C.!=u
000070c0: 6E 64 65 66 69 6E 65 64 29 3F 24 73 70 6C 61 74    ndefined)?$splat
000070d0: 28 43 29 3A 41 72 72 61 79 2E 73 6C 69 63 65 28    (C):Array.slice(
000070e0: 61 72 67 75 6D 65 6E 74 73 2C 20 28 42 2E 65 76    arguments,.(B.ev
000070f0: 65 6E 74 29 3F 31 3A 30 29 3B 20 69 66 28 42 2E    ent)?1:0);.if(B.
00007100: 65 76 65 6E 74 29 20 7B 0A 20 20 20 20 20 20 20    event).{........
00007110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007120: 20 20 43 3D 5B 44 7C 7C 77 69 6E 64 6F 77 2E 65    ..C=[D||window.e
00007130: 76 65 6E 74 5D 2E 65 78 74 65 6E 64 28 43 29 0A    vent].extend(C).
00007140: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007150: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00007160: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
00007170: 20 45 3D 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    .E=function().{.
00007180: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007190: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
000071a0: 41 2E 61 70 70 6C 79 28 42 2E 62 69 6E 64 7C 7C    A.apply(B.bind||
000071b0: 6E 75 6C 6C 2C 20 43 29 0A 20 20 20 20 20 20 20    null,.C)........
000071c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000071d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000071e0: 20 20 20 20 20 20 3B 20 69 66 28 42 2E 64 65 6C    ......;.if(B.del
000071f0: 61 79 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ay).{...........
00007200: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
00007210: 65 74 75 72 6E 20 73 65 74 54 69 6D 65 6F 75 74    eturn.setTimeout
00007220: 28 45 2C 20 42 2E 64 65 6C 61 79 29 0A 20 20 20    (E,.B.delay)....
00007230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007240: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00007250: 20 20 20 20 20 20 20 20 20 20 69 66 28 42 2E 70    ..........if(B.p
00007260: 65 72 69 6F 64 69 63 61 6C 29 20 7B 0A 20 20 20    eriodical).{....
00007270: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007280: 20 20 20 20 20 20 72 65 74 75 72 6E 20 73 65 74    ......return.set
00007290: 49 6E 74 65 72 76 61 6C 28 45 2C 20 42 2E 70 65    Interval(E,.B.pe
000072a0: 72 69 6F 64 69 63 61 6C 29 0A 20 20 20 20 20 20    riodical).......
000072b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000072c0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000072d0: 20 20 20 20 20 20 20 69 66 28 42 2E 61 74 74 65    .......if(B.atte
000072e0: 6D 70 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20    mpt).{..........
000072f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007300: 72 65 74 75 72 6E 20 24 74 72 79 28 45 29 0A 20    return.$try(E)..
00007310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007320: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00007330: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00007340: 72 6E 20 45 28 29 0A 20 20 20 20 20 20 20 20 20    rn.E()..........
00007350: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00007360: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00007370: 20 20 20 20 20 20 20 2C 20 70 61 73 73 3A 66 75    .......,.pass:fu
00007380: 6E 63 74 69 6F 6E 28 41 2C 20 42 29 20 7B 0A 20    nction(A,.B).{..
00007390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000073a0: 72 65 74 75 72 6E 20 74 68 69 73 2E 63 72 65 61    return.this.crea
000073b0: 74 65 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20    te(.{...........
000073c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 61    ...............a
000073d0: 72 67 75 6D 65 6E 74 73 3A 41 2C 20 62 69 6E 64    rguments:A,.bind
000073e0: 3A 42 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    :B..............
000073f0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00007400: 20 20 20 20 20 20 20 20 20 20 20 20 29 0A 20 20    ............)...
00007410: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00007420: 20 20 20 20 20 20 20 20 20 20 20 2C 20 61 74 74    ...........,.att
00007430: 65 6D 70 74 3A 66 75 6E 63 74 69 6F 6E 28 41 2C    empt:function(A,
00007440: 20 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .B).{...........
00007450: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
00007460: 69 73 2E 63 72 65 61 74 65 28 20 7B 0A 20 20 20    is.create(.{....
00007470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007480: 20 20 20 20 20 20 61 72 67 75 6D 65 6E 74 73 3A    ......arguments:
00007490: 41 2C 20 62 69 6E 64 3A 42 2C 20 61 74 74 65 6D    A,.bind:B,.attem
000074a0: 70 74 3A 20 21 30 0A 20 20 20 20 20 20 20 20 20    pt:.!0..........
000074b0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
000074c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000074d0: 29 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    )().............
000074e0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000074f0: 20 2C 20 62 69 6E 64 3A 66 75 6E 63 74 69 6F 6E    .,.bind:function
00007500: 28 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20    (B,.A).{........
00007510: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00007520: 20 74 68 69 73 2E 63 72 65 61 74 65 28 20 7B 0A    .this.create(.{.
00007530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007540: 20 20 20 20 20 20 20 20 20 62 69 6E 64 3A 42 2C    .........bind:B,
00007550: 20 61 72 67 75 6D 65 6E 74 73 3A 41 0A 20 20 20    .arguments:A....
00007560: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007570: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00007580: 20 20 20 20 20 20 29 0A 20 20 20 20 20 20 20 20    ......).........
00007590: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000075a0: 20 20 20 20 20 2C 20 62 69 6E 64 57 69 74 68 45    .....,.bindWithE
000075b0: 76 65 6E 74 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    vent:function(B,
000075c0: 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .A).{...........
000075d0: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
000075e0: 69 73 2E 63 72 65 61 74 65 28 20 7B 0A 20 20 20    is.create(.{....
000075f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007600: 20 20 20 20 20 20 62 69 6E 64 3A 42 2C 20 65 76    ......bind:B,.ev
00007610: 65 6E 74 3A 20 21 30 2C 20 61 72 67 75 6D 65 6E    ent:.!0,.argumen
00007620: 74 73 3A 41 0A 20 20 20 20 20 20 20 20 20 20 20    ts:A............
00007630: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00007640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 29 0A    ..............).
00007650: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00007660: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 64    .............,.d
00007670: 65 6C 61 79 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    elay:function(B,
00007680: 20 43 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20    .C,.A).{........
00007690: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
000076a0: 20 74 68 69 73 2E 63 72 65 61 74 65 28 20 7B 0A    .this.create(.{.
000076b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000076c0: 20 20 20 20 20 20 20 20 20 64 65 6C 61 79 3A 42    .........delay:B
000076d0: 2C 20 62 69 6E 64 3A 43 2C 20 61 72 67 75 6D 65    ,.bind:C,.argume
000076e0: 6E 74 73 3A 41 0A 20 20 20 20 20 20 20 20 20 20    nts:A...........
000076f0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00007700: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 29    ...............)
00007710: 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ()..............
00007720: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00007730: 2C 20 70 65 72 69 6F 64 69 63 61 6C 3A 66 75 6E    ,.periodical:fun
00007740: 63 74 69 6F 6E 28 41 2C 20 43 2C 20 42 29 20 7B    ction(A,.C,.B).{
00007750: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007760: 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 63 72    ..return.this.cr
00007770: 65 61 74 65 28 20 7B 0A 20 20 20 20 20 20 20 20    eate(.{.........
00007780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007790: 20 70 65 72 69 6F 64 69 63 61 6C 3A 41 2C 20 62    .periodical:A,.b
000077a0: 69 6E 64 3A 43 2C 20 61 72 67 75 6D 65 6E 74 73    ind:C,.arguments
000077b0: 3A 42 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    :B..............
000077c0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000077d0: 20 20 20 20 20 20 20 20 20 20 20 20 29 28 29 0A    ............)().
000077e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
000077f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 72    .............,.r
00007800: 75 6E 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 42    un:function(A,.B
00007810: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00007820: 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73    .....return.this
00007830: 2E 61 70 70 6C 79 28 42 2C 20 24 73 70 6C 61 74    .apply(B,.$splat
00007840: 28 41 29 29 0A 20 20 20 20 20 20 20 20 20 20 20    (A))............
00007850: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    ..}..........}..
00007860: 20 20 20 20 20 29 3B 0A 0A 20 20 20 20 20 4E 75    .....);.......Nu
00007870: 6D 62 65 72 2E 69 6D 70 6C 65 6D 65 6E 74 28 20    mber.implement(.
00007880: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 6C    {..............l
00007890: 69 6D 69 74 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    imit:function(B,
000078a0: 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .A).{...........
000078b0: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 4D 61    .......return.Ma
000078c0: 74 68 2E 6D 69 6E 28 41 2C 20 4D 61 74 68 2E 6D    th.min(A,.Math.m
000078d0: 61 78 28 42 2C 20 74 68 69 73 29 29 0A 20 20 20    ax(B,.this))....
000078e0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000078f0: 20 20 20 20 20 20 20 20 20 20 2C 20 72 6F 75 6E    ..........,.roun
00007900: 64 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    d:function(A).{.
00007910: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007920: 20 41 3D 4D 61 74 68 2E 70 6F 77 28 31 30 2C 20    .A=Math.pow(10,.
00007930: 41 7C 7C 30 29 3B 20 72 65 74 75 72 6E 20 4D 61    A||0);.return.Ma
00007940: 74 68 2E 72 6F 75 6E 64 28 74 68 69 73 2A 41 29    th.round(this*A)
00007950: 2F 41 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    /A..............
00007960: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00007970: 2C 20 74 69 6D 65 73 3A 66 75 6E 63 74 69 6F 6E    ,.times:function
00007980: 28 42 2C 20 43 29 20 7B 0A 20 20 20 20 20 20 20    (B,.C).{........
00007990: 20 20 20 20 20 20 20 20 20 20 66 6F 72 28 76 61    ..........for(va
000079a0: 72 20 41 3D 30 3B 20 41 3C 74 68 69 73 3B 20 41    r.A=0;.A<this;.A
000079b0: 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ++).{...........
000079c0: 20 20 20 20 20 20 20 20 20 20 20 42 2E 63 61 6C    ...........B.cal
000079d0: 6C 28 43 2C 20 41 2C 20 74 68 69 73 29 0A 20 20    l(C,.A,.this)...
000079e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000079f0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00007a00: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00007a10: 74 6F 46 6C 6F 61 74 3A 66 75 6E 63 74 69 6F 6E    toFloat:function
00007a20: 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ().{............
00007a30: 20 20 20 20 20 20 72 65 74 75 72 6E 20 70 61 72    ......return.par
00007a40: 73 65 46 6C 6F 61 74 28 74 68 69 73 29 0A 20 20    seFloat(this)...
00007a50: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00007a60: 20 20 20 20 20 20 20 20 20 20 20 2C 20 74 6F 49    ...........,.toI
00007a70: 6E 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B    nt:function(A).{
00007a80: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007a90: 20 20 72 65 74 75 72 6E 20 70 61 72 73 65 49 6E    ..return.parseIn
00007aa0: 74 28 74 68 69 73 2C 20 41 7C 7C 31 30 29 0A 20    t(this,.A||10)..
00007ab0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
00007ac0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 29    .......}.......)
00007ad0: 3B 0A 20 20 20 20 20 4E 75 6D 62 65 72 2E 61 6C    ;......Number.al
00007ae0: 69 61 73 28 22 74 69 6D 65 73 22 2C 20 22 65 61    ias("times",."ea
00007af0: 63 68 22 29 3B 0A 0A 20 20 20 20 20 28 66 75 6E    ch");.......(fun
00007b00: 63 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20    ction(B).{......
00007b10: 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 20 7B    ........var.A=.{
00007b20: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00007b30: 3B 20 42 2E 65 61 63 68 28 66 75 6E 63 74 69 6F    ;.B.each(functio
00007b40: 6E 28 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(C).{..........
00007b50: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 20    ............if(.
00007b60: 21 4E 75 6D 62 65 72 5B 43 5D 29 20 7B 0A 20 20    !Number[C]).{...
00007b70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007b80: 20 20 20 20 20 20 20 41 5B 43 5D 3D 66 75 6E 63    .......A[C]=func
00007b90: 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20    tion().{........
00007ba0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007bb0: 20 20 20 20 20 20 72 65 74 75 72 6E 20 4D 61 74    ......return.Mat
00007bc0: 68 5B 43 5D 2E 61 70 70 6C 79 28 6E 75 6C 6C 2C    h[C].apply(null,
00007bd0: 20 5B 74 68 69 73 5D 2E 63 6F 6E 63 61 74 28 24    .[this].concat($
00007be0: 41 28 61 72 67 75 6D 65 6E 74 73 29 29 29 0A 20    A(arguments)))..
00007bf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007c00: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00007c10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00007c20: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007c30: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00007c40: 20 20 29 3B 20 4E 75 6D 62 65 72 2E 69 6D 70 6C    ..);.Number.impl
00007c50: 65 6D 65 6E 74 28 41 29 0A 20 20 20 20 20 20 20    ement(A)........
00007c60: 20 20 7D 0A 0A 20 20 20 20 20 29 28 5B 22 61 62    ..}.......)(["ab
00007c70: 73 22 2C 20 22 61 63 6F 73 22 2C 20 22 61 73 69    s",."acos",."asi
00007c80: 6E 22 2C 20 22 61 74 61 6E 22 2C 20 22 61 74 61    n",."atan",."ata
00007c90: 6E 32 22 2C 20 22 63 65 69 6C 22 2C 20 22 63 6F    n2",."ceil",."co
00007ca0: 73 22 2C 20 22 65 78 70 22 2C 20 22 66 6C 6F 6F    s",."exp",."floo
00007cb0: 72 22 2C 20 22 6C 6F 67 22 2C 20 22 6D 61 78 22    r",."log",."max"
00007cc0: 2C 20 22 6D 69 6E 22 2C 20 22 70 6F 77 22 2C 20    ,."min",."pow",.
00007cd0: 22 73 69 6E 22 2C 20 22 73 71 72 74 22 2C 20 22    "sin",."sqrt",."
00007ce0: 74 61 6E 22 5D 29 3B 0A 0A 20 20 20 20 20 53 74    tan"]);.......St
00007cf0: 72 69 6E 67 2E 69 6D 70 6C 65 6D 65 6E 74 28 20    ring.implement(.
00007d00: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 74    {..............t
00007d10: 65 73 74 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20    est:function(A,.
00007d20: 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    B).{............
00007d30: 20 20 20 20 20 20 72 65 74 75 72 6E 28 28 74 79    ......return((ty
00007d40: 70 65 6F 66 20 41 3D 3D 22 73 74 72 69 6E 67 22    peof.A=="string"
00007d50: 29 3F 6E 65 77 20 52 65 67 45 78 70 28 41 2C 20    )?new.RegExp(A,.
00007d60: 42 29 3A 41 29 2E 74 65 73 74 28 74 68 69 73 29    B):A).test(this)
00007d70: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00007d80: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00007d90: 63 6F 6E 74 61 69 6E 73 3A 66 75 6E 63 74 69 6F    contains:functio
00007da0: 6E 28 41 2C 20 42 29 20 7B 0A 20 20 20 20 20 20    n(A,.B).{.......
00007db0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00007dc0: 6E 28 42 29 3F 28 42 2B 74 68 69 73 2B 42 29 2E    n(B)?(B+this+B).
00007dd0: 69 6E 64 65 78 4F 66 28 42 2B 41 2B 42 29 3E 2D    indexOf(B+A+B)>-
00007de0: 31 3A 74 68 69 73 2E 69 6E 64 65 78 4F 66 28 41    1:this.indexOf(A
00007df0: 29 3E 2D 31 0A 20 20 20 20 20 20 20 20 20 20 20    )>-1............
00007e00: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00007e10: 20 20 2C 20 74 72 69 6D 3A 66 75 6E 63 74 69 6F    ..,.trim:functio
00007e20: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
00007e30: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
00007e40: 69 73 2E 72 65 70 6C 61 63 65 28 2F 5E 5C 73 2B    is.replace(/^\s+
00007e50: 7C 5C 73 2B 24 2F 67 2C 20 22 22 29 0A 20 20 20    |\s+$/g,."")....
00007e60: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00007e70: 20 20 20 20 20 20 20 20 20 20 2C 20 63 6C 65 61    ..........,.clea
00007e80: 6E 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    n:function().{..
00007e90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007ea0: 72 65 74 75 72 6E 20 74 68 69 73 2E 72 65 70 6C    return.this.repl
00007eb0: 61 63 65 28 2F 5C 73 2B 2F 67 2C 20 22 20 22 29    ace(/\s+/g,.".")
00007ec0: 2E 74 72 69 6D 28 29 0A 20 20 20 20 20 20 20 20    .trim().........
00007ed0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00007ee0: 20 20 20 20 20 2C 20 63 61 6D 65 6C 43 61 73 65    .....,.camelCase
00007ef0: 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    :function().{...
00007f00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
00007f10: 65 74 75 72 6E 20 74 68 69 73 2E 72 65 70 6C 61    eturn.this.repla
00007f20: 63 65 28 2F 2D 5C 44 2F 67 2C 20 66 75 6E 63 74    ce(/-\D/g,.funct
00007f30: 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20    ion(A).{........
00007f40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00007f50: 20 20 72 65 74 75 72 6E 20 41 2E 63 68 61 72 41    ..return.A.charA
00007f60: 74 28 31 29 2E 74 6F 55 70 70 65 72 43 61 73 65    t(1).toUpperCase
00007f70: 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ()..............
00007f80: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00007f90: 20 20 20 20 20 20 20 20 20 20 20 20 29 0A 20 20    ............)...
00007fa0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00007fb0: 20 20 20 20 20 20 20 20 20 20 20 2C 20 68 79 70    ...........,.hyp
00007fc0: 68 65 6E 61 74 65 3A 66 75 6E 63 74 69 6F 6E 28    henate:function(
00007fd0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00007fe0: 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73    .....return.this
00007ff0: 2E 72 65 70 6C 61 63 65 28 2F 5B 41 2D 5A 5D 2F    .replace(/[A-Z]/
00008000: 67 2C 20 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B    g,.function(A).{
00008010: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008020: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00008030: 28 22 2D 22 2B 41 2E 63 68 61 72 41 74 28 30 29    ("-"+A.charAt(0)
00008040: 2E 74 6F 4C 6F 77 65 72 43 61 73 65 28 29 29 0A    .toLowerCase()).
00008050: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008060: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00008070: 20 20 20 20 20 20 20 20 20 29 0A 20 20 20 20 20    .........)......
00008080: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00008090: 20 20 20 20 20 20 20 20 2C 20 63 61 70 69 74 61    ........,.capita
000080a0: 6C 69 7A 65 3A 66 75 6E 63 74 69 6F 6E 28 29 20    lize:function().
000080b0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
000080c0: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 72    ...return.this.r
000080d0: 65 70 6C 61 63 65 28 2F 5C 62 5B 61 2D 7A 5D 2F    eplace(/\b[a-z]/
000080e0: 67 2C 20 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B    g,.function(A).{
000080f0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008100: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00008110: 20 41 2E 74 6F 55 70 70 65 72 43 61 73 65 28 29    .A.toUpperCase()
00008120: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008130: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00008140: 20 20 20 20 20 20 20 20 20 20 29 0A 20 20 20 20    ..........).....
00008150: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00008160: 20 20 20 20 20 20 20 20 20 2C 20 65 73 63 61 70    .........,.escap
00008170: 65 52 65 67 45 78 70 3A 66 75 6E 63 74 69 6F 6E    eRegExp:function
00008180: 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ().{............
00008190: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
000081a0: 73 2E 72 65 70 6C 61 63 65 28 2F 28 5B 2D 2E 2A    s.replace(/([-.*
000081b0: 2B 3F 5E 24 20 7B 7D 0A 0A 20 20 20 20 20 20 20    +?^$.{}.........
000081c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000081d0: 20 20 28 29 7C 5B 5C 5D 5C 2F 5C 5C 5D 29 2F 67    ..()|[\]\/\\])/g
000081e0: 2C 20 22 5C 5C 24 31 22 29 0A 20 20 20 20 20 20    ,."\\$1").......
000081f0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00008200: 20 20 20 20 20 20 20 2C 20 74 6F 49 6E 74 3A 66    .......,.toInt:f
00008210: 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20    unction(A).{....
00008220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00008230: 74 75 72 6E 20 70 61 72 73 65 49 6E 74 28 74 68    turn.parseInt(th
00008240: 69 73 2C 20 41 7C 7C 31 30 29 0A 20 20 20 20 20    is,.A||10)......
00008250: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00008260: 20 20 20 20 20 20 20 20 2C 20 74 6F 46 6C 6F 61    ........,.toFloa
00008270: 74 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    t:function().{..
00008280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008290: 72 65 74 75 72 6E 20 70 61 72 73 65 46 6C 6F 61    return.parseFloa
000082a0: 74 28 74 68 69 73 29 0A 20 20 20 20 20 20 20 20    t(this).........
000082b0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000082c0: 20 20 20 20 20 2C 20 68 65 78 54 6F 52 67 62 3A    .....,.hexToRgb:
000082d0: 66 75 6E 63 74 69 6F 6E 28 42 29 20 7B 0A 20 20    function(B).{...
000082e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
000082f0: 61 72 20 41 3D 74 68 69 73 2E 6D 61 74 63 68 28    ar.A=this.match(
00008300: 2F 5E 23 3F 28 5C 77 20 7B 0A 20 20 20 20 20 20    /^#?(\w.{.......
00008310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008320: 20 20 20 20 20 20 20 31 2C 20 32 0A 20 20 20 20    .......1,.2.....
00008330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008340: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00008350: 20 20 20 20 20 20 20 20 20 20 20 20 20 29 28 5C    .............)(\
00008360: 77 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    w.{.............
00008370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008380: 20 31 2C 20 32 0A 20 20 20 20 20 20 20 20 20 20    .1,.2...........
00008390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000083a0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000083b0: 20 20 20 20 20 20 20 29 28 5C 77 20 7B 0A 20 20    .......)(\w.{...
000083c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000083d0: 20 20 20 20 20 20 20 20 20 20 20 31 2C 20 32 0A    ...........1,.2.
000083e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000083f0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00008400: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008410: 20 29 24 2F 29 3B 20 72 65 74 75 72 6E 28 41 29    .)$/);.return(A)
00008420: 3F 41 2E 73 6C 69 63 65 28 31 29 2E 68 65 78 54    ?A.slice(1).hexT
00008430: 6F 52 67 62 28 42 29 3A 6E 75 6C 6C 0A 20 20 20    oRgb(B):null....
00008440: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00008450: 20 20 20 20 20 20 20 20 20 20 2C 20 72 67 62 54    ..........,.rgbT
00008460: 6F 48 65 78 3A 66 75 6E 63 74 69 6F 6E 28 42 29    oHex:function(B)
00008470: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00008480: 20 20 20 20 76 61 72 20 41 3D 74 68 69 73 2E 6D    ....var.A=this.m
00008490: 61 74 63 68 28 2F 5C 64 20 7B 0A 20 20 20 20 20    atch(/\d.{......
000084a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000084b0: 20 20 20 20 31 2C 20 33 0A 20 20 20 20 20 20 20    ....1,.3........
000084c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000084d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000084e0: 20 20 20 20 20 20 2F 67 29 3B 20 72 65 74 75 72    ....../g);.retur
000084f0: 6E 28 41 29 3F 41 2E 72 67 62 54 6F 48 65 78 28    n(A)?A.rgbToHex(
00008500: 42 29 3A 6E 75 6C 6C 0A 20 20 20 20 20 20 20 20    B):null.........
00008510: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00008520: 20 20 20 20 20 2C 20 73 74 72 69 70 53 63 72 69    .....,.stripScri
00008530: 70 74 73 3A 66 75 6E 63 74 69 6F 6E 28 42 29 20    pts:function(B).
00008540: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00008550: 20 20 20 76 61 72 20 41 3D 22 22 3B 20 76 61 72    ...var.A="";.var
00008560: 20 43 3D 74 68 69 73 2E 72 65 70 6C 61 63 65 28    .C=this.replace(
00008570: 2F 3C 73 63 72 69 70 74 5B 5E 3E 5D 2A 3E 28 5B    /<script[^>]*>([
00008580: 5C 73 5C 53 5D 2A 3F 29 3C 5C 2F 73 63 72 69 70    \s\S]*?)<\/scrip
00008590: 74 3E 2F 67 69 2C 20 66 75 6E 63 74 69 6F 6E 28    t>/gi,.function(
000085a0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000085b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 41 2B 3D    .............A+=
000085c0: 61 72 67 75 6D 65 6E 74 73 5B 31 5D 2B 22 5C 6E    arguments[1]+"\n
000085d0: 22 3B 20 72 65 74 75 72 6E 22 22 0A 20 20 20 20    ";.return"".....
000085e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000085f0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00008600: 20 20 20 20 20 29 3B 20 69 66 28 42 3D 3D 3D 20    .....);.if(B===.
00008610: 21 30 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    !0).{...........
00008620: 20 20 20 20 20 20 20 20 20 20 20 24 65 78 65 63    ...........$exec
00008630: 28 41 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    (A).............
00008640: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00008650: 20 20 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A    .........else.{.
00008660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008670: 20 20 20 20 20 69 66 28 24 74 79 70 65 28 42 29    .....if($type(B)
00008680: 3D 3D 22 66 75 6E 63 74 69 6F 6E 22 29 20 7B 0A    =="function").{.
00008690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000086a0: 20 20 20 20 20 20 20 20 20 42 28 41 2C 20 43 29    .........B(A,.C)
000086b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000086c0: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
000086d0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000086e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
000086f0: 75 72 6E 20 43 0A 20 20 20 20 20 20 20 20 20 20    urn.C...........
00008700: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00008710: 20 20 20 2C 20 73 75 62 73 74 69 74 75 74 65 3A    ...,.substitute:
00008720: 66 75 6E 63 74 69 6F 6E 28 41 2C 20 42 29 20 7B    function(A,.B).{
00008730: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008740: 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 72 65    ..return.this.re
00008750: 70 6C 61 63 65 28 42 7C 7C 28 2F 5C 5C 3F 5C 7B    place(B||(/\\?\{
00008760: 28 5B 5E 0A 20 20 20 20 20 20 20 20 20 20 20 20    ([^.............
00008770: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00008780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008790: 20 20 20 20 20 20 20 20 20 5D 2B 29 5C 7D 2F 67    .........]+)\}/g
000087a0: 29 2C 20 66 75 6E 63 74 69 6F 6E 28 44 2C 20 43    ),.function(D,.C
000087b0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000087c0: 20 20 20 20 20 20 20 20 20 69 66 28 44 2E 63 68    .........if(D.ch
000087d0: 61 72 41 74 28 30 29 3D 3D 22 5C 5C 22 29 20 7B    arAt(0)=="\\").{
000087e0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000087f0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00008800: 20 44 2E 73 6C 69 63 65 28 31 29 0A 20 20 20 20    .D.slice(1).....
00008810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008820: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00008830: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 28    .........return(
00008840: 41 5B 43 5D 20 21 3D 75 6E 64 65 66 69 6E 65 64    A[C].!=undefined
00008850: 29 3F 41 5B 43 5D 3A 22 22 0A 20 20 20 20 20 20    )?A[C]:"".......
00008860: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00008870: 20 20 20 20 20 20 20 20 20 20 20 29 0A 20 20 20    ...........)....
00008880: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
00008890: 20 29 3B 0A 0A 20 48 61 73 68 2E 69 6D 70 6C 65    .);...Hash.imple
000088a0: 6D 65 6E 74 28 20 7B 0A 20 20 20 20 20 20 20 20    ment(.{.........
000088b0: 20 68 61 73 3A 4F 62 6A 65 63 74 2E 70 72 6F 74    .has:Object.prot
000088c0: 6F 74 79 70 65 2E 68 61 73 4F 77 6E 50 72 6F 70    otype.hasOwnProp
000088d0: 65 72 74 79 2C 20 6B 65 79 4F 66 3A 66 75 6E 63    erty,.keyOf:func
000088e0: 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20 20    tion(B).{.......
000088f0: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 41    .......for(var.A
00008900: 20 69 6E 20 74 68 69 73 29 20 7B 0A 20 20 20 20    .in.this).{.....
00008910: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00008920: 74 68 69 73 2E 68 61 73 4F 77 6E 50 72 6F 70 65    this.hasOwnPrope
00008930: 72 74 79 28 41 29 26 26 74 68 69 73 5B 41 5D 3D    rty(A)&&this[A]=
00008940: 3D 3D 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ==B).{..........
00008950: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00008960: 72 6E 20 41 0A 20 20 20 20 20 20 20 20 20 20 20    rn.A............
00008970: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
00008980: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00008990: 20 20 20 20 20 72 65 74 75 72 6E 20 6E 75 6C 6C    .....return.null
000089a0: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000089b0: 20 20 20 20 20 20 2C 20 68 61 73 56 61 6C 75 65    ......,.hasValue
000089c0: 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20    :function(A).{..
000089d0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
000089e0: 72 6E 28 48 61 73 68 2E 6B 65 79 4F 66 28 74 68    rn(Hash.keyOf(th
000089f0: 69 73 2C 20 41 29 20 21 3D 3D 6E 75 6C 6C 29 0A    is,.A).!==null).
00008a00: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00008a10: 20 20 20 20 20 2C 20 65 78 74 65 6E 64 3A 66 75    .....,.extend:fu
00008a20: 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20    nction(A).{.....
00008a30: 20 20 20 20 20 20 20 20 20 48 61 73 68 2E 65 61    .........Hash.ea
00008a40: 63 68 28 41 2C 20 66 75 6E 63 74 69 6F 6E 28 43    ch(A,.function(C
00008a50: 2C 20 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.B).{..........
00008a60: 20 20 20 20 20 20 20 20 20 20 20 20 48 61 73 68    ............Hash
00008a70: 2E 73 65 74 28 74 68 69 73 2C 20 42 2C 20 43 29    .set(this,.B,.C)
00008a80: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008a90: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00008aa0: 20 20 20 20 20 20 2C 20 74 68 69 73 29 3B 20 72    ......,.this);.r
00008ab0: 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20    eturn.this......
00008ac0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00008ad0: 2C 20 63 6F 6D 62 69 6E 65 3A 66 75 6E 63 74 69    ,.combine:functi
00008ae0: 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20    on(A).{.........
00008af0: 20 20 20 20 20 48 61 73 68 2E 65 61 63 68 28 41    .....Hash.each(A
00008b00: 2C 20 66 75 6E 63 74 69 6F 6E 28 43 2C 20 42 29    ,.function(C,.B)
00008b10: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00008b20: 20 20 20 20 20 20 20 20 48 61 73 68 2E 69 6E 63    ........Hash.inc
00008b30: 6C 75 64 65 28 74 68 69 73 2C 20 42 2C 20 43 29    lude(this,.B,.C)
00008b40: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008b50: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00008b60: 20 20 20 20 20 20 2C 20 74 68 69 73 29 3B 20 72    ......,.this);.r
00008b70: 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20    eturn.this......
00008b80: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00008b90: 2C 20 65 72 61 73 65 3A 66 75 6E 63 74 69 6F 6E    ,.erase:function
00008ba0: 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    (A).{...........
00008bb0: 20 20 20 69 66 28 74 68 69 73 2E 68 61 73 4F 77    ...if(this.hasOw
00008bc0: 6E 50 72 6F 70 65 72 74 79 28 41 29 29 20 7B 0A    nProperty(A)).{.
00008bd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008be0: 20 64 65 6C 65 74 65 20 74 68 69 73 5B 41 5D 0A    .delete.this[A].
00008bf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00008c00: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00008c10: 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20    urn.this........
00008c20: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
00008c30: 67 65 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20    get:function(A).
00008c40: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    {..............r
00008c50: 65 74 75 72 6E 28 74 68 69 73 2E 68 61 73 4F 77    eturn(this.hasOw
00008c60: 6E 50 72 6F 70 65 72 74 79 28 41 29 29 3F 74 68    nProperty(A))?th
00008c70: 69 73 5B 41 5D 3A 6E 75 6C 6C 0A 20 20 20 20 20    is[A]:null......
00008c80: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00008c90: 2C 20 73 65 74 3A 66 75 6E 63 74 69 6F 6E 28 41    ,.set:function(A
00008ca0: 2C 20 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.B).{..........
00008cb0: 20 20 20 20 69 66 28 20 21 74 68 69 73 5B 41 5D    ....if(.!this[A]
00008cc0: 7C 7C 74 68 69 73 2E 68 61 73 4F 77 6E 50 72 6F    ||this.hasOwnPro
00008cd0: 70 65 72 74 79 28 41 29 29 20 7B 0A 20 20 20 20    perty(A)).{.....
00008ce0: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
00008cf0: 73 5B 41 5D 3D 42 0A 20 20 20 20 20 20 20 20 20    s[A]=B..........
00008d00: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00008d10: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A    ....return.this.
00008d20: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00008d30: 20 20 20 20 20 2C 20 65 6D 70 74 79 3A 66 75 6E    .....,.empty:fun
00008d40: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
00008d50: 20 20 20 20 20 20 20 48 61 73 68 2E 65 61 63 68    .......Hash.each
00008d60: 28 74 68 69 73 2C 20 66 75 6E 63 74 69 6F 6E 28    (this,.function(
00008d70: 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20    B,.A).{.........
00008d80: 20 20 20 20 20 20 20 20 20 20 20 20 20 64 65 6C    .............del
00008d90: 65 74 65 20 74 68 69 73 5B 41 5D 0A 20 20 20 20    ete.this[A].....
00008da0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00008db0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008dc0: 20 2C 20 74 68 69 73 29 3B 20 72 65 74 75 72 6E    .,.this);.return
00008dd0: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 7D    .this..........}
00008de0: 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 69 6E 63    ...........,.inc
00008df0: 6C 75 64 65 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    lude:function(B,
00008e00: 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .C).{...........
00008e10: 20 20 20 76 61 72 20 41 3D 74 68 69 73 5B 42 5D    ...var.A=this[B]
00008e20: 3B 20 69 66 28 41 3D 3D 75 6E 64 65 66 69 6E 65    ;.if(A==undefine
00008e30: 64 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    d).{............
00008e40: 20 20 20 20 20 20 74 68 69 73 5B 42 5D 3D 43 0A    ......this[B]=C.
00008e50: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00008e60: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00008e70: 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20    urn.this........
00008e80: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
00008e90: 6D 61 70 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20    map:function(B,.
00008ea0: 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    C).{............
00008eb0: 20 20 76 61 72 20 41 3D 6E 65 77 20 48 61 73 68    ..var.A=new.Hash
00008ec0: 3B 20 48 61 73 68 2E 65 61 63 68 28 74 68 69 73    ;.Hash.each(this
00008ed0: 2C 20 66 75 6E 63 74 69 6F 6E 28 45 2C 20 44 29    ,.function(E,.D)
00008ee0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00008ef0: 20 20 20 20 20 20 20 20 41 2E 73 65 74 28 44 2C    ........A.set(D,
00008f00: 20 42 2E 63 61 6C 6C 28 43 2C 20 45 2C 20 44 2C    .B.call(C,.E,.D,
00008f10: 20 74 68 69 73 29 29 0A 20 20 20 20 20 20 20 20    .this)).........
00008f20: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00008f30: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 74    .............,.t
00008f40: 68 69 73 29 3B 20 72 65 74 75 72 6E 20 41 0A 20    his);.return.A..
00008f50: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00008f60: 20 20 20 20 2C 20 66 69 6C 74 65 72 3A 66 75 6E    ....,.filter:fun
00008f70: 63 74 69 6F 6E 28 42 2C 20 43 29 20 7B 0A 20 20    ction(B,.C).{...
00008f80: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 41    ...........var.A
00008f90: 3D 6E 65 77 20 48 61 73 68 3B 20 48 61 73 68 2E    =new.Hash;.Hash.
00008fa0: 65 61 63 68 28 74 68 69 73 2C 20 66 75 6E 63 74    each(this,.funct
00008fb0: 69 6F 6E 28 45 2C 20 44 29 20 7B 0A 20 20 20 20    ion(E,.D).{.....
00008fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00008fd0: 20 69 66 28 42 2E 63 61 6C 6C 28 43 2C 20 45 2C    .if(B.call(C,.E,
00008fe0: 20 44 2C 20 74 68 69 73 29 29 20 7B 0A 20 20 20    .D,.this)).{....
00008ff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009000: 20 20 20 20 20 20 41 2E 73 65 74 28 44 2C 20 45    ......A.set(D,.E
00009010: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
00009020: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00009030: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00009040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00009050: 74 68 69 73 29 3B 20 72 65 74 75 72 6E 20 41 0A    this);.return.A.
00009060: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00009070: 20 20 20 20 20 2C 20 65 76 65 72 79 3A 66 75 6E    .....,.every:fun
00009080: 63 74 69 6F 6E 28 42 2C 20 43 29 20 7B 0A 20 20    ction(B,.C).{...
00009090: 20 20 20 20 20 20 20 20 20 20 20 66 6F 72 28 76    ...........for(v
000090a0: 61 72 20 41 20 69 6E 20 74 68 69 73 29 20 7B 0A    ar.A.in.this).{.
000090b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000090c0: 20 69 66 28 74 68 69 73 2E 68 61 73 4F 77 6E 50    .if(this.hasOwnP
000090d0: 72 6F 70 65 72 74 79 28 41 29 26 26 20 21 42 2E    roperty(A)&&.!B.
000090e0: 63 61 6C 6C 28 43 2C 20 74 68 69 73 5B 41 5D 2C    call(C,.this[A],
000090f0: 20 41 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20    .A)).{..........
00009100: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00009110: 72 6E 20 21 31 0A 20 20 20 20 20 20 20 20 20 20    rn.!1...........
00009120: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00009130: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00009140: 20 20 20 20 20 20 72 65 74 75 72 6E 20 21 30 0A    ......return.!0.
00009150: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00009160: 20 20 20 20 20 2C 20 73 6F 6D 65 3A 66 75 6E 63    .....,.some:func
00009170: 74 69 6F 6E 28 42 2C 20 43 29 20 7B 0A 20 20 20    tion(B,.C).{....
00009180: 20 20 20 20 20 20 20 20 20 20 66 6F 72 28 76 61    ..........for(va
00009190: 72 20 41 20 69 6E 20 74 68 69 73 29 20 7B 0A 20    r.A.in.this).{..
000091a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000091b0: 69 66 28 74 68 69 73 2E 68 61 73 4F 77 6E 50 72    if(this.hasOwnPr
000091c0: 6F 70 65 72 74 79 28 41 29 26 26 42 2E 63 61 6C    operty(A)&&B.cal
000091d0: 6C 28 43 2C 20 74 68 69 73 5B 41 5D 2C 20 41 29    l(C,.this[A],.A)
000091e0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000091f0: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
00009200: 21 30 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    !0..............
00009210: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
00009220: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00009230: 20 20 20 72 65 74 75 72 6E 20 21 31 0A 20 20 20    ...return.!1....
00009240: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00009250: 20 20 2C 20 67 65 74 4B 65 79 73 3A 66 75 6E 63    ..,.getKeys:func
00009260: 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20    tion().{........
00009270: 20 20 20 20 20 20 76 61 72 20 41 3D 5B 5D 3B 20    ......var.A=[];.
00009280: 48 61 73 68 2E 65 61 63 68 28 74 68 69 73 2C 20    Hash.each(this,.
00009290: 66 75 6E 63 74 69 6F 6E 28 43 2C 20 42 29 20 7B    function(C,.B).{
000092a0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000092b0: 20 20 20 20 20 20 41 2E 70 75 73 68 28 42 29 0A    ......A.push(B).
000092c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000092d0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000092e0: 20 29 3B 20 72 65 74 75 72 6E 20 41 0A 20 20 20    .);.return.A....
000092f0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00009300: 20 20 2C 20 67 65 74 56 61 6C 75 65 73 3A 66 75    ..,.getValues:fu
00009310: 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20    nction().{......
00009320: 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 5B 5D    ........var.A=[]
00009330: 3B 20 48 61 73 68 2E 65 61 63 68 28 74 68 69 73    ;.Hash.each(this
00009340: 2C 20 66 75 6E 63 74 69 6F 6E 28 42 29 20 7B 0A    ,.function(B).{.
00009350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009360: 20 20 20 20 20 41 2E 70 75 73 68 28 42 29 0A 20    .....A.push(B)..
00009370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009380: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00009390: 29 3B 20 72 65 74 75 72 6E 20 41 0A 20 20 20 20    );.return.A.....
000093a0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000093b0: 20 2C 20 74 6F 51 75 65 72 79 53 74 72 69 6E 67    .,.toQueryString
000093c0: 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20    :function(A).{..
000093d0: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
000093e0: 42 3D 5B 5D 3B 20 48 61 73 68 2E 65 61 63 68 28    B=[];.Hash.each(
000093f0: 74 68 69 73 2C 20 66 75 6E 63 74 69 6F 6E 28 46    this,.function(F
00009400: 2C 20 45 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.E).{..........
00009410: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 41    ............if(A
00009420: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00009430: 20 20 20 20 20 20 20 20 20 20 20 20 20 45 3D 41    .............E=A
00009440: 2B 22 5B 22 2B 45 2B 22 5D 22 0A 20 20 20 20 20    +"["+E+"]"......
00009450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009460: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00009470: 20 20 20 20 20 20 20 20 76 61 72 20 44 3B 20 73    ........var.D;.s
00009480: 77 69 74 63 68 28 24 74 79 70 65 28 46 29 29 20    witch($type(F)).
00009490: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
000094a0: 20 20 20 20 20 20 20 20 20 20 20 63 61 73 65 20    ...........case.
000094b0: 22 6F 62 6A 65 63 74 22 3A 44 3D 48 61 73 68 2E    "object":D=Hash.
000094c0: 74 6F 51 75 65 72 79 53 74 72 69 6E 67 28 46 2C    toQueryString(F,
000094d0: 20 45 29 3B 20 62 72 65 61 6B 3B 20 63 61 73 65    .E);.break;.case
000094e0: 20 22 61 72 72 61 79 22 3A 76 61 72 20 43 3D 20    ."array":var.C=.
000094f0: 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    {}..............
00009500: 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 46    .............;.F
00009510: 2E 65 61 63 68 28 66 75 6E 63 74 69 6F 6E 28 48    .each(function(H
00009520: 2C 20 47 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.G).{..........
00009530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009540: 20 20 20 20 20 20 20 20 43 5B 47 5D 3D 48 0A 20    ........C[G]=H..
00009550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009560: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00009570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009580: 20 20 20 20 20 20 20 20 29 3B 20 44 3D 48 61 73    ........);.D=Has
00009590: 68 2E 74 6F 51 75 65 72 79 53 74 72 69 6E 67 28    h.toQueryString(
000095a0: 43 2C 20 45 29 3B 20 62 72 65 61 6B 3B 20 64 65    C,.E);.break;.de
000095b0: 66 61 75 6C 74 3A 44 3D 45 2B 22 3D 22 2B 65 6E    fault:D=E+"="+en
000095c0: 63 6F 64 65 55 52 49 43 6F 6D 70 6F 6E 65 6E 74    codeURIComponent
000095d0: 28 46 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    (F).............
000095e0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000095f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009600: 20 69 66 28 46 20 21 3D 75 6E 64 65 66 69 6E 65    .if(F.!=undefine
00009610: 64 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    d).{............
00009620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 42 2E    ..............B.
00009630: 70 75 73 68 28 44 29 0A 20 20 20 20 20 20 20 20    push(D).........
00009640: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20    .............}..
00009650: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009660: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00009670: 29 3B 20 72 65 74 75 72 6E 20 42 2E 6A 6F 69 6E    );.return.B.join
00009680: 28 22 26 22 29 0A 20 20 20 20 20 20 20 20 20 7D    ("&")..........}
00009690: 0A 20 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 48    ......}...);...H
000096a0: 61 73 68 2E 61 6C 69 61 73 28 20 7B 0A 20 20 20    ash.alias(.{....
000096b0: 20 20 20 20 20 20 6B 65 79 4F 66 3A 22 69 6E 64    ......keyOf:"ind
000096c0: 65 78 4F 66 22 2C 20 68 61 73 56 61 6C 75 65 3A    exOf",.hasValue:
000096d0: 22 63 6F 6E 74 61 69 6E 73 22 0A 20 20 20 20 20    "contains"......
000096e0: 7D 0A 0A 20 29 3B 0A 0A 20 76 61 72 20 45 76 65    }...);...var.Eve
000096f0: 6E 74 3D 6E 65 77 20 4E 61 74 69 76 65 28 20 7B    nt=new.Native(.{
00009700: 0A 20 20 20 20 20 20 20 20 20 6E 61 6D 65 3A 22    ..........name:"
00009710: 45 76 65 6E 74 22 2C 20 69 6E 69 74 69 61 6C 69    Event",.initiali
00009720: 7A 65 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 46    ze:function(A,.F
00009730: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00009740: 20 46 3D 46 7C 7C 77 69 6E 64 6F 77 3B 20 76 61    .F=F||window;.va
00009750: 72 20 4B 3D 46 2E 64 6F 63 75 6D 65 6E 74 3B 20    r.K=F.document;.
00009760: 41 3D 41 7C 7C 46 2E 65 76 65 6E 74 3B 20 69 66    A=A||F.event;.if
00009770: 28 41 2E 24 65 78 74 65 6E 64 65 64 29 20 7B 0A    (A.$extended).{.
00009780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009790: 20 72 65 74 75 72 6E 20 41 0A 20 20 20 20 20 20    .return.A.......
000097a0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000097b0: 20 20 20 20 20 20 20 74 68 69 73 2E 24 65 78 74    .......this.$ext
000097c0: 65 6E 64 65 64 3D 20 21 30 3B 20 76 61 72 20 4A    ended=.!0;.var.J
000097d0: 3D 41 2E 74 79 70 65 3B 20 76 61 72 20 47 3D 41    =A.type;.var.G=A
000097e0: 2E 74 61 72 67 65 74 7C 7C 41 2E 73 72 63 45 6C    .target||A.srcEl
000097f0: 65 6D 65 6E 74 3B 20 77 68 69 6C 65 28 47 26 26    ement;.while(G&&
00009800: 47 2E 6E 6F 64 65 54 79 70 65 3D 3D 33 29 20 7B    G.nodeType==3).{
00009810: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009820: 20 20 47 3D 47 2E 70 61 72 65 6E 74 4E 6F 64 65    ..G=G.parentNode
00009830: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00009840: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
00009850: 28 4A 2E 74 65 73 74 28 2F 6B 65 79 2F 29 29 20    (J.test(/key/)).
00009860: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00009870: 20 20 20 76 61 72 20 42 3D 41 2E 77 68 69 63 68    ...var.B=A.which
00009880: 7C 7C 41 2E 6B 65 79 43 6F 64 65 3B 20 76 61 72    ||A.keyCode;.var
00009890: 20 4D 3D 45 76 65 6E 74 2E 4B 65 79 73 2E 6B 65    .M=Event.Keys.ke
000098a0: 79 4F 66 28 42 29 3B 20 69 66 28 4A 3D 3D 22 6B    yOf(B);.if(J=="k
000098b0: 65 79 64 6F 77 6E 22 29 20 7B 0A 20 20 20 20 20    eydown").{......
000098c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000098d0: 76 61 72 20 44 3D 42 2D 31 31 31 3B 20 69 66 28    var.D=B-111;.if(
000098e0: 44 3E 30 26 26 44 3C 31 33 29 20 7B 0A 20 20 20    D>0&&D<13).{....
000098f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009900: 20 20 20 20 20 20 4D 3D 22 66 22 2B 44 0A 20 20    ......M="f"+D...
00009910: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009920: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20    ...}............
00009930: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00009940: 20 20 20 20 20 20 20 20 20 20 4D 3D 4D 7C 7C 53    ..........M=M||S
00009950: 74 72 69 6E 67 2E 66 72 6F 6D 43 68 61 72 43 6F    tring.fromCharCo
00009960: 64 65 28 42 29 2E 74 6F 4C 6F 77 65 72 43 61 73    de(B).toLowerCas
00009970: 65 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    e().............
00009980: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00009990: 20 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20    .else.{.........
000099a0: 20 20 20 20 20 20 20 20 20 69 66 28 4A 2E 6D 61    .........if(J.ma
000099b0: 74 63 68 28 2F 28 63 6C 69 63 6B 7C 6D 6F 75 73    tch(/(click|mous
000099c0: 65 7C 6D 65 6E 75 29 2F 69 29 29 20 7B 0A 20 20    e|menu)/i)).{...
000099d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000099e0: 20 20 20 4B 3D 28 20 21 4B 2E 63 6F 6D 70 61 74    ...K=(.!K.compat
000099f0: 4D 6F 64 65 7C 7C 4B 2E 63 6F 6D 70 61 74 4D 6F    Mode||K.compatMo
00009a00: 64 65 3D 3D 22 43 53 53 31 43 6F 6D 70 61 74 22    de=="CSS1Compat"
00009a10: 29 3F 4B 2E 68 74 6D 6C 3A 4B 2E 62 6F 64 79 3B    )?K.html:K.body;
00009a20: 20 76 61 72 20 49 3D 20 7B 0A 20 20 20 20 20 20    .var.I=.{.......
00009a30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009a40: 20 20 20 78 3A 41 2E 70 61 67 65 58 7C 7C 41 2E    ...x:A.pageX||A.
00009a50: 63 6C 69 65 6E 74 58 2B 4B 2E 73 63 72 6F 6C 6C    clientX+K.scroll
00009a60: 4C 65 66 74 2C 20 79 3A 41 2E 70 61 67 65 59 7C    Left,.y:A.pageY|
00009a70: 7C 41 2E 63 6C 69 65 6E 74 59 2B 4B 2E 73 63 72    |A.clientY+K.scr
00009a80: 6F 6C 6C 54 6F 70 0A 20 20 20 20 20 20 20 20 20    ollTop..........
00009a90: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00009aa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009ab0: 20 20 20 20 3B 20 76 61 72 20 43 3D 20 7B 0A 20    ....;.var.C=.{..
00009ac0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009ad0: 20 20 20 20 20 20 20 20 78 3A 28 41 2E 70 61 67    ........x:(A.pag
00009ae0: 65 58 29 3F 41 2E 70 61 67 65 58 2D 46 2E 70 61    eX)?A.pageX-F.pa
00009af0: 67 65 58 4F 66 66 73 65 74 3A 41 2E 63 6C 69 65    geXOffset:A.clie
00009b00: 6E 74 58 2C 20 79 3A 28 41 2E 70 61 67 65 59 29    ntX,.y:(A.pageY)
00009b10: 3F 41 2E 70 61 67 65 59 2D 46 2E 70 61 67 65 59    ?A.pageY-F.pageY
00009b20: 4F 66 66 73 65 74 3A 41 2E 63 6C 69 65 6E 74 59    Offset:A.clientY
00009b30: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009b40: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00009b50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20    ..............;.
00009b60: 69 66 28 4A 2E 6D 61 74 63 68 28 2F 44 4F 4D 4D    if(J.match(/DOMM
00009b70: 6F 75 73 65 53 63 72 6F 6C 6C 7C 6D 6F 75 73 65    ouseScroll|mouse
00009b80: 77 68 65 65 6C 2F 29 29 20 7B 0A 20 20 20 20 20    wheel/)).{......
00009b90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009ba0: 20 20 20 20 76 61 72 20 48 3D 28 41 2E 77 68 65    ....var.H=(A.whe
00009bb0: 65 6C 44 65 6C 74 61 29 3F 41 2E 77 68 65 65 6C    elDelta)?A.wheel
00009bc0: 44 65 6C 74 61 2F 31 32 30 3A 2D 28 41 2E 64 65    Delta/120:-(A.de
00009bd0: 74 61 69 6C 7C 7C 30 29 2F 33 0A 20 20 20 20 20    tail||0)/3......
00009be0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009bf0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00009c00: 20 20 20 20 20 20 20 20 76 61 72 20 45 3D 28 41    ........var.E=(A
00009c10: 2E 77 68 69 63 68 3D 3D 33 29 7C 7C 28 41 2E 62    .which==3)||(A.b
00009c20: 75 74 74 6F 6E 3D 3D 32 29 3B 20 76 61 72 20 4C    utton==2);.var.L
00009c30: 3D 6E 75 6C 6C 3B 20 69 66 28 4A 2E 6D 61 74 63    =null;.if(J.matc
00009c40: 68 28 2F 6F 76 65 72 7C 6F 75 74 2F 29 29 20 7B    h(/over|out/)).{
00009c50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009c60: 20 20 20 20 20 20 20 20 20 20 73 77 69 74 63 68    ..........switch
00009c70: 28 4A 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    (J).{...........
00009c80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009c90: 20 20 20 63 61 73 65 20 22 6D 6F 75 73 65 6F 76    ...case."mouseov
00009ca0: 65 72 22 3A 4C 3D 41 2E 72 65 6C 61 74 65 64 54    er":L=A.relatedT
00009cb0: 61 72 67 65 74 7C 7C 41 2E 66 72 6F 6D 45 6C 65    arget||A.fromEle
00009cc0: 6D 65 6E 74 3B 20 62 72 65 61 6B 3B 20 63 61 73    ment;.break;.cas
00009cd0: 65 20 22 6D 6F 75 73 65 6F 75 74 22 3A 4C 3D 41    e."mouseout":L=A
00009ce0: 2E 72 65 6C 61 74 65 64 54 61 72 67 65 74 7C 7C    .relatedTarget||
00009cf0: 41 2E 74 6F 45 6C 65 6D 65 6E 74 0A 20 20 20 20    A.toElement.....
00009d00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009d10: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00009d20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009d30: 20 69 66 28 20 21 28 66 75 6E 63 74 69 6F 6E 28    .if(.!(function(
00009d40: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00009d50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009d60: 20 20 20 20 20 20 20 20 20 77 68 69 6C 65 28 4C    .........while(L
00009d70: 26 26 4C 2E 6E 6F 64 65 54 79 70 65 3D 3D 33 29    &&L.nodeType==3)
00009d80: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00009d90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009da0: 20 20 20 20 20 20 20 20 20 20 20 20 4C 3D 4C 2E    ............L=L.
00009db0: 70 61 72 65 6E 74 4E 6F 64 65 0A 20 20 20 20 20    parentNode......
00009dc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009dd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009de0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00009df0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009e00: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 21    ........return.!
00009e10: 30 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    0...............
00009e20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009e30: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00009e40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009e50: 20 20 20 29 2E 63 72 65 61 74 65 28 20 7B 0A 20    ...).create(.{..
00009e60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009e70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009e80: 20 20 20 20 61 74 74 65 6D 70 74 3A 42 72 6F 77    ....attempt:Brow
00009e90: 73 65 72 2E 45 6E 67 69 6E 65 2E 67 65 63 6B 6F    ser.Engine.gecko
00009ea0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009eb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009ec0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00009ed0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009ee0: 20 20 29 28 29 29 20 7B 0A 20 20 20 20 20 20 20    ..)()).{........
00009ef0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009f00: 20 20 20 20 20 20 4C 3D 20 21 31 0A 20 20 20 20    ......L=.!1.....
00009f10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00009f20: 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20    .....}..........
00009f30: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
00009f40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00009f50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00009f60: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00009f70: 74 75 72 6E 20 24 65 78 74 65 6E 64 28 74 68 69    turn.$extend(thi
00009f80: 73 2C 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    s,.{............
00009f90: 20 20 20 20 20 20 20 20 20 20 65 76 65 6E 74 3A    ..........event:
00009fa0: 41 2C 20 74 79 70 65 3A 4A 2C 20 70 61 67 65 3A    A,.type:J,.page:
00009fb0: 49 2C 20 63 6C 69 65 6E 74 3A 43 2C 20 72 69 67    I,.client:C,.rig
00009fc0: 68 74 43 6C 69 63 6B 3A 45 2C 20 77 68 65 65 6C    htClick:E,.wheel
00009fd0: 3A 48 2C 20 72 65 6C 61 74 65 64 54 61 72 67 65    :H,.relatedTarge
00009fe0: 74 3A 4C 2C 20 74 61 72 67 65 74 3A 47 2C 20 63    t:L,.target:G,.c
00009ff0: 6F 64 65 3A 42 2C 20 6B 65 79 3A 4D 2C 20 73 68    ode:B,.key:M,.sh
0000a000: 69 66 74 3A 41 2E 73 68 69 66 74 4B 65 79 2C 20    ift:A.shiftKey,.
0000a010: 63 6F 6E 74 72 6F 6C 3A 41 2E 63 74 72 6C 4B 65    control:A.ctrlKe
0000a020: 79 2C 20 61 6C 74 3A 41 2E 61 6C 74 4B 65 79 2C    y,.alt:A.altKey,
0000a030: 20 6D 65 74 61 3A 41 2E 6D 65 74 61 4B 65 79 0A    .meta:A.metaKey.
0000a040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000a050: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0000a060: 20 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20    .)..........}...
0000a070: 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 76 65 6E    ...}...);...Even
0000a080: 74 2E 4B 65 79 73 3D 6E 65 77 20 48 61 73 68 28    t.Keys=new.Hash(
0000a090: 20 7B 0A 20 20 20 20 20 20 20 20 20 65 6E 74 65    .{..........ente
0000a0a0: 72 3A 31 33 2C 20 75 70 3A 33 38 2C 20 64 6F 77    r:13,.up:38,.dow
0000a0b0: 6E 3A 34 30 2C 20 6C 65 66 74 3A 33 37 2C 20 72    n:40,.left:37,.r
0000a0c0: 69 67 68 74 3A 33 39 2C 20 65 73 63 3A 32 37 2C    ight:39,.esc:27,
0000a0d0: 20 73 70 61 63 65 3A 33 32 2C 20 62 61 63 6B 73    .space:32,.backs
0000a0e0: 70 61 63 65 3A 38 2C 20 74 61 62 3A 39 2C 20 22    pace:8,.tab:9,."
0000a0f0: 64 65 6C 65 74 65 22 3A 34 36 0A 20 20 20 20 20    delete":46......
0000a100: 7D 0A 0A 20 29 3B 0A 0A 20 45 76 65 6E 74 2E 69    }...);...Event.i
0000a110: 6D 70 6C 65 6D 65 6E 74 28 20 7B 0A 20 20 20 20    mplement(.{.....
0000a120: 20 20 20 20 20 73 74 6F 70 3A 66 75 6E 63 74 69    .....stop:functi
0000a130: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
0000a140: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E    ....return.this.
0000a150: 73 74 6F 70 50 72 6F 70 61 67 61 74 69 6F 6E 28    stopPropagation(
0000a160: 29 2E 70 72 65 76 65 6E 74 44 65 66 61 75 6C 74    ).preventDefault
0000a170: 28 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ()..........}...
0000a180: 20 20 20 20 20 20 20 20 2C 20 73 74 6F 70 50 72    ........,.stopPr
0000a190: 6F 70 61 67 61 74 69 6F 6E 3A 66 75 6E 63 74 69    opagation:functi
0000a1a0: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
0000a1b0: 20 20 20 20 69 66 28 74 68 69 73 2E 65 76 65 6E    ....if(this.even
0000a1c0: 74 2E 73 74 6F 70 50 72 6F 70 61 67 61 74 69 6F    t.stopPropagatio
0000a1d0: 6E 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    n).{............
0000a1e0: 20 20 20 20 20 20 74 68 69 73 2E 65 76 65 6E 74    ......this.event
0000a1f0: 2E 73 74 6F 70 50 72 6F 70 61 67 61 74 69 6F 6E    .stopPropagation
0000a200: 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ()..............
0000a210: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0000a220: 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20 20    else.{..........
0000a230: 20 20 20 20 20 20 20 20 74 68 69 73 2E 65 76 65    ........this.eve
0000a240: 6E 74 2E 63 61 6E 63 65 6C 42 75 62 62 6C 65 3D    nt.cancelBubble=
0000a250: 20 21 30 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!0.............
0000a260: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0000a270: 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20    .return.this....
0000a280: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000a290: 20 20 2C 20 70 72 65 76 65 6E 74 44 65 66 61 75    ..,.preventDefau
0000a2a0: 6C 74 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    lt:function().{.
0000a2b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
0000a2c0: 74 68 69 73 2E 65 76 65 6E 74 2E 70 72 65 76 65    this.event.preve
0000a2d0: 6E 74 44 65 66 61 75 6C 74 29 20 7B 0A 20 20 20    ntDefault).{....
0000a2e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68    ..............th
0000a2f0: 69 73 2E 65 76 65 6E 74 2E 70 72 65 76 65 6E 74    is.event.prevent
0000a300: 44 65 66 61 75 6C 74 28 29 0A 20 20 20 20 20 20    Default().......
0000a310: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0000a320: 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A 20 20    .......else.{...
0000a330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
0000a340: 68 69 73 2E 65 76 65 6E 74 2E 72 65 74 75 72 6E    his.event.return
0000a350: 56 61 6C 75 65 3D 20 21 31 0A 20 20 20 20 20 20    Value=.!1.......
0000a360: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0000a370: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
0000a380: 69 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20    is..........}...
0000a390: 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 76 61 72 20    ...}...);...var.
0000a3a0: 43 6C 61 73 73 3D 6E 65 77 20 4E 61 74 69 76 65    Class=new.Native
0000a3b0: 28 20 7B 0A 20 20 20 20 20 20 20 20 20 6E 61 6D    (.{..........nam
0000a3c0: 65 3A 22 43 6C 61 73 73 22 2C 20 69 6E 69 74 69    e:"Class",.initi
0000a3d0: 61 6C 69 7A 65 3A 66 75 6E 63 74 69 6F 6E 28 42    alize:function(B
0000a3e0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000a3f0: 20 42 3D 42 7C 7C 20 7B 7D 0A 0A 20 20 20 20 20    .B=B||.{}.......
0000a400: 20 20 20 20 20 20 20 20 3B 20 76 61 72 20 41 3D    ........;.var.A=
0000a410: 66 75 6E 63 74 69 6F 6E 28 45 29 20 7B 0A 20 20    function(E).{...
0000a420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 66    ...............f
0000a430: 6F 72 28 76 61 72 20 44 20 69 6E 20 74 68 69 73    or(var.D.in.this
0000a440: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000a450: 20 20 20 20 20 20 20 20 20 74 68 69 73 5B 44 5D    .........this[D]
0000a460: 3D 24 75 6E 6C 69 6E 6B 28 74 68 69 73 5B 44 5D    =$unlink(this[D]
0000a470: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0000a480: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0000a490: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 46    .......for(var.F
0000a4a0: 20 69 6E 20 43 6C 61 73 73 2E 4D 75 74 61 74 6F    .in.Class.Mutato
0000a4b0: 72 73 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    rs).{...........
0000a4c0: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 20 21    ...........if(.!
0000a4d0: 74 68 69 73 5B 46 5D 29 20 7B 0A 20 20 20 20 20    this[F]).{......
0000a4e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000a4f0: 20 20 20 20 63 6F 6E 74 69 6E 75 65 0A 20 20 20    ....continue....
0000a500: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000a510: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000a520: 20 20 20 20 20 20 20 20 20 20 43 6C 61 73 73 2E    ..........Class.
0000a530: 4D 75 74 61 74 6F 72 73 5B 46 5D 28 74 68 69 73    Mutators[F](this
0000a540: 2C 20 74 68 69 73 5B 46 5D 29 3B 20 64 65 6C 65    ,.this[F]);.dele
0000a550: 74 65 20 74 68 69 73 5B 46 5D 0A 20 20 20 20 20    te.this[F]......
0000a560: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0000a570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000a580: 74 68 69 73 2E 63 6F 6E 73 74 72 75 63 74 6F 72    this.constructor
0000a590: 3D 41 3B 20 69 66 28 45 3D 3D 3D 24 65 6D 70 74    =A;.if(E===$empt
0000a5a0: 79 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    y).{............
0000a5b0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0000a5c0: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20    .this...........
0000a5d0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0000a5e0: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 43    ...........var.C
0000a5f0: 3D 28 74 68 69 73 2E 69 6E 69 74 69 61 6C 69 7A    =(this.initializ
0000a600: 65 29 3F 74 68 69 73 2E 69 6E 69 74 69 61 6C 69    e)?this.initiali
0000a610: 7A 65 2E 61 70 70 6C 79 28 74 68 69 73 2C 20 61    ze.apply(this,.a
0000a620: 72 67 75 6D 65 6E 74 73 29 3A 74 68 69 73 3B 20    rguments):this;.
0000a630: 69 66 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73 26    if(this.options&
0000a640: 26 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 69 6E    &this.options.in
0000a650: 69 74 69 61 6C 69 7A 65 29 20 7B 0A 20 20 20 20    itialize).{.....
0000a660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000a670: 20 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 69 6E    .this.options.in
0000a680: 69 74 69 61 6C 69 7A 65 2E 63 61 6C 6C 28 74 68    itialize.call(th
0000a690: 69 73 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    is).............
0000a6a0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000a6b0: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
0000a6c0: 43 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    C..............}
0000a6d0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 3B    ...............;
0000a6e0: 20 24 65 78 74 65 6E 64 28 41 2C 20 74 68 69 73    .$extend(A,.this
0000a6f0: 29 3B 20 41 2E 63 6F 6E 73 74 72 75 63 74 6F 72    );.A.constructor
0000a700: 3D 43 6C 61 73 73 3B 20 41 2E 70 72 6F 74 6F 74    =Class;.A.protot
0000a710: 79 70 65 3D 42 3B 20 72 65 74 75 72 6E 20 41 0A    ype=B;.return.A.
0000a720: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
0000a730: 7D 0A 0A 20 29 3B 0A 0A 20 43 6C 61 73 73 2E 69    }...);...Class.i
0000a740: 6D 70 6C 65 6D 65 6E 74 28 20 7B 0A 20 20 20 20    mplement(.{.....
0000a750: 20 20 20 20 20 69 6D 70 6C 65 6D 65 6E 74 3A 66    .....implement:f
0000a760: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
0000a770: 20 20 20 20 20 20 20 20 20 43 6C 61 73 73 2E 4D    .........Class.M
0000a780: 75 74 61 74 6F 72 73 2E 49 6D 70 6C 65 6D 65 6E    utators.Implemen
0000a790: 74 73 28 74 68 69 73 2E 70 72 6F 74 6F 74 79 70    ts(this.prototyp
0000a7a0: 65 2C 20 41 72 72 61 79 2E 73 6C 69 63 65 28 61    e,.Array.slice(a
0000a7b0: 72 67 75 6D 65 6E 74 73 29 29 3B 20 72 65 74 75    rguments));.retu
0000a7c0: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
0000a7d0: 20 7D 0A 20 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A    .}......}...);..
0000a7e0: 20 43 6C 61 73 73 2E 4D 75 74 61 74 6F 72 73 3D    .Class.Mutators=
0000a7f0: 20 7B 0A 20 20 20 20 20 49 6D 70 6C 65 6D 65 6E    .{......Implemen
0000a800: 74 73 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 42    ts:function(A,.B
0000a810: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 24 73 70    ).{..........$sp
0000a820: 6C 61 74 28 42 29 2E 65 61 63 68 28 66 75 6E 63    lat(B).each(func
0000a830: 74 69 6F 6E 28 43 29 20 7B 0A 20 20 20 20 20 20    tion(C).{.......
0000a840: 20 20 20 20 20 20 20 20 20 20 20 24 65 78 74 65    ...........$exte
0000a850: 6E 64 28 41 2C 20 28 24 74 79 70 65 28 43 29 3D    nd(A,.($type(C)=
0000a860: 3D 22 63 6C 61 73 73 22 29 3F 6E 65 77 20 43 28    ="class")?new.C(
0000a870: 24 65 6D 70 74 79 29 3A 43 29 0A 20 20 20 20 20    $empty):C)......
0000a880: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000a890: 20 20 20 20 29 0A 20 20 20 20 20 7D 0A 0A 20 20    ....)......}....
0000a8a0: 20 20 20 2C 0A 20 20 20 20 20 45 78 74 65 6E 64    ...,......Extend
0000a8b0: 73 3A 66 75 6E 63 74 69 6F 6E 28 73 65 6C 66 2C    s:function(self,
0000a8c0: 20 6B 6C 61 73 73 29 20 7B 0A 20 20 20 20 20 20    .klass).{.......
0000a8d0: 20 20 20 76 61 72 20 69 6E 73 74 61 6E 63 65 3D    ...var.instance=
0000a8e0: 6E 65 77 20 6B 6C 61 73 73 28 24 65 6D 70 74 79    new.klass($empty
0000a8f0: 29 3B 0A 20 20 20 20 20 20 20 20 20 64 65 6C 65    );..........dele
0000a900: 74 65 20 69 6E 73 74 61 6E 63 65 2E 70 61 72 65    te.instance.pare
0000a910: 6E 74 3B 0A 20 20 20 20 20 20 20 20 20 64 65 6C    nt;..........del
0000a920: 65 74 65 20 69 6E 73 74 61 6E 63 65 2E 70 61 72    ete.instance.par
0000a930: 65 6E 74 4F 66 3B 0A 0A 20 20 20 20 20 20 20 20    entOf;..........
0000a940: 20 66 6F 72 28 76 61 72 20 6B 65 79 20 69 6E 20    .for(var.key.in.
0000a950: 69 6E 73 74 61 6E 63 65 29 20 7B 0A 20 20 20 20    instance).{.....
0000a960: 20 20 20 20 20 20 20 20 20 76 61 72 20 63 75 72    .........var.cur
0000a970: 72 65 6E 74 3D 73 65 6C 66 5B 6B 65 79 5D 2C 0A    rent=self[key],.
0000a980: 20 20 20 20 20 20 20 20 20 20 20 20 20 70 72 65    .............pre
0000a990: 76 69 6F 75 73 3D 69 6E 73 74 61 6E 63 65 5B 6B    vious=instance[k
0000a9a0: 65 79 5D 3B 0A 0A 20 20 20 20 20 20 20 20 20 20    ey];............
0000a9b0: 20 20 20 69 66 28 63 75 72 72 65 6E 74 3D 3D 75    ...if(current==u
0000a9c0: 6E 64 65 66 69 6E 65 64 29 20 7B 0A 20 20 20 20    ndefined).{.....
0000a9d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 73 65 6C    .............sel
0000a9e0: 66 5B 6B 65 79 5D 3D 70 72 65 76 69 6F 75 73 3B    f[key]=previous;
0000a9f0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000aa00: 20 20 63 6F 6E 74 69 6E 75 65 0A 20 20 20 20 20    ..continue......
0000aa10: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000aa20: 20 20 20 20 20 20 20 20 76 61 72 20 63 74 79 70    ........var.ctyp
0000aa30: 65 3D 24 74 79 70 65 28 63 75 72 72 65 6E 74 29    e=$type(current)
0000aa40: 2C 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 70    ,..............p
0000aa50: 74 79 70 65 3D 24 74 79 70 65 28 70 72 65 76 69    type=$type(previ
0000aa60: 6F 75 73 29 3B 0A 0A 20 20 20 20 20 20 20 20 20    ous);...........
0000aa70: 20 20 20 20 69 66 28 63 74 79 70 65 20 21 3D 70    ....if(ctype.!=p
0000aa80: 74 79 70 65 29 20 7B 0A 20 20 20 20 20 20 20 20    type).{.........
0000aa90: 20 20 20 20 20 20 20 20 20 63 6F 6E 74 69 6E 75    .........continu
0000aaa0: 65 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    e..............}
0000aab0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 73    ...............s
0000aac0: 77 69 74 63 68 28 63 74 79 70 65 29 20 7B 0A 20    witch(ctype).{..
0000aad0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000aae0: 63 61 73 65 20 22 66 75 6E 63 74 69 6F 6E 22 3A    case."function":
0000aaf0: 69 66 28 20 21 61 72 67 75 6D 65 6E 74 73 2E 63    if(.!arguments.c
0000ab00: 61 6C 6C 65 65 2E 63 61 6C 6C 65 72 29 20 7B 0A    allee.caller).{.
0000ab10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ab20: 20 20 20 20 20 73 65 6C 66 5B 6B 65 79 5D 3D 65    .....self[key]=e
0000ab30: 76 61 6C 28 22 28 22 2B 53 74 72 69 6E 67 28 63    val("("+String(c
0000ab40: 75 72 72 65 6E 74 29 2E 72 65 70 6C 61 63 65 28    urrent).replace(
0000ab50: 2F 5C 62 74 68 69 73 5C 2E 70 61 72 65 6E 74 5C    /\bthis\.parent\
0000ab60: 28 5C 73 2A 28 5C 29 29 3F 2F 67 2C 20 66 75 6E    (\s*(\))?/g,.fun
0000ab70: 63 74 69 6F 6E 28 66 75 6C 6C 2C 20 63 6C 6F 73    ction(full,.clos
0000ab80: 65 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    e).{............
0000ab90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000aba0: 20 20 20 20 20 20 72 65 74 75 72 6E 22 61 72 67    ......return"arg
0000abb0: 75 6D 65 6E 74 73 2E 63 61 6C 6C 65 65 2E 5F 70    uments.callee._p
0000abc0: 61 72 65 6E 74 5F 2E 63 61 6C 6C 28 74 68 69 73    arent_.call(this
0000abd0: 22 2B 28 63 6C 6F 73 65 7C 7C 22 2C 20 22 29 0A    "+(close||",.").
0000abe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000abf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0000ac00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ac10: 20 20 20 20 20 20 20 20 20 29 2B 22 29 22 29 0A    .........)+")").
0000ac20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ac30: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0000ac40: 20 20 20 20 20 73 65 6C 66 5B 6B 65 79 5D 2E 5F    .....self[key]._
0000ac50: 70 61 72 65 6E 74 5F 3D 70 72 65 76 69 6F 75 73    parent_=previous
0000ac60: 3B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ;...............
0000ac70: 20 20 20 62 72 65 61 6B 3B 0A 20 20 20 20 20 20    ...break;.......
0000ac80: 20 20 20 20 20 20 20 20 20 20 20 63 61 73 65 20    ...........case.
0000ac90: 22 6F 62 6A 65 63 74 22 3A 73 65 6C 66 5B 6B 65    "object":self[ke
0000aca0: 79 5D 3D 24 6D 65 72 67 65 28 70 72 65 76 69 6F    y]=$merge(previo
0000acb0: 75 73 2C 20 63 75 72 72 65 6E 74 29 0A 20 20 20    us,.current)....
0000acc0: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
0000acd0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000ace0: 20 73 65 6C 66 2E 70 61 72 65 6E 74 3D 66 75 6E    .self.parent=fun
0000acf0: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
0000ad00: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 61 72    .......return.ar
0000ad10: 67 75 6D 65 6E 74 73 2E 63 61 6C 6C 65 65 2E 63    guments.callee.c
0000ad20: 61 6C 6C 65 72 2E 5F 70 61 72 65 6E 74 5F 2E 61    aller._parent_.a
0000ad30: 70 70 6C 79 28 74 68 69 73 2C 20 61 72 67 75 6D    pply(this,.argum
0000ad40: 65 6E 74 73 29 0A 20 20 20 20 20 20 20 20 20 7D    ents)..........}
0000ad50: 0A 0A 20 20 20 20 20 20 20 20 20 3B 0A 0A 20 20    ...........;....
0000ad60: 20 20 20 20 20 20 20 73 65 6C 66 2E 70 61 72 65    .......self.pare
0000ad70: 6E 74 4F 66 3D 66 75 6E 63 74 69 6F 6E 28 64 65    ntOf=function(de
0000ad80: 73 63 65 6E 64 61 6E 74 29 20 7B 0A 20 20 20 20    scendant).{.....
0000ad90: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
0000ada0: 64 65 73 63 65 6E 64 61 6E 74 2E 5F 70 61 72 65    descendant._pare
0000adb0: 6E 74 5F 2E 61 70 70 6C 79 28 74 68 69 73 2C 20    nt_.apply(this,.
0000adc0: 41 72 72 61 79 2E 73 6C 69 63 65 28 61 72 67 75    Array.slice(argu
0000add0: 6D 65 6E 74 73 2C 20 31 29 29 0A 20 20 20 20 20    ments,.1))......
0000ade0: 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 20 7D 0A    ....}......}..}.
0000adf0: 0A 20 3B 0A 0A 20 76 61 72 20 43 68 61 69 6E 3D    ..;...var.Chain=
0000ae00: 6E 65 77 20 43 6C 61 73 73 28 20 7B 0A 20 20 20    new.Class(.{....
0000ae10: 20 20 20 20 20 20 63 68 61 69 6E 3A 66 75 6E 63    ......chain:func
0000ae20: 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20    tion().{........
0000ae30: 20 20 20 20 20 20 74 68 69 73 2E 24 63 68 61 69    ......this.$chai
0000ae40: 6E 3D 28 74 68 69 73 2E 24 63 68 61 69 6E 7C 7C    n=(this.$chain||
0000ae50: 5B 5D 29 2E 65 78 74 65 6E 64 28 61 72 67 75 6D    []).extend(argum
0000ae60: 65 6E 74 73 29 3B 20 72 65 74 75 72 6E 20 74 68    ents);.return.th
0000ae70: 69 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    is..........}...
0000ae80: 20 20 20 20 20 20 20 20 2C 20 63 61 6C 6C 43 68    ........,.callCh
0000ae90: 61 69 6E 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B    ain:function().{
0000aea0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0000aeb0: 74 75 72 6E 28 74 68 69 73 2E 24 63 68 61 69 6E    turn(this.$chain
0000aec0: 26 26 74 68 69 73 2E 24 63 68 61 69 6E 2E 6C 65    &&this.$chain.le
0000aed0: 6E 67 74 68 29 3F 74 68 69 73 2E 24 63 68 61 69    ngth)?this.$chai
0000aee0: 6E 2E 73 68 69 66 74 28 29 2E 61 70 70 6C 79 28    n.shift().apply(
0000aef0: 74 68 69 73 2C 20 61 72 67 75 6D 65 6E 74 73 29    this,.arguments)
0000af00: 3A 20 21 31 0A 20 20 20 20 20 20 20 20 20 7D 0A    :.!1..........}.
0000af10: 0A 20 20 20 20 20 20 20 20 20 2C 20 63 6C 65 61    ..........,.clea
0000af20: 72 43 68 61 69 6E 3A 66 75 6E 63 74 69 6F 6E 28    rChain:function(
0000af30: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000af40: 20 69 66 28 74 68 69 73 2E 24 63 68 61 69 6E 29    .if(this.$chain)
0000af50: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000af60: 20 20 20 20 74 68 69 73 2E 24 63 68 61 69 6E 2E    ....this.$chain.
0000af70: 65 6D 70 74 79 28 29 0A 20 20 20 20 20 20 20 20    empty().........
0000af80: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000af90: 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73    .....return.this
0000afa0: 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
0000afb0: 20 7D 0A 0A 20 29 3B 0A 0A 20 76 61 72 20 45 76    .}...);...var.Ev
0000afc0: 65 6E 74 73 3D 6E 65 77 20 43 6C 61 73 73 28 20    ents=new.Class(.
0000afd0: 7B 0A 20 20 20 20 20 20 20 20 20 61 64 64 45 76    {..........addEv
0000afe0: 65 6E 74 3A 66 75 6E 63 74 69 6F 6E 28 43 2C 20    ent:function(C,.
0000aff0: 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20    B,.A).{.........
0000b000: 20 20 20 20 20 43 3D 45 76 65 6E 74 73 2E 72 65    .....C=Events.re
0000b010: 6D 6F 76 65 4F 6E 28 43 29 3B 20 69 66 28 42 20    moveOn(C);.if(B.
0000b020: 21 3D 24 65 6D 70 74 79 29 20 7B 0A 20 20 20 20    !=$empty).{.....
0000b030: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
0000b040: 73 2E 24 65 76 65 6E 74 73 3D 74 68 69 73 2E 24    s.$events=this.$
0000b050: 65 76 65 6E 74 73 7C 7C 20 7B 7D 0A 0A 20 20 20    events||.{}.....
0000b060: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20    ..............;.
0000b070: 74 68 69 73 2E 24 65 76 65 6E 74 73 5B 43 5D 3D    this.$events[C]=
0000b080: 74 68 69 73 2E 24 65 76 65 6E 74 73 5B 43 5D 7C    this.$events[C]|
0000b090: 7C 5B 5D 3B 20 74 68 69 73 2E 24 65 76 65 6E 74    |[];.this.$event
0000b0a0: 73 5B 43 5D 2E 69 6E 63 6C 75 64 65 28 42 29 3B    s[C].include(B);
0000b0b0: 20 69 66 28 41 29 20 7B 0A 20 20 20 20 20 20 20    .if(A).{........
0000b0c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 42 2E    ..............B.
0000b0d0: 69 6E 74 65 72 6E 61 6C 3D 20 21 30 0A 20 20 20    internal=.!0....
0000b0e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000b0f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0000b100: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000b110: 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20    urn.this........
0000b120: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
0000b130: 61 64 64 45 76 65 6E 74 73 3A 66 75 6E 63 74 69    addEvents:functi
0000b140: 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20    on(A).{.........
0000b150: 20 20 20 20 20 66 6F 72 28 76 61 72 20 42 20 69    .....for(var.B.i
0000b160: 6E 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n.A).{..........
0000b170: 20 20 20 20 20 20 20 20 74 68 69 73 2E 61 64 64    ........this.add
0000b180: 45 76 65 6E 74 28 42 2C 20 41 5B 42 5D 29 0A 20    Event(B,.A[B])..
0000b190: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0000b1a0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
0000b1b0: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
0000b1c0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 66    .}...........,.f
0000b1d0: 69 72 65 45 76 65 6E 74 3A 66 75 6E 63 74 69 6F    ireEvent:functio
0000b1e0: 6E 28 43 2C 20 42 2C 20 41 29 20 7B 0A 20 20 20    n(C,.B,.A).{....
0000b1f0: 20 20 20 20 20 20 20 20 20 20 43 3D 45 76 65 6E    ..........C=Even
0000b200: 74 73 2E 72 65 6D 6F 76 65 4F 6E 28 43 29 3B 20    ts.removeOn(C);.
0000b210: 69 66 28 20 21 74 68 69 73 2E 24 65 76 65 6E 74    if(.!this.$event
0000b220: 73 7C 7C 20 21 74 68 69 73 2E 24 65 76 65 6E 74    s||.!this.$event
0000b230: 73 5B 43 5D 29 20 7B 0A 20 20 20 20 20 20 20 20    s[C]).{.........
0000b240: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
0000b250: 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20 20    this............
0000b260: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000b270: 20 20 74 68 69 73 2E 24 65 76 65 6E 74 73 5B 43    ..this.$events[C
0000b280: 5D 2E 65 61 63 68 28 66 75 6E 63 74 69 6F 6E 28    ].each(function(
0000b290: 44 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    D).{............
0000b2a0: 20 20 20 20 20 20 20 20 20 20 44 2E 63 72 65 61    ..........D.crea
0000b2b0: 74 65 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20    te(.{...........
0000b2c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b2d0: 20 20 20 62 69 6E 64 3A 74 68 69 73 2C 20 64 65    ...bind:this,.de
0000b2e0: 6C 61 79 3A 41 2C 20 22 61 72 67 75 6D 65 6E 74    lay:A,."argument
0000b2f0: 73 22 3A 42 0A 20 20 20 20 20 20 20 20 20 20 20    s":B............
0000b300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000b310: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b320: 20 20 20 20 20 20 29 28 29 0A 20 20 20 20 20 20    ......)().......
0000b330: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0000b340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
0000b350: 20 74 68 69 73 29 3B 20 72 65 74 75 72 6E 20 74    .this);.return.t
0000b360: 68 69 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    his..........}..
0000b370: 20 20 20 20 20 20 20 20 20 2C 20 72 65 6D 6F 76    .........,.remov
0000b380: 65 45 76 65 6E 74 3A 66 75 6E 63 74 69 6F 6E 28    eEvent:function(
0000b390: 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20    B,.A).{.........
0000b3a0: 20 20 20 20 20 42 3D 45 76 65 6E 74 73 2E 72 65    .....B=Events.re
0000b3b0: 6D 6F 76 65 4F 6E 28 42 29 3B 20 69 66 28 20 21    moveOn(B);.if(.!
0000b3c0: 74 68 69 73 2E 24 65 76 65 6E 74 73 7C 7C 20 21    this.$events||.!
0000b3d0: 74 68 69 73 2E 24 65 76 65 6E 74 73 5B 42 5D 29    this.$events[B])
0000b3e0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000b3f0: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A    ....return.this.
0000b400: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0000b410: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
0000b420: 20 21 41 2E 69 6E 74 65 72 6E 61 6C 29 20 7B 0A    .!A.internal).{.
0000b430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b440: 20 74 68 69 73 2E 24 65 76 65 6E 74 73 5B 42 5D    .this.$events[B]
0000b450: 2E 65 72 61 73 65 28 41 29 0A 20 20 20 20 20 20    .erase(A).......
0000b460: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0000b470: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
0000b480: 69 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    is..........}...
0000b490: 20 20 20 20 20 20 20 20 2C 20 72 65 6D 6F 76 65    ........,.remove
0000b4a0: 45 76 65 6E 74 73 3A 66 75 6E 63 74 69 6F 6E 28    Events:function(
0000b4b0: 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    C).{............
0000b4c0: 20 20 66 6F 72 28 76 61 72 20 44 20 69 6E 20 74    ..for(var.D.in.t
0000b4d0: 68 69 73 2E 24 65 76 65 6E 74 73 29 20 7B 0A 20    his.$events).{..
0000b4e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b4f0: 69 66 28 43 26 26 43 20 21 3D 44 29 20 7B 0A 20    if(C&&C.!=D).{..
0000b500: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b510: 20 20 20 20 63 6F 6E 74 69 6E 75 65 0A 20 20 20    ....continue....
0000b520: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000b530: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b540: 20 20 76 61 72 20 42 3D 74 68 69 73 2E 24 65 76    ..var.B=this.$ev
0000b550: 65 6E 74 73 5B 44 5D 3B 20 66 6F 72 28 76 61 72    ents[D];.for(var
0000b560: 20 41 3D 42 2E 6C 65 6E 67 74 68 3B 20 41 2D 2D    .A=B.length;.A--
0000b570: 3B 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ;.A).{..........
0000b580: 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73    ............this
0000b590: 2E 72 65 6D 6F 76 65 45 76 65 6E 74 28 44 2C 20    .removeEvent(D,.
0000b5a0: 42 5B 41 5D 29 0A 20 20 20 20 20 20 20 20 20 20    B[A])...........
0000b5b0: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
0000b5c0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000b5d0: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
0000b5e0: 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    s..........}....
0000b5f0: 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 76 65 6E 74    ..}...);...Event
0000b600: 73 2E 72 65 6D 6F 76 65 4F 6E 3D 66 75 6E 63 74    s.removeOn=funct
0000b610: 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 72 65    ion(A).{......re
0000b620: 74 75 72 6E 20 41 2E 72 65 70 6C 61 63 65 28 2F    turn.A.replace(/
0000b630: 5E 6F 6E 28 5B 41 2D 5A 5D 29 2F 2C 20 66 75 6E    ^on([A-Z])/,.fun
0000b640: 63 74 69 6F 6E 28 42 2C 20 43 29 20 7B 0A 20 20    ction(B,.C).{...
0000b650: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0000b660: 6E 20 43 2E 74 6F 4C 6F 77 65 72 43 61 73 65 28    n.C.toLowerCase(
0000b670: 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    )..........}....
0000b680: 20 20 20 29 0A 20 7D 0A 0A 20 3B 0A 0A 20 76 61    ...)..}...;...va
0000b690: 72 20 4F 70 74 69 6F 6E 73 3D 6E 65 77 20 43 6C    r.Options=new.Cl
0000b6a0: 61 73 73 28 20 7B 0A 20 20 20 20 20 20 20 20 20    ass(.{..........
0000b6b0: 73 65 74 4F 70 74 69 6F 6E 73 3A 66 75 6E 63 74    setOptions:funct
0000b6c0: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
0000b6d0: 20 20 20 20 20 74 68 69 73 2E 6F 70 74 69 6F 6E    .....this.option
0000b6e0: 73 3D 24 6D 65 72 67 65 2E 72 75 6E 28 5B 74 68    s=$merge.run([th
0000b6f0: 69 73 2E 6F 70 74 69 6F 6E 73 5D 2E 65 78 74 65    is.options].exte
0000b700: 6E 64 28 61 72 67 75 6D 65 6E 74 73 29 29 3B 20    nd(arguments));.
0000b710: 69 66 28 20 21 74 68 69 73 2E 61 64 64 45 76 65    if(.!this.addEve
0000b720: 6E 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    nt).{...........
0000b730: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
0000b740: 69 73 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    is..............
0000b750: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0000b760: 66 6F 72 28 76 61 72 20 41 20 69 6E 20 74 68 69    for(var.A.in.thi
0000b770: 73 2E 6F 70 74 69 6F 6E 73 29 20 7B 0A 20 20 20    s.options).{....
0000b780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
0000b790: 28 24 74 79 70 65 28 74 68 69 73 2E 6F 70 74 69    ($type(this.opti
0000b7a0: 6F 6E 73 5B 41 5D 29 20 21 3D 22 66 75 6E 63 74    ons[A]).!="funct
0000b7b0: 69 6F 6E 22 7C 7C 20 21 28 2F 5E 6F 6E 5B 41 2D    ion"||.!(/^on[A-
0000b7c0: 5A 5D 2F 29 2E 74 65 73 74 28 41 29 29 20 7B 0A    Z]/).test(A)).{.
0000b7d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b7e0: 20 20 20 20 20 63 6F 6E 74 69 6E 75 65 0A 20 20    .....continue...
0000b7f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0000b800: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b810: 20 20 20 74 68 69 73 2E 61 64 64 45 76 65 6E 74    ...this.addEvent
0000b820: 28 41 2C 20 74 68 69 73 2E 6F 70 74 69 6F 6E 73    (A,.this.options
0000b830: 5B 41 5D 29 3B 20 64 65 6C 65 74 65 20 74 68 69    [A]);.delete.thi
0000b840: 73 2E 6F 70 74 69 6F 6E 73 5B 41 5D 0A 20 20 20    s.options[A]....
0000b850: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0000b860: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0000b870: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 7D    .this..........}
0000b880: 0A 20 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 44    ......}...);...D
0000b890: 6F 63 75 6D 65 6E 74 2E 69 6D 70 6C 65 6D 65 6E    ocument.implemen
0000b8a0: 74 28 20 7B 0A 20 20 20 20 20 20 20 20 20 6E 65    t(.{..........ne
0000b8b0: 77 45 6C 65 6D 65 6E 74 3A 66 75 6E 63 74 69 6F    wElement:functio
0000b8c0: 6E 28 41 2C 20 42 29 20 7B 0A 20 20 20 20 20 20    n(A,.B).{.......
0000b8d0: 20 20 20 20 20 20 20 69 66 28 42 72 6F 77 73 65    .......if(Browse
0000b8e0: 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74    r.Engine.trident
0000b8f0: 26 26 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    &&B).{..........
0000b900: 20 20 20 20 20 20 20 20 5B 22 6E 61 6D 65 22 2C    ........["name",
0000b910: 20 22 74 79 70 65 22 2C 20 22 63 68 65 63 6B 65    ."type",."checke
0000b920: 64 22 5D 2E 65 61 63 68 28 66 75 6E 63 74 69 6F    d"].each(functio
0000b930: 6E 28 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(C).{..........
0000b940: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b950: 69 66 28 20 21 42 5B 43 5D 29 20 7B 0A 20 20 20    if(.!B[C]).{....
0000b960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b970: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0000b980: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b990: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0000b9a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000b9b0: 20 20 20 20 20 20 41 2B 3D 22 20 22 2B 43 2B 27    ......A+="."+C+'
0000b9c0: 3D 22 27 2B 42 5B 43 5D 2B 27 22 27 3B 20 69 66    ="'+B[C]+'"';.if
0000b9d0: 28 43 20 21 3D 22 63 68 65 63 6B 65 64 22 29 20    (C.!="checked").
0000b9e0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0000b9f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 64    ...............d
0000ba00: 65 6C 65 74 65 20 42 5B 43 5D 0A 20 20 20 20 20    elete.B[C]......
0000ba10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ba20: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
0000ba30: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0000ba40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 29    ...............)
0000ba50: 3B 20 41 3D 22 3C 22 2B 41 2B 22 3E 22 0A 20 20    ;.A="<"+A+">"...
0000ba60: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0000ba70: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0000ba80: 6E 20 24 2E 65 6C 65 6D 65 6E 74 28 74 68 69 73    n.$.element(this
0000ba90: 2E 63 72 65 61 74 65 45 6C 65 6D 65 6E 74 28 41    .createElement(A
0000baa0: 29 29 2E 73 65 74 28 42 29 0A 20 20 20 20 20 20    )).set(B).......
0000bab0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C    ...}...........,
0000bac0: 20 6E 65 77 54 65 78 74 4E 6F 64 65 3A 66 75 6E    .newTextNode:fun
0000bad0: 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20    ction(A).{......
0000bae0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74    ........return.t
0000baf0: 68 69 73 2E 63 72 65 61 74 65 54 65 78 74 4E 6F    his.createTextNo
0000bb00: 64 65 28 41 29 0A 20 20 20 20 20 20 20 20 20 7D    de(A)..........}
0000bb10: 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 67 65 74    ...........,.get
0000bb20: 44 6F 63 75 6D 65 6E 74 3A 66 75 6E 63 74 69 6F    Document:functio
0000bb30: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
0000bb40: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20    ...return.this..
0000bb50: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000bb60: 20 20 20 20 2C 20 67 65 74 57 69 6E 64 6F 77 3A    ....,.getWindow:
0000bb70: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
0000bb80: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0000bb90: 20 74 68 69 73 2E 64 65 66 61 75 6C 74 56 69 65    .this.defaultVie
0000bba0: 77 7C 7C 74 68 69 73 2E 70 61 72 65 6E 74 57 69    w||this.parentWi
0000bbb0: 6E 64 6F 77 0A 20 20 20 20 20 20 20 20 20 7D 0A    ndow..........}.
0000bbc0: 0A 20 20 20 20 20 20 20 20 20 2C 20 70 75 72 67    ..........,.purg
0000bbd0: 65 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    e:function().{..
0000bbe0: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
0000bbf0: 43 3D 74 68 69 73 2E 67 65 74 45 6C 65 6D 65 6E    C=this.getElemen
0000bc00: 74 73 42 79 54 61 67 4E 61 6D 65 28 22 2A 22 29    tsByTagName("*")
0000bc10: 3B 20 66 6F 72 28 76 61 72 20 42 3D 30 2C 20 41    ;.for(var.B=0,.A
0000bc20: 3D 43 2E 6C 65 6E 67 74 68 3B 20 42 3C 41 3B 20    =C.length;.B<A;.
0000bc30: 42 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20    B++).{..........
0000bc40: 20 20 20 20 20 20 20 20 42 72 6F 77 73 65 72 2E    ........Browser.
0000bc50: 66 72 65 65 4D 65 6D 28 43 5B 42 5D 29 0A 20 20    freeMem(C[B])...
0000bc60: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
0000bc70: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
0000bc80: 20 29 3B 0A 0A 20 76 61 72 20 45 6C 65 6D 65 6E    .);...var.Elemen
0000bc90: 74 3D 6E 65 77 20 4E 61 74 69 76 65 28 20 7B 0A    t=new.Native(.{.
0000bca0: 20 20 20 20 20 20 20 20 20 6E 61 6D 65 3A 22 45    .........name:"E
0000bcb0: 6C 65 6D 65 6E 74 22 2C 20 6C 65 67 61 63 79 3A    lement",.legacy:
0000bcc0: 77 69 6E 64 6F 77 2E 45 6C 65 6D 65 6E 74 2C 20    window.Element,.
0000bcd0: 69 6E 69 74 69 61 6C 69 7A 65 3A 66 75 6E 63 74    initialize:funct
0000bce0: 69 6F 6E 28 41 2C 20 42 29 20 7B 0A 20 20 20 20    ion(A,.B).{.....
0000bcf0: 20 20 20 20 20 20 20 20 20 76 61 72 20 43 3D 45    .........var.C=E
0000bd00: 6C 65 6D 65 6E 74 2E 43 6F 6E 73 74 72 75 63 74    lement.Construct
0000bd10: 6F 72 73 2E 67 65 74 28 41 29 3B 20 69 66 28 43    ors.get(A);.if(C
0000bd20: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000bd30: 20 20 20 20 20 72 65 74 75 72 6E 20 43 28 42 29    .....return.C(B)
0000bd40: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000bd50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
0000bd60: 28 74 79 70 65 6F 66 20 41 3D 3D 22 73 74 72 69    (typeof.A=="stri
0000bd70: 6E 67 22 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ng").{..........
0000bd80: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 64    ........return.d
0000bd90: 6F 63 75 6D 65 6E 74 2E 6E 65 77 45 6C 65 6D 65    ocument.newEleme
0000bda0: 6E 74 28 41 2C 20 42 29 0A 20 20 20 20 20 20 20    nt(A,.B)........
0000bdb0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000bdc0: 20 20 20 20 20 20 72 65 74 75 72 6E 20 24 28 41    ......return.$(A
0000bdd0: 29 2E 73 65 74 28 42 29 0A 20 20 20 20 20 20 20    ).set(B)........
0000bde0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
0000bdf0: 61 66 74 65 72 49 6D 70 6C 65 6D 65 6E 74 3A 66    afterImplement:f
0000be00: 75 6E 63 74 69 6F 6E 28 41 2C 20 42 29 20 7B 0A    unction(A,.B).{.
0000be10: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
0000be20: 20 21 41 72 72 61 79 5B 41 5D 29 20 7B 0A 20 20    .!Array[A]).{...
0000be30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 45    ...............E
0000be40: 6C 65 6D 65 6E 74 73 2E 69 6D 70 6C 65 6D 65 6E    lements.implemen
0000be50: 74 28 41 2C 20 45 6C 65 6D 65 6E 74 73 2E 6D 75    t(A,.Elements.mu
0000be60: 6C 74 69 28 41 29 29 0A 20 20 20 20 20 20 20 20    lti(A)).........
0000be70: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000be80: 20 20 20 20 20 45 6C 65 6D 65 6E 74 2E 50 72 6F    .....Element.Pro
0000be90: 74 6F 74 79 70 65 5B 41 5D 3D 42 0A 20 20 20 20    totype[A]=B.....
0000bea0: 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A 20    .....}......}...
0000beb0: 29 3B 0A 0A 20 45 6C 65 6D 65 6E 74 2E 50 72 6F    );...Element.Pro
0000bec0: 74 6F 74 79 70 65 3D 20 7B 0A 20 20 20 20 20 24    totype=.{......$
0000bed0: 66 61 6D 69 6C 79 3A 20 7B 0A 20 20 20 20 20 20    family:.{.......
0000bee0: 20 20 20 6E 61 6D 65 3A 20 22 65 6C 65 6D 65 6E    ...name:."elemen
0000bef0: 74 22 0A 20 20 20 20 20 7D 0A 20 7D 0A 0A 20 3B    t"......}..}...;
0000bf00: 0A 20 45 6C 65 6D 65 6E 74 2E 43 6F 6E 73 74 72    ..Element.Constr
0000bf10: 75 63 74 6F 72 73 3D 6E 65 77 20 48 61 73 68 3B    uctors=new.Hash;
0000bf20: 0A 0A 20 76 61 72 20 49 46 72 61 6D 65 3D 6E 65    ...var.IFrame=ne
0000bf30: 77 20 4E 61 74 69 76 65 28 20 7B 0A 20 20 20 20    w.Native(.{.....
0000bf40: 20 20 20 20 20 6E 61 6D 65 3A 22 49 46 72 61 6D    .....name:"IFram
0000bf50: 65 22 2C 20 67 65 6E 65 72 69 63 73 3A 20 21 31    e",.generics:.!1
0000bf60: 2C 20 69 6E 69 74 69 61 6C 69 7A 65 3A 66 75 6E    ,.initialize:fun
0000bf70: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
0000bf80: 20 20 20 20 20 20 20 76 61 72 20 45 3D 41 72 72    .......var.E=Arr
0000bf90: 61 79 2E 6C 69 6E 6B 28 61 72 67 75 6D 65 6E 74    ay.link(argument
0000bfa0: 73 2C 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    s,.{............
0000bfb0: 20 20 20 20 20 20 20 20 20 20 70 72 6F 70 65 72    ..........proper
0000bfc0: 74 69 65 73 3A 4F 62 6A 65 63 74 2E 74 79 70 65    ties:Object.type
0000bfd0: 2C 20 69 66 72 61 6D 65 3A 24 64 65 66 69 6E 65    ,.iframe:$define
0000bfe0: 64 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    d...............
0000bff0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0000c000: 20 20 20 29 3B 20 76 61 72 20 43 3D 45 2E 70 72    ...);.var.C=E.pr
0000c010: 6F 70 65 72 74 69 65 73 7C 7C 20 7B 7D 0A 0A 20    operties||.{}...
0000c020: 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 76 61    ............;.va
0000c030: 72 20 42 3D 24 28 45 2E 69 66 72 61 6D 65 29 7C    r.B=$(E.iframe)|
0000c040: 7C 20 21 31 3B 20 76 61 72 20 44 3D 43 2E 6F 6E    |.!1;.var.D=C.on
0000c050: 6C 6F 61 64 7C 7C 24 65 6D 70 74 79 3B 20 64 65    load||$empty;.de
0000c060: 6C 65 74 65 20 43 2E 6F 6E 6C 6F 61 64 3B 20 43    lete.C.onload;.C
0000c070: 2E 69 64 3D 43 2E 6E 61 6D 65 3D 24 70 69 63 6B    .id=C.name=$pick
0000c080: 28 43 2E 69 64 2C 20 43 2E 6E 61 6D 65 2C 20 42    (C.id,.C.name,.B
0000c090: 2E 69 64 2C 20 42 2E 6E 61 6D 65 2C 20 22 49 46    .id,.B.name,."IF
0000c0a0: 72 61 6D 65 5F 22 2B 24 74 69 6D 65 28 29 29 3B    rame_"+$time());
0000c0b0: 20 42 3D 6E 65 77 20 45 6C 65 6D 65 6E 74 28 42    .B=new.Element(B
0000c0c0: 7C 7C 22 69 66 72 61 6D 65 22 2C 20 43 29 3B 20    ||"iframe",.C);.
0000c0d0: 76 61 72 20 41 3D 66 75 6E 63 74 69 6F 6E 28 29    var.A=function()
0000c0e0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000c0f0: 20 20 20 20 76 61 72 20 46 3D 24 74 72 79 28 66    ....var.F=$try(f
0000c100: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
0000c110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c120: 20 20 20 20 20 72 65 74 75 72 6E 20 42 2E 63 6F    .....return.B.co
0000c130: 6E 74 65 6E 74 57 69 6E 64 6F 77 2E 6C 6F 63 61    ntentWindow.loca
0000c140: 74 69 6F 6E 2E 68 6F 73 74 0A 20 20 20 20 20 20    tion.host.......
0000c150: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0000c160: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c170: 20 20 20 29 3B 20 69 66 28 46 26 26 46 3D 3D 77    ...);.if(F&&F==w
0000c180: 69 6E 64 6F 77 2E 6C 6F 63 61 74 69 6F 6E 2E 68    indow.location.h
0000c190: 6F 73 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ost).{..........
0000c1a0: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
0000c1b0: 48 3D 6E 65 77 20 57 69 6E 64 6F 77 28 42 2E 63    H=new.Window(B.c
0000c1c0: 6F 6E 74 65 6E 74 57 69 6E 64 6F 77 29 3B 20 76    ontentWindow);.v
0000c1d0: 61 72 20 47 3D 6E 65 77 20 44 6F 63 75 6D 65 6E    ar.G=new.Documen
0000c1e0: 74 28 42 2E 63 6F 6E 74 65 6E 74 57 69 6E 64 6F    t(B.contentWindo
0000c1f0: 77 2E 64 6F 63 75 6D 65 6E 74 29 3B 20 24 65 78    w.document);.$ex
0000c200: 74 65 6E 64 28 48 2E 45 6C 65 6D 65 6E 74 2E 70    tend(H.Element.p
0000c210: 72 6F 74 6F 74 79 70 65 2C 20 45 6C 65 6D 65 6E    rototype,.Elemen
0000c220: 74 2E 50 72 6F 74 6F 74 79 70 65 29 0A 20 20 20    t.Prototype)....
0000c230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000c240: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c250: 20 20 44 2E 63 61 6C 6C 28 42 2E 63 6F 6E 74 65    ..D.call(B.conte
0000c260: 6E 74 57 69 6E 64 6F 77 2C 20 42 2E 63 6F 6E 74    ntWindow,.B.cont
0000c270: 65 6E 74 57 69 6E 64 6F 77 2E 64 6F 63 75 6D 65    entWindow.docume
0000c280: 6E 74 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    nt).............
0000c290: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0000c2a0: 20 3B 20 28 20 21 77 69 6E 64 6F 77 2E 66 72 61    .;.(.!window.fra
0000c2b0: 6D 65 73 5B 43 2E 69 64 5D 29 3F 42 2E 61 64 64    mes[C.id])?B.add
0000c2c0: 4C 69 73 74 65 6E 65 72 28 22 6C 6F 61 64 22 2C    Listener("load",
0000c2d0: 20 41 29 3A 41 28 29 3B 20 72 65 74 75 72 6E 20    .A):A();.return.
0000c2e0: 42 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    B..........}....
0000c2f0: 20 20 7D 0A 0A 20 29 3B 0A 0A 20 76 61 72 20 45    ..}...);...var.E
0000c300: 6C 65 6D 65 6E 74 73 3D 6E 65 77 20 4E 61 74 69    lements=new.Nati
0000c310: 76 65 28 20 7B 0A 20 20 20 20 20 20 20 20 20 69    ve(.{..........i
0000c320: 6E 69 74 69 61 6C 69 7A 65 3A 66 75 6E 63 74 69    nitialize:functi
0000c330: 6F 6E 28 46 2C 20 42 29 20 7B 0A 20 20 20 20 20    on(F,.B).{......
0000c340: 20 20 20 20 20 20 20 20 42 3D 24 65 78 74 65 6E    ........B=$exten
0000c350: 64 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    d(.{............
0000c360: 20 20 20 20 20 20 20 20 20 20 64 64 75 70 3A 20    ..........ddup:.
0000c370: 21 30 2C 20 63 61 73 68 3A 20 21 30 0A 20 20 20    !0,.cash:.!0....
0000c380: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000c390: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c3a0: 20 20 2C 20 42 29 3B 20 46 3D 46 7C 7C 5B 5D 3B    ..,.B);.F=F||[];
0000c3b0: 20 69 66 28 42 2E 64 64 75 70 7C 7C 42 2E 63 61    .if(B.ddup||B.ca
0000c3c0: 73 68 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    sh).{...........
0000c3d0: 20 20 20 20 20 20 20 76 61 72 20 47 3D 20 7B 7D    .......var.G=.{}
0000c3e0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c3f0: 20 20 20 2C 20 45 3D 5B 5D 3B 20 66 6F 72 28 76    ...,.E=[];.for(v
0000c400: 61 72 20 43 3D 30 2C 20 41 3D 46 2E 6C 65 6E 67    ar.C=0,.A=F.leng
0000c410: 74 68 3B 20 43 3C 41 3B 20 43 2B 2B 29 20 7B 0A    th;.C<A;.C++).{.
0000c420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c430: 20 20 20 20 20 76 61 72 20 44 3D 24 2E 65 6C 65    .....var.D=$.ele
0000c440: 6D 65 6E 74 28 46 5B 43 5D 2C 20 20 21 42 2E 63    ment(F[C],..!B.c
0000c450: 61 73 68 29 3B 20 69 66 28 42 2E 64 64 75 70 29    ash);.if(B.ddup)
0000c460: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000c470: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 47    ............if(G
0000c480: 5B 44 2E 75 69 64 5D 29 20 7B 0A 20 20 20 20 20    [D.uid]).{......
0000c490: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c4a0: 20 20 20 20 20 20 20 20 63 6F 6E 74 69 6E 75 65    ........continue
0000c4b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c4c0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0000c4d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c4e0: 20 20 20 20 20 20 47 5B 44 2E 75 69 64 5D 3D 20    ......G[D.uid]=.
0000c4f0: 21 30 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    !0..............
0000c500: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000c510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c520: 45 2E 70 75 73 68 28 44 29 0A 20 20 20 20 20 20    E.push(D).......
0000c530: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0000c540: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 46    ...............F
0000c550: 3D 45 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    =E..............
0000c560: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0000c570: 72 65 74 75 72 6E 28 42 2E 63 61 73 68 29 3F 24    return(B.cash)?$
0000c580: 65 78 74 65 6E 64 28 46 2C 20 74 68 69 73 29 3A    extend(F,.this):
0000c590: 46 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    F..........}....
0000c5a0: 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 6C 65 6D 65    ..}...);...Eleme
0000c5b0: 6E 74 73 2E 69 6D 70 6C 65 6D 65 6E 74 28 20 7B    nts.implement(.{
0000c5c0: 0A 20 20 20 20 20 20 20 20 20 66 69 6C 74 65 72    ..........filter
0000c5d0: 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 42 29 20    :function(A,.B).
0000c5e0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69    {..............i
0000c5f0: 66 28 20 21 41 29 20 7B 0A 20 20 20 20 20 20 20    f(.!A).{........
0000c600: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0000c610: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20    .this...........
0000c620: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0000c630: 20 20 20 72 65 74 75 72 6E 20 6E 65 77 20 45 6C    ...return.new.El
0000c640: 65 6D 65 6E 74 73 28 41 72 72 61 79 2E 66 69 6C    ements(Array.fil
0000c650: 74 65 72 28 74 68 69 73 2C 20 28 74 79 70 65 6F    ter(this,.(typeo
0000c660: 66 20 41 3D 3D 22 73 74 72 69 6E 67 22 29 3F 66    f.A=="string")?f
0000c670: 75 6E 63 74 69 6F 6E 28 43 29 20 7B 0A 20 20 20    unction(C).{....
0000c680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c690: 20 20 20 20 20 20 72 65 74 75 72 6E 20 43 2E 6D    ......return.C.m
0000c6a0: 61 74 63 68 28 41 29 0A 20 20 20 20 20 20 20 20    atch(A).........
0000c6b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0000c6c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000c6d0: 20 20 20 20 20 3A 41 2C 20 42 29 29 0A 20 20 20    .....:A,.B))....
0000c6e0: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
0000c6f0: 20 29 3B 0A 0A 20 45 6C 65 6D 65 6E 74 73 2E 6D    .);...Elements.m
0000c700: 75 6C 74 69 3D 66 75 6E 63 74 69 6F 6E 28 41 29    ulti=function(A)
0000c710: 20 7B 0A 20 20 20 20 20 72 65 74 75 72 6E 20 66    .{......return.f
0000c720: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
0000c730: 20 20 20 20 20 76 61 72 20 42 3D 5B 5D 3B 0A 20    .....var.B=[];..
0000c740: 20 20 20 20 20 20 20 20 76 61 72 20 46 3D 20 21    ........var.F=.!
0000c750: 30 3B 0A 0A 20 20 20 20 20 20 20 20 20 66 6F 72    0;...........for
0000c760: 28 76 61 72 20 44 3D 30 2C 20 43 3D 74 68 69 73    (var.D=0,.C=this
0000c770: 2E 6C 65 6E 67 74 68 3B 20 44 3C 43 3B 20 44 2B    .length;.D<C;.D+
0000c780: 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    +).{............
0000c790: 20 20 76 61 72 20 45 3D 74 68 69 73 5B 44 5D 5B    ..var.E=this[D][
0000c7a0: 41 5D 2E 61 70 70 6C 79 28 74 68 69 73 5B 44 5D    A].apply(this[D]
0000c7b0: 2C 20 61 72 67 75 6D 65 6E 74 73 29 3B 0A 20 20    ,.arguments);...
0000c7c0: 20 20 20 20 20 20 20 20 20 20 20 42 2E 70 75 73    ...........B.pus
0000c7d0: 68 28 45 29 3B 0A 0A 20 20 20 20 20 20 20 20 20    h(E);...........
0000c7e0: 20 20 20 20 69 66 28 46 29 20 7B 0A 20 20 20 20    ....if(F).{.....
0000c7f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 46 3D 28    .............F=(
0000c800: 24 74 79 70 65 28 45 29 3D 3D 22 65 6C 65 6D 65    $type(E)=="eleme
0000c810: 6E 74 22 29 0A 20 20 20 20 20 20 20 20 20 20 20    nt")............
0000c820: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    ..}..........}..
0000c830: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 28    .........return(
0000c840: 46 29 3F 6E 65 77 20 45 6C 65 6D 65 6E 74 73 28    F)?new.Elements(
0000c850: 42 29 3A 42 0A 20 20 20 20 20 7D 0A 20 7D 0A 0A    B):B......}..}..
0000c860: 20 3B 0A 0A 20 57 69 6E 64 6F 77 2E 69 6D 70 6C    .;...Window.impl
0000c870: 65 6D 65 6E 74 28 20 7B 0A 20 20 20 20 20 20 20    ement(.{........
0000c880: 20 20 24 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20    ..$:function(B,.
0000c890: 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    C).{............
0000c8a0: 20 20 69 66 28 42 26 26 42 2E 24 66 61 6D 69 6C    ..if(B&&B.$famil
0000c8b0: 79 26 26 42 2E 75 69 64 29 20 7B 0A 20 20 20 20    y&&B.uid).{.....
0000c8c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000c8d0: 75 72 6E 20 42 0A 20 20 20 20 20 20 20 20 20 20    urn.B...........
0000c8e0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0000c8f0: 20 20 20 76 61 72 20 41 3D 24 74 79 70 65 28 42    ...var.A=$type(B
0000c900: 29 3B 20 72 65 74 75 72 6E 28 24 5B 41 5D 29 3F    );.return($[A])?
0000c910: 24 5B 41 5D 28 42 2C 20 43 2C 20 74 68 69 73 2E    $[A](B,.C,.this.
0000c920: 64 6F 63 75 6D 65 6E 74 29 3A 6E 75 6C 6C 0A 20    document):null..
0000c930: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000c940: 20 20 20 20 2C 20 24 24 3A 66 75 6E 63 74 69 6F    ....,.$$:functio
0000c950: 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(A).{..........
0000c960: 20 20 20 20 69 66 28 61 72 67 75 6D 65 6E 74 73    ....if(arguments
0000c970: 2E 6C 65 6E 67 74 68 3D 3D 31 26 26 74 79 70 65    .length==1&&type
0000c980: 6F 66 20 41 3D 3D 22 73 74 72 69 6E 67 22 29 20    of.A=="string").
0000c990: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0000c9a0: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 64    ...return.this.d
0000c9b0: 6F 63 75 6D 65 6E 74 2E 67 65 74 45 6C 65 6D 65    ocument.getEleme
0000c9c0: 6E 74 73 28 41 29 0A 20 20 20 20 20 20 20 20 20    nts(A)..........
0000c9d0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0000c9e0: 20 20 20 20 76 61 72 20 46 3D 5B 5D 3B 20 76 61    ....var.F=[];.va
0000c9f0: 72 20 43 3D 41 72 72 61 79 2E 66 6C 61 74 74 65    r.C=Array.flatte
0000ca00: 6E 28 61 72 67 75 6D 65 6E 74 73 29 3B 20 66 6F    n(arguments);.fo
0000ca10: 72 28 76 61 72 20 44 3D 30 2C 20 42 3D 43 2E 6C    r(var.D=0,.B=C.l
0000ca20: 65 6E 67 74 68 3B 20 44 3C 42 3B 20 44 2B 2B 29    ength;.D<B;.D++)
0000ca30: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000ca40: 20 20 20 20 76 61 72 20 45 3D 43 5B 44 5D 3B 20    ....var.E=C[D];.
0000ca50: 73 77 69 74 63 68 28 24 74 79 70 65 28 45 29 29    switch($type(E))
0000ca60: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000ca70: 20 20 20 20 20 20 20 20 63 61 73 65 20 22 65 6C    ........case."el
0000ca80: 65 6D 65 6E 74 22 3A 45 3D 5B 45 5D 3B 20 62 72    ement":E=[E];.br
0000ca90: 65 61 6B 3B 20 63 61 73 65 20 22 73 74 72 69 6E    eak;.case."strin
0000caa0: 67 22 3A 45 3D 74 68 69 73 2E 64 6F 63 75 6D 65    g":E=this.docume
0000cab0: 6E 74 2E 67 65 74 45 6C 65 6D 65 6E 74 73 28 45    nt.getElements(E
0000cac0: 2C 20 20 21 30 29 3B 20 62 72 65 61 6B 3B 20 64    ,..!0);.break;.d
0000cad0: 65 66 61 75 6C 74 3A 45 3D 20 21 31 0A 20 20 20    efault:E=.!1....
0000cae0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000caf0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000cb00: 20 20 69 66 28 45 29 20 7B 0A 20 20 20 20 20 20    ..if(E).{.......
0000cb10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 46    ...............F
0000cb20: 2E 65 78 74 65 6E 64 28 45 29 0A 20 20 20 20 20    .extend(E)......
0000cb30: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
0000cb40: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0000cb50: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0000cb60: 6E 20 6E 65 77 20 45 6C 65 6D 65 6E 74 73 28 46    n.new.Elements(F
0000cb70: 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    )..........}....
0000cb80: 20 20 20 20 20 20 20 2C 20 67 65 74 44 6F 63 75    .......,.getDocu
0000cb90: 6D 65 6E 74 3A 66 75 6E 63 74 69 6F 6E 28 29 20    ment:function().
0000cba0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    {..............r
0000cbb0: 65 74 75 72 6E 20 74 68 69 73 2E 64 6F 63 75 6D    eturn.this.docum
0000cbc0: 65 6E 74 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    ent..........}..
0000cbd0: 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 57 69    .........,.getWi
0000cbe0: 6E 64 6F 77 3A 66 75 6E 63 74 69 6F 6E 28 29 20    ndow:function().
0000cbf0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    {..............r
0000cc00: 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20    eturn.this......
0000cc10: 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A 20 29    ....}......}...)
0000cc20: 3B 0A 0A 20 24 2E 73 74 72 69 6E 67 3D 66 75 6E    ;...$.string=fun
0000cc30: 63 74 69 6F 6E 28 43 2C 20 42 2C 20 41 29 20 7B    ction(C,.B,.A).{
0000cc40: 0A 20 20 20 20 20 43 3D 41 2E 67 65 74 45 6C 65    ......C=A.getEle
0000cc50: 6D 65 6E 74 42 79 49 64 28 43 29 3B 0A 20 20 20    mentById(C);....
0000cc60: 20 20 72 65 74 75 72 6E 28 43 29 3F 24 2E 65 6C    ..return(C)?$.el
0000cc70: 65 6D 65 6E 74 28 43 2C 20 42 29 3A 20 6E 75 6C    ement(C,.B):.nul
0000cc80: 6C 0A 20 7D 0A 0A 20 3B 0A 0A 20 24 2E 65 6C 65    l..}...;...$.ele
0000cc90: 6D 65 6E 74 3D 66 75 6E 63 74 69 6F 6E 28 41 2C    ment=function(A,
0000cca0: 20 44 29 20 7B 0A 20 20 20 20 20 24 75 69 64 28    .D).{......$uid(
0000ccb0: 41 29 3B 0A 0A 20 20 20 20 20 69 66 28 20 21 44    A);.......if(.!D
0000ccc0: 26 26 20 21 41 2E 24 66 61 6D 69 6C 79 26 26 20    &&.!A.$family&&.
0000ccd0: 21 28 2F 5E 6F 62 6A 65 63 74 7C 65 6D 62 65 64    !(/^object|embed
0000cce0: 24 2F 69 29 2E 74 65 73 74 28 41 2E 74 61 67 4E    $/i).test(A.tagN
0000ccf0: 61 6D 65 29 29 20 7B 0A 20 20 20 20 20 20 20 20    ame)).{.........
0000cd00: 20 76 61 72 20 42 3D 45 6C 65 6D 65 6E 74 2E 50    .var.B=Element.P
0000cd10: 72 6F 74 6F 74 79 70 65 3B 0A 0A 20 20 20 20 20    rototype;.......
0000cd20: 20 20 20 20 66 6F 72 28 76 61 72 20 43 20 69 6E    ....for(var.C.in
0000cd30: 20 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .B).{...........
0000cd40: 20 20 20 41 5B 43 5D 3D 42 5B 43 5D 0A 20 20 20    ...A[C]=B[C]....
0000cd50: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
0000cd60: 20 20 20 20 20 72 65 74 75 72 6E 20 41 0A 20 7D    .....return.A..}
0000cd70: 0A 0A 20 3B 0A 0A 20 24 2E 6F 62 6A 65 63 74 3D    ...;...$.object=
0000cd80: 66 75 6E 63 74 69 6F 6E 28 42 2C 20 43 2C 20 41    function(B,.C,.A
0000cd90: 29 20 7B 0A 20 20 20 20 20 69 66 28 42 2E 74 6F    ).{......if(B.to
0000cda0: 45 6C 65 6D 65 6E 74 29 20 7B 0A 20 20 20 20 20    Element).{......
0000cdb0: 20 20 20 20 72 65 74 75 72 6E 20 24 2E 65 6C 65    ....return.$.ele
0000cdc0: 6D 65 6E 74 28 42 2E 74 6F 45 6C 65 6D 65 6E 74    ment(B.toElement
0000cdd0: 28 41 29 2C 20 43 29 0A 20 20 20 20 20 7D 0A 0A    (A),.C)......}..
0000cde0: 20 20 20 20 20 72 65 74 75 72 6E 20 6E 75 6C 6C    .....return.null
0000cdf0: 0A 20 7D 0A 0A 20 3B 0A 20 24 2E 74 65 78 74 6E    ..}...;..$.textn
0000ce00: 6F 64 65 3D 24 2E 77 68 69 74 65 73 70 61 63 65    ode=$.whitespace
0000ce10: 3D 24 2E 77 69 6E 64 6F 77 3D 24 2E 64 6F 63 75    =$.window=$.docu
0000ce20: 6D 65 6E 74 3D 24 61 72 67 75 6D 65 6E 74 73 28    ment=$arguments(
0000ce30: 30 29 3B 0A 0A 20 4E 61 74 69 76 65 2E 69 6D 70    0);...Native.imp
0000ce40: 6C 65 6D 65 6E 74 28 5B 45 6C 65 6D 65 6E 74 2C    lement([Element,
0000ce50: 20 44 6F 63 75 6D 65 6E 74 5D 2C 20 7B 0A 20 20    .Document],.{...
0000ce60: 20 20 20 20 20 20 20 67 65 74 45 6C 65 6D 65 6E    .......getElemen
0000ce70: 74 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 42 29    t:function(A,.B)
0000ce80: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000ce90: 72 65 74 75 72 6E 20 24 28 74 68 69 73 2E 67 65    return.$(this.ge
0000cea0: 74 45 6C 65 6D 65 6E 74 73 28 41 2C 20 20 21 30    tElements(A,..!0
0000ceb0: 29 5B 30 5D 7C 7C 6E 75 6C 6C 2C 20 42 29 0A 20    )[0]||null,.B)..
0000cec0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000ced0: 20 20 20 20 2C 20 67 65 74 45 6C 65 6D 65 6E 74    ....,.getElement
0000cee0: 73 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 44 29    s:function(A,.D)
0000cef0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000cf00: 41 3D 41 2E 73 70 6C 69 74 28 22 2C 22 29 3B 20    A=A.split(",");.
0000cf10: 76 61 72 20 43 3D 5B 5D 3B 20 76 61 72 20 42 3D    var.C=[];.var.B=
0000cf20: 28 41 2E 6C 65 6E 67 74 68 3E 31 29 3B 20 41 2E    (A.length>1);.A.
0000cf30: 65 61 63 68 28 66 75 6E 63 74 69 6F 6E 28 45 29    each(function(E)
0000cf40: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000cf50: 20 20 20 20 20 20 20 20 76 61 72 20 46 3D 74 68    ........var.F=th
0000cf60: 69 73 2E 67 65 74 45 6C 65 6D 65 6E 74 73 42 79    is.getElementsBy
0000cf70: 54 61 67 4E 61 6D 65 28 45 2E 74 72 69 6D 28 29    TagName(E.trim()
0000cf80: 29 3B 20 28 42 29 3F 43 2E 65 78 74 65 6E 64 28    );.(B)?C.extend(
0000cf90: 46 29 3A 43 3D 46 0A 20 20 20 20 20 20 20 20 20    F):C=F..........
0000cfa0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000cfb0: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 74 68    ............,.th
0000cfc0: 69 73 29 3B 20 72 65 74 75 72 6E 20 6E 65 77 20    is);.return.new.
0000cfd0: 45 6C 65 6D 65 6E 74 73 28 43 2C 20 7B 0A 20 20    Elements(C,.{...
0000cfe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000cff0: 20 20 20 64 64 75 70 3A 42 2C 20 63 61 73 68 3A    ...ddup:B,.cash:
0000d000: 20 21 44 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!D.............
0000d010: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000d020: 20 20 20 20 20 29 0A 20 20 20 20 20 20 20 20 20    .....)..........
0000d030: 7D 0A 20 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20    }......}...);...
0000d040: 45 6C 65 6D 65 6E 74 2E 53 74 6F 72 61 67 65 3D    Element.Storage=
0000d050: 20 7B 0A 20 20 20 20 20 67 65 74 3A 66 75 6E 63    .{......get:func
0000d060: 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20    tion(A).{.......
0000d070: 20 20 20 72 65 74 75 72 6E 28 74 68 69 73 5B 41    ...return(this[A
0000d080: 5D 7C 7C 28 74 68 69 73 5B 41 5D 3D 20 7B 7D 0A    ]||(this[A]=.{}.
0000d090: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 29 29    ..............))
0000d0a0: 0A 20 20 20 20 20 7D 0A 20 7D 0A 0A 20 3B 0A 0A    ......}..}...;..
0000d0b0: 20 45 6C 65 6D 65 6E 74 2E 49 6E 73 65 72 74 65    .Element.Inserte
0000d0c0: 72 73 3D 6E 65 77 20 48 61 73 68 28 20 7B 0A 20    rs=new.Hash(.{..
0000d0d0: 20 20 20 20 20 20 20 20 62 65 66 6F 72 65 3A 66    ........before:f
0000d0e0: 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A    unction(B,.A).{.
0000d0f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
0000d100: 41 2E 70 61 72 65 6E 74 4E 6F 64 65 29 20 7B 0A    A.parentNode).{.
0000d110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000d120: 20 41 2E 70 61 72 65 6E 74 4E 6F 64 65 2E 69 6E    .A.parentNode.in
0000d130: 73 65 72 74 42 65 66 6F 72 65 28 42 2C 20 41 29    sertBefore(B,.A)
0000d140: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000d150: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000d160: 20 20 20 20 20 2C 20 61 66 74 65 72 3A 66 75 6E    .....,.after:fun
0000d170: 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A 20 20    ction(B,.A).{...
0000d180: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 20 21    ...........if(.!
0000d190: 41 2E 70 61 72 65 6E 74 4E 6F 64 65 29 20 7B 0A    A.parentNode).{.
0000d1a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000d1b0: 20 72 65 74 75 72 6E 0A 20 20 20 20 20 20 20 20    .return.........
0000d1c0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000d1d0: 20 20 20 20 20 76 61 72 20 43 3D 41 2E 6E 65 78    .....var.C=A.nex
0000d1e0: 74 53 69 62 6C 69 6E 67 3B 20 28 43 29 3F 41 2E    tSibling;.(C)?A.
0000d1f0: 70 61 72 65 6E 74 4E 6F 64 65 2E 69 6E 73 65 72    parentNode.inser
0000d200: 74 42 65 66 6F 72 65 28 42 2C 20 43 29 3A 41 2E    tBefore(B,.C):A.
0000d210: 70 61 72 65 6E 74 4E 6F 64 65 2E 61 70 70 65 6E    parentNode.appen
0000d220: 64 43 68 69 6C 64 28 42 29 0A 20 20 20 20 20 20    dChild(B).......
0000d230: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C    ...}...........,
0000d240: 20 62 6F 74 74 6F 6D 3A 66 75 6E 63 74 69 6F 6E    .bottom:function
0000d250: 28 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20    (B,.A).{........
0000d260: 20 20 20 20 20 20 41 2E 61 70 70 65 6E 64 43 68    ......A.appendCh
0000d270: 69 6C 64 28 42 29 0A 20 20 20 20 20 20 20 20 20    ild(B)..........
0000d280: 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 74 6F    }...........,.to
0000d290: 70 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29    p:function(B,.A)
0000d2a0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000d2b0: 76 61 72 20 43 3D 41 2E 66 69 72 73 74 43 68 69    var.C=A.firstChi
0000d2c0: 6C 64 3B 20 28 43 29 3F 41 2E 69 6E 73 65 72 74    ld;.(C)?A.insert
0000d2d0: 42 65 66 6F 72 65 28 42 2C 20 43 29 3A 41 2E 61    Before(B,.C):A.a
0000d2e0: 70 70 65 6E 64 43 68 69 6C 64 28 42 29 0A 20 20    ppendChild(B)...
0000d2f0: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A    .......}......}.
0000d300: 0A 20 29 3B 0A 20 45 6C 65 6D 65 6E 74 2E 49 6E    ..);..Element.In
0000d310: 73 65 72 74 65 72 73 2E 69 6E 73 69 64 65 3D 45    serters.inside=E
0000d320: 6C 65 6D 65 6E 74 2E 49 6E 73 65 72 74 65 72 73    lement.Inserters
0000d330: 2E 62 6F 74 74 6F 6D 3B 0A 0A 20 45 6C 65 6D 65    .bottom;...Eleme
0000d340: 6E 74 2E 49 6E 73 65 72 74 65 72 73 2E 65 61 63    nt.Inserters.eac
0000d350: 68 28 66 75 6E 63 74 69 6F 6E 28 43 2C 20 42 29    h(function(C,.B)
0000d360: 20 7B 0A 20 20 20 20 20 20 20 20 20 76 61 72 20    .{..........var.
0000d370: 41 3D 42 2E 63 61 70 69 74 61 6C 69 7A 65 28 29    A=B.capitalize()
0000d380: 3B 20 45 6C 65 6D 65 6E 74 2E 69 6D 70 6C 65 6D    ;.Element.implem
0000d390: 65 6E 74 28 22 69 6E 6A 65 63 74 22 2B 41 2C 20    ent("inject"+A,.
0000d3a0: 66 75 6E 63 74 69 6F 6E 28 44 29 20 7B 0A 20 20    function(D).{...
0000d3b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 43    ...............C
0000d3c0: 28 74 68 69 73 2C 20 24 28 44 2C 20 20 21 30 29    (this,.$(D,..!0)
0000d3d0: 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20    );.return.this..
0000d3e0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0000d3f0: 20 20 20 20 20 20 20 20 29 3B 20 45 6C 65 6D 65    ........);.Eleme
0000d400: 6E 74 2E 69 6D 70 6C 65 6D 65 6E 74 28 22 67 72    nt.implement("gr
0000d410: 61 62 22 2B 41 2C 20 66 75 6E 63 74 69 6F 6E 28    ab"+A,.function(
0000d420: 44 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    D).{............
0000d430: 20 20 20 20 20 20 43 28 24 28 44 2C 20 20 21 30    ......C($(D,..!0
0000d440: 29 2C 20 74 68 69 73 29 3B 20 72 65 74 75 72 6E    ),.this);.return
0000d450: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20    .this...........
0000d460: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 29    ...}...........)
0000d470: 0A 20 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45    ......}...);...E
0000d480: 6C 65 6D 65 6E 74 2E 69 6D 70 6C 65 6D 65 6E 74    lement.implement
0000d490: 28 20 7B 0A 20 20 20 20 20 20 20 20 20 67 65 74    (.{..........get
0000d4a0: 44 6F 63 75 6D 65 6E 74 3A 66 75 6E 63 74 69 6F    Document:functio
0000d4b0: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
0000d4c0: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 6F    ...return.this.o
0000d4d0: 77 6E 65 72 44 6F 63 75 6D 65 6E 74 0A 20 20 20    wnerDocument....
0000d4e0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000d4f0: 20 20 2C 20 67 65 74 57 69 6E 64 6F 77 3A 66 75    ..,.getWindow:fu
0000d500: 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20    nction().{......
0000d510: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74    ........return.t
0000d520: 68 69 73 2E 6F 77 6E 65 72 44 6F 63 75 6D 65 6E    his.ownerDocumen
0000d530: 74 2E 67 65 74 57 69 6E 64 6F 77 28 29 0A 20 20    t.getWindow()...
0000d540: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0000d550: 20 20 20 2C 20 67 65 74 45 6C 65 6D 65 6E 74 42    ...,.getElementB
0000d560: 79 49 64 3A 66 75 6E 63 74 69 6F 6E 28 44 2C 20    yId:function(D,.
0000d570: 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    C).{............
0000d580: 20 20 76 61 72 20 42 3D 74 68 69 73 2E 6F 77 6E    ..var.B=this.own
0000d590: 65 72 44 6F 63 75 6D 65 6E 74 2E 67 65 74 45 6C    erDocument.getEl
0000d5a0: 65 6D 65 6E 74 42 79 49 64 28 44 29 3B 20 69 66    ementById(D);.if
0000d5b0: 28 20 21 42 29 20 7B 0A 20 20 20 20 20 20 20 20    (.!B).{.........
0000d5c0: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
0000d5d0: 6E 75 6C 6C 0A 20 20 20 20 20 20 20 20 20 20 20    null............
0000d5e0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000d5f0: 20 20 66 6F 72 28 76 61 72 20 41 3D 42 2E 70 61    ..for(var.A=B.pa
0000d600: 72 65 6E 74 4E 6F 64 65 3B 20 41 20 21 3D 74 68    rentNode;.A.!=th
0000d610: 69 73 3B 20 41 3D 41 2E 70 61 72 65 6E 74 4E 6F    is;.A=A.parentNo
0000d620: 64 65 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    de).{...........
0000d630: 20 20 20 20 20 20 20 69 66 28 20 21 41 29 20 7B    .......if(.!A).{
0000d640: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000d650: 20 20 20 20 20 20 72 65 74 75 72 6E 20 6E 75 6C    ......return.nul
0000d660: 6C 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    l...............
0000d670: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20    ...}............
0000d680: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000d690: 20 20 72 65 74 75 72 6E 20 24 2E 65 6C 65 6D 65    ..return.$.eleme
0000d6a0: 6E 74 28 42 2C 20 43 29 0A 20 20 20 20 20 20 20    nt(B,.C)........
0000d6b0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
0000d6c0: 73 65 74 3A 66 75 6E 63 74 69 6F 6E 28 44 2C 20    set:function(D,.
0000d6d0: 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    B).{............
0000d6e0: 20 20 73 77 69 74 63 68 28 24 74 79 70 65 28 44    ..switch($type(D
0000d6f0: 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    )).{............
0000d700: 20 20 20 20 20 20 63 61 73 65 20 22 6F 62 6A 65    ......case."obje
0000d710: 63 74 22 3A 66 6F 72 28 76 61 72 20 43 20 69 6E    ct":for(var.C.in
0000d720: 20 44 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .D).{...........
0000d730: 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
0000d740: 73 65 74 28 43 2C 20 44 5B 43 5D 29 0A 20 20 20    set(C,.D[C])....
0000d750: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000d760: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000d770: 20 20 62 72 65 61 6B 3B 20 63 61 73 65 20 22 73    ..break;.case."s
0000d780: 74 72 69 6E 67 22 3A 76 61 72 20 41 3D 45 6C 65    tring":var.A=Ele
0000d790: 6D 65 6E 74 2E 50 72 6F 70 65 72 74 69 65 73 2E    ment.Properties.
0000d7a0: 67 65 74 28 44 29 3B 20 28 41 26 26 41 2E 73 65    get(D);.(A&&A.se
0000d7b0: 74 29 3F 41 2E 73 65 74 2E 61 70 70 6C 79 28 74    t)?A.set.apply(t
0000d7c0: 68 69 73 2C 20 41 72 72 61 79 2E 73 6C 69 63 65    his,.Array.slice
0000d7d0: 28 61 72 67 75 6D 65 6E 74 73 2C 20 31 29 29 3A    (arguments,.1)):
0000d7e0: 74 68 69 73 2E 73 65 74 50 72 6F 70 65 72 74 79    this.setProperty
0000d7f0: 28 44 2C 20 42 29 0A 20 20 20 20 20 20 20 20 20    (D,.B)..........
0000d800: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0000d810: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A    ....return.this.
0000d820: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000d830: 20 20 20 20 20 2C 20 67 65 74 3A 66 75 6E 63 74    .....,.get:funct
0000d840: 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20 20 20    ion(B).{........
0000d850: 20 20 20 20 20 20 76 61 72 20 41 3D 45 6C 65 6D    ......var.A=Elem
0000d860: 65 6E 74 2E 50 72 6F 70 65 72 74 69 65 73 2E 67    ent.Properties.g
0000d870: 65 74 28 42 29 3B 20 72 65 74 75 72 6E 28 41 26    et(B);.return(A&
0000d880: 26 41 2E 67 65 74 29 3F 41 2E 67 65 74 2E 61 70    &A.get)?A.get.ap
0000d890: 70 6C 79 28 74 68 69 73 2C 20 41 72 72 61 79 2E    ply(this,.Array.
0000d8a0: 73 6C 69 63 65 28 61 72 67 75 6D 65 6E 74 73 2C    slice(arguments,
0000d8b0: 20 31 29 29 3A 74 68 69 73 2E 67 65 74 50 72 6F    .1)):this.getPro
0000d8c0: 70 65 72 74 79 28 42 29 0A 20 20 20 20 20 20 20    perty(B)........
0000d8d0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
0000d8e0: 65 72 61 73 65 3A 66 75 6E 63 74 69 6F 6E 28 42    erase:function(B
0000d8f0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000d900: 20 76 61 72 20 41 3D 45 6C 65 6D 65 6E 74 2E 50    .var.A=Element.P
0000d910: 72 6F 70 65 72 74 69 65 73 2E 67 65 74 28 42 29    roperties.get(B)
0000d920: 3B 20 28 41 26 26 41 2E 65 72 61 73 65 29 3F 41    ;.(A&&A.erase)?A
0000d930: 2E 65 72 61 73 65 2E 61 70 70 6C 79 28 74 68 69    .erase.apply(thi
0000d940: 73 2C 20 41 72 72 61 79 2E 73 6C 69 63 65 28 61    s,.Array.slice(a
0000d950: 72 67 75 6D 65 6E 74 73 2C 20 31 29 29 3A 74 68    rguments,.1)):th
0000d960: 69 73 2E 72 65 6D 6F 76 65 50 72 6F 70 65 72 74    is.removePropert
0000d970: 79 28 42 29 3B 20 72 65 74 75 72 6E 20 74 68 69    y(B);.return.thi
0000d980: 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    s..........}....
0000d990: 20 20 20 20 20 20 20 2C 20 6D 61 74 63 68 3A 66    .......,.match:f
0000d9a0: 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20    unction(A).{....
0000d9b0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0000d9c0: 28 20 21 41 7C 7C 45 6C 65 6D 65 6E 74 2E 67 65    (.!A||Element.ge
0000d9d0: 74 28 74 68 69 73 2C 20 22 74 61 67 22 29 3D 3D    t(this,."tag")==
0000d9e0: 41 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    A)..........}...
0000d9f0: 20 20 20 20 20 20 20 20 2C 20 69 6E 6A 65 63 74    ........,.inject
0000da00: 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20    :function(B,.A).
0000da10: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 45    {..............E
0000da20: 6C 65 6D 65 6E 74 2E 49 6E 73 65 72 74 65 72 73    lement.Inserters
0000da30: 2E 67 65 74 28 41 7C 7C 22 62 6F 74 74 6F 6D 22    .get(A||"bottom"
0000da40: 29 28 74 68 69 73 2C 20 24 28 42 2C 20 20 21 30    )(this,.$(B,..!0
0000da50: 29 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73 0A    ));.return.this.
0000da60: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000da70: 20 20 20 20 20 2C 20 77 72 61 70 73 3A 66 75 6E    .....,.wraps:fun
0000da80: 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A 20 20    ction(B,.A).{...
0000da90: 20 20 20 20 20 20 20 20 20 20 20 42 3D 24 28 42    ...........B=$(B
0000daa0: 2C 20 20 21 30 29 3B 20 72 65 74 75 72 6E 20 74    ,..!0);.return.t
0000dab0: 68 69 73 2E 72 65 70 6C 61 63 65 73 28 42 29 2E    his.replaces(B).
0000dac0: 67 72 61 62 28 42 2C 20 41 29 0A 20 20 20 20 20    grab(B,.A)......
0000dad0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0000dae0: 2C 20 67 72 61 62 3A 66 75 6E 63 74 69 6F 6E 28    ,.grab:function(
0000daf0: 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20    B,.A).{.........
0000db00: 20 20 20 20 20 45 6C 65 6D 65 6E 74 2E 49 6E 73    .....Element.Ins
0000db10: 65 72 74 65 72 73 2E 67 65 74 28 41 7C 7C 22 62    erters.get(A||"b
0000db20: 6F 74 74 6F 6D 22 29 28 24 28 42 2C 20 20 21 30    ottom")($(B,..!0
0000db30: 29 2C 20 74 68 69 73 29 3B 20 72 65 74 75 72 6E    ),.this);.return
0000db40: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 7D    .this..........}
0000db50: 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 61 70 70    ...........,.app
0000db60: 65 6E 64 54 65 78 74 3A 66 75 6E 63 74 69 6F 6E    endText:function
0000db70: 28 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20    (B,.A).{........
0000db80: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
0000db90: 73 2E 67 72 61 62 28 74 68 69 73 2E 67 65 74 44    s.grab(this.getD
0000dba0: 6F 63 75 6D 65 6E 74 28 29 2E 6E 65 77 54 65 78    ocument().newTex
0000dbb0: 74 4E 6F 64 65 28 42 29 2C 20 41 29 0A 20 20 20    tNode(B),.A)....
0000dbc0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000dbd0: 20 20 2C 20 61 64 6F 70 74 3A 66 75 6E 63 74 69    ..,.adopt:functi
0000dbe0: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
0000dbf0: 20 20 20 20 41 72 72 61 79 2E 66 6C 61 74 74 65    ....Array.flatte
0000dc00: 6E 28 61 72 67 75 6D 65 6E 74 73 29 2E 65 61 63    n(arguments).eac
0000dc10: 68 28 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    h(function(A).{.
0000dc20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000dc30: 20 20 20 20 20 41 3D 24 28 41 2C 20 20 21 30 29    .....A=$(A,..!0)
0000dc40: 3B 20 69 66 28 41 29 20 7B 0A 20 20 20 20 20 20    ;.if(A).{.......
0000dc50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000dc60: 20 20 20 74 68 69 73 2E 61 70 70 65 6E 64 43 68    ...this.appendCh
0000dc70: 69 6C 64 28 41 29 0A 20 20 20 20 20 20 20 20 20    ild(A)..........
0000dc80: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
0000dc90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0000dca0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000dcb0: 20 20 20 2C 20 74 68 69 73 29 3B 20 72 65 74 75    ...,.this);.retu
0000dcc0: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
0000dcd0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 64    .}...........,.d
0000dce0: 69 73 70 6F 73 65 3A 66 75 6E 63 74 69 6F 6E 28    ispose:function(
0000dcf0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000dd00: 20 72 65 74 75 72 6E 28 74 68 69 73 2E 70 61 72    .return(this.par
0000dd10: 65 6E 74 4E 6F 64 65 29 3F 74 68 69 73 2E 70 61    entNode)?this.pa
0000dd20: 72 65 6E 74 4E 6F 64 65 2E 72 65 6D 6F 76 65 43    rentNode.removeC
0000dd30: 68 69 6C 64 28 74 68 69 73 29 3A 74 68 69 73 0A    hild(this):this.
0000dd40: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000dd50: 20 20 20 20 20 2C 20 63 6C 6F 6E 65 3A 66 75 6E    .....,.clone:fun
0000dd60: 63 74 69 6F 6E 28 44 2C 20 43 29 20 7B 0A 20 20    ction(D,.C).{...
0000dd70: 20 20 20 20 20 20 20 20 20 20 20 73 77 69 74 63    ...........switc
0000dd80: 68 28 24 74 79 70 65 28 74 68 69 73 29 29 20 7B    h($type(this)).{
0000dd90: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000dda0: 20 20 63 61 73 65 20 22 65 6C 65 6D 65 6E 74 22    ..case."element"
0000ddb0: 3A 76 61 72 20 48 3D 20 7B 7D 0A 0A 20 20 20 20    :var.H=.{}......
0000ddc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 66    .............;.f
0000ddd0: 6F 72 28 76 61 72 20 47 3D 30 2C 20 45 3D 74 68    or(var.G=0,.E=th
0000dde0: 69 73 2E 61 74 74 72 69 62 75 74 65 73 2E 6C 65    is.attributes.le
0000ddf0: 6E 67 74 68 3B 20 47 3C 45 3B 20 47 2B 2B 29 20    ngth;.G<E;.G++).
0000de00: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0000de10: 20 20 20 20 20 20 20 76 61 72 20 42 3D 74 68 69    .......var.B=thi
0000de20: 73 2E 61 74 74 72 69 62 75 74 65 73 5B 47 5D 2C    s.attributes[G],
0000de30: 20 4C 3D 42 2E 6E 6F 64 65 4E 61 6D 65 2E 74 6F    .L=B.nodeName.to
0000de40: 4C 6F 77 65 72 43 61 73 65 28 29 3B 20 69 66 28    LowerCase();.if(
0000de50: 42 72 6F 77 73 65 72 2E 45 6E 67 69 6E 65 2E 74    Browser.Engine.t
0000de60: 72 69 64 65 6E 74 26 26 28 2F 69 6E 70 75 74 2F    rident&&(/input/
0000de70: 69 29 2E 74 65 73 74 28 74 68 69 73 2E 74 61 67    i).test(this.tag
0000de80: 4E 61 6D 65 29 26 26 28 2F 77 69 64 74 68 7C 68    Name)&&(/width|h
0000de90: 65 69 67 68 74 2F 29 2E 74 65 73 74 28 4C 29 29    eight/).test(L))
0000dea0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000deb0: 20 20 20 20 20 20 20 20 20 20 20 20 63 6F 6E 74    ............cont
0000dec0: 69 6E 75 65 0A 20 20 20 20 20 20 20 20 20 20 20    inue............
0000ded0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0000dee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000def0: 20 20 76 61 72 20 4B 3D 28 4C 3D 3D 22 73 74 79    ..var.K=(L=="sty
0000df00: 6C 65 22 26 26 74 68 69 73 2E 73 74 79 6C 65 29    le"&&this.style)
0000df10: 3F 74 68 69 73 2E 73 74 79 6C 65 2E 63 73 73 54    ?this.style.cssT
0000df20: 65 78 74 3A 42 2E 6E 6F 64 65 56 61 6C 75 65 3B    ext:B.nodeValue;
0000df30: 20 69 66 28 20 21 24 63 68 6B 28 4B 29 7C 7C 4C    .if(.!$chk(K)||L
0000df40: 3D 3D 22 75 69 64 22 7C 7C 28 4C 3D 3D 22 69 64    =="uid"||(L=="id
0000df50: 22 26 26 20 21 43 29 29 20 7B 0A 20 20 20 20 20    "&&.!C)).{......
0000df60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000df70: 20 20 20 20 63 6F 6E 74 69 6E 75 65 0A 20 20 20    ....continue....
0000df80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000df90: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000dfa0: 20 20 20 20 20 20 20 20 20 20 69 66 28 4B 20 21    ..........if(K.!
0000dfb0: 3D 22 69 6E 68 65 72 69 74 22 26 26 5B 22 73 74    ="inherit"&&["st
0000dfc0: 72 69 6E 67 22 2C 20 22 6E 75 6D 62 65 72 22 5D    ring",."number"]
0000dfd0: 2E 63 6F 6E 74 61 69 6E 73 28 24 74 79 70 65 28    .contains($type(
0000dfe0: 4B 29 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20    K))).{..........
0000dff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e000: 48 5B 4C 5D 3D 4B 0A 20 20 20 20 20 20 20 20 20    H[L]=K..........
0000e010: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
0000e020: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0000e030: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e040: 20 20 20 76 61 72 20 4A 3D 6E 65 77 20 45 6C 65    ...var.J=new.Ele
0000e050: 6D 65 6E 74 28 74 68 69 73 2E 6E 6F 64 65 4E 61    ment(this.nodeNa
0000e060: 6D 65 2E 74 6F 4C 6F 77 65 72 43 61 73 65 28 29    me.toLowerCase()
0000e070: 2C 20 48 29 3B 20 69 66 28 44 20 21 3D 3D 20 21    ,.H);.if(D.!==.!
0000e080: 31 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    1).{............
0000e090: 20 20 20 20 20 20 20 20 20 20 66 6F 72 28 76 61    ..........for(va
0000e0a0: 72 20 49 3D 30 2C 20 46 3D 74 68 69 73 2E 63 68    r.I=0,.F=this.ch
0000e0b0: 69 6C 64 4E 6F 64 65 73 2E 6C 65 6E 67 74 68 3B    ildNodes.length;
0000e0c0: 20 49 3C 46 3B 20 49 2B 2B 29 20 7B 0A 20 20 20    .I<F;.I++).{....
0000e0d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e0e0: 20 20 20 20 20 20 76 61 72 20 41 3D 45 6C 65 6D    ......var.A=Elem
0000e0f0: 65 6E 74 2E 63 6C 6F 6E 65 28 74 68 69 73 2E 63    ent.clone(this.c
0000e100: 68 69 6C 64 4E 6F 64 65 73 5B 49 5D 2C 20 20 21    hildNodes[I],..!
0000e110: 30 2C 20 43 29 3B 20 69 66 28 41 29 20 7B 0A 20    0,.C);.if(A).{..
0000e120: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e130: 20 20 20 20 20 20 20 20 20 20 20 20 4A 2E 67 72    ............J.gr
0000e140: 61 62 28 41 29 0A 20 20 20 20 20 20 20 20 20 20    ab(A)...........
0000e150: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0000e160: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e170: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
0000e180: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000e190: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000e1a0: 75 72 6E 20 4A 3B 20 63 61 73 65 20 22 74 65 78    urn.J;.case."tex
0000e1b0: 74 6E 6F 64 65 22 3A 72 65 74 75 72 6E 20 64 6F    tnode":return.do
0000e1c0: 63 75 6D 65 6E 74 2E 6E 65 77 54 65 78 74 4E 6F    cument.newTextNo
0000e1d0: 64 65 28 74 68 69 73 2E 6E 6F 64 65 56 61 6C 75    de(this.nodeValu
0000e1e0: 65 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    e)..............
0000e1f0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0000e200: 72 65 74 75 72 6E 20 6E 75 6C 6C 0A 20 20 20 20    return.null.....
0000e210: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000e220: 20 2C 20 72 65 70 6C 61 63 65 73 3A 66 75 6E 63    .,.replaces:func
0000e230: 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20    tion(A).{.......
0000e240: 20 20 20 20 20 20 20 41 3D 24 28 41 2C 20 20 21    .......A=$(A,..!
0000e250: 30 29 3B 20 41 2E 70 61 72 65 6E 74 4E 6F 64 65    0);.A.parentNode
0000e260: 2E 72 65 70 6C 61 63 65 43 68 69 6C 64 28 74 68    .replaceChild(th
0000e270: 69 73 2C 20 41 29 3B 20 72 65 74 75 72 6E 20 74    is,.A);.return.t
0000e280: 68 69 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    his..........}..
0000e290: 20 20 20 20 20 20 20 20 20 2C 20 68 61 73 43 6C    .........,.hasCl
0000e2a0: 61 73 73 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20    ass:function(A).
0000e2b0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    {..............r
0000e2c0: 65 74 75 72 6E 20 74 68 69 73 2E 63 6C 61 73 73    eturn.this.class
0000e2d0: 4E 61 6D 65 2E 63 6F 6E 74 61 69 6E 73 28 41 2C    Name.contains(A,
0000e2e0: 20 22 20 22 29 0A 20 20 20 20 20 20 20 20 20 7D    .".")..........}
0000e2f0: 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 61 64 64    ...........,.add
0000e300: 43 6C 61 73 73 3A 66 75 6E 63 74 69 6F 6E 28 41    Class:function(A
0000e310: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000e320: 20 69 66 28 20 21 74 68 69 73 2E 68 61 73 43 6C    .if(.!this.hasCl
0000e330: 61 73 73 28 41 29 29 20 7B 0A 20 20 20 20 20 20    ass(A)).{.......
0000e340: 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
0000e350: 63 6C 61 73 73 4E 61 6D 65 3D 28 74 68 69 73 2E    className=(this.
0000e360: 63 6C 61 73 73 4E 61 6D 65 2B 22 20 22 2B 41 29    className+"."+A)
0000e370: 2E 63 6C 65 61 6E 28 29 0A 20 20 20 20 20 20 20    .clean()........
0000e380: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000e390: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
0000e3a0: 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    s..........}....
0000e3b0: 20 20 20 20 20 20 20 2C 20 72 65 6D 6F 76 65 43    .......,.removeC
0000e3c0: 6C 61 73 73 3A 66 75 6E 63 74 69 6F 6E 28 41 29    lass:function(A)
0000e3d0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000e3e0: 74 68 69 73 2E 63 6C 61 73 73 4E 61 6D 65 3D 74    this.className=t
0000e3f0: 68 69 73 2E 63 6C 61 73 73 4E 61 6D 65 2E 72 65    his.className.re
0000e400: 70 6C 61 63 65 28 6E 65 77 20 52 65 67 45 78 70    place(new.RegExp
0000e410: 28 22 28 5E 7C 5C 5C 73 29 22 2B 41 2B 22 28 3F    ("(^|\\s)"+A+"(?
0000e420: 3A 5C 5C 73 7C 24 29 22 29 2C 20 22 24 31 22 29    :\\s|$)"),."$1")
0000e430: 2E 63 6C 65 61 6E 28 29 3B 20 72 65 74 75 72 6E    .clean();.return
0000e440: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 7D    .this..........}
0000e450: 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 74 6F 67    ...........,.tog
0000e460: 67 6C 65 43 6C 61 73 73 3A 66 75 6E 63 74 69 6F    gleClass:functio
0000e470: 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(A).{..........
0000e480: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E    ....return.this.
0000e490: 68 61 73 43 6C 61 73 73 28 41 29 3F 74 68 69 73    hasClass(A)?this
0000e4a0: 2E 72 65 6D 6F 76 65 43 6C 61 73 73 28 41 29 3A    .removeClass(A):
0000e4b0: 74 68 69 73 2E 61 64 64 43 6C 61 73 73 28 41 29    this.addClass(A)
0000e4c0: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0000e4d0: 20 20 20 20 20 20 2C 20 67 65 74 43 6F 6D 70 75    ......,.getCompu
0000e4e0: 74 65 64 53 74 79 6C 65 3A 66 75 6E 63 74 69 6F    tedStyle:functio
0000e4f0: 6E 28 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(B).{..........
0000e500: 20 20 20 20 69 66 28 74 68 69 73 2E 63 75 72 72    ....if(this.curr
0000e510: 65 6E 74 53 74 79 6C 65 29 20 7B 0A 20 20 20 20    entStyle).{.....
0000e520: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000e530: 75 72 6E 20 74 68 69 73 2E 63 75 72 72 65 6E 74    urn.this.current
0000e540: 53 74 79 6C 65 5B 42 2E 63 61 6D 65 6C 43 61 73    Style[B.camelCas
0000e550: 65 28 29 5D 0A 20 20 20 20 20 20 20 20 20 20 20    e()]............
0000e560: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000e570: 20 20 76 61 72 20 41 3D 74 68 69 73 2E 67 65 74    ..var.A=this.get
0000e580: 57 69 6E 64 6F 77 28 29 2E 67 65 74 43 6F 6D 70    Window().getComp
0000e590: 75 74 65 64 53 74 79 6C 65 28 74 68 69 73 2C 20    utedStyle(this,.
0000e5a0: 6E 75 6C 6C 29 3B 20 72 65 74 75 72 6E 28 41 29    null);.return(A)
0000e5b0: 3F 41 2E 67 65 74 50 72 6F 70 65 72 74 79 56 61    ?A.getPropertyVa
0000e5c0: 6C 75 65 28 5B 42 2E 68 79 70 68 65 6E 61 74 65    lue([B.hyphenate
0000e5d0: 28 29 5D 29 3A 6E 75 6C 6C 0A 20 20 20 20 20 20    ()]):null.......
0000e5e0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C    ...}...........,
0000e5f0: 20 65 6D 70 74 79 3A 66 75 6E 63 74 69 6F 6E 28    .empty:function(
0000e600: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000e610: 20 24 41 28 74 68 69 73 2E 63 68 69 6C 64 4E 6F    .$A(this.childNo
0000e620: 64 65 73 29 2E 65 61 63 68 28 66 75 6E 63 74 69    des).each(functi
0000e630: 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20    on(A).{.........
0000e640: 20 20 20 20 20 20 20 20 20 20 20 20 20 42 72 6F    .............Bro
0000e650: 77 73 65 72 2E 66 72 65 65 4D 65 6D 28 41 29 3B    wser.freeMem(A);
0000e660: 20 45 6C 65 6D 65 6E 74 2E 65 6D 70 74 79 28 41    .Element.empty(A
0000e670: 29 3B 20 45 6C 65 6D 65 6E 74 2E 64 69 73 70 6F    );.Element.dispo
0000e680: 73 65 28 41 29 0A 20 20 20 20 20 20 20 20 20 20    se(A)...........
0000e690: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0000e6a0: 20 20 20 20 20 20 20 20 20 20 20 2C 20 74 68 69    ...........,.thi
0000e6b0: 73 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73 0A    s);.return.this.
0000e6c0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000e6d0: 20 20 20 20 20 2C 20 64 65 73 74 72 6F 79 3A 66    .....,.destroy:f
0000e6e0: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
0000e6f0: 20 20 20 20 20 20 20 20 20 42 72 6F 77 73 65 72    .........Browser
0000e700: 2E 66 72 65 65 4D 65 6D 28 74 68 69 73 2E 65 6D    .freeMem(this.em
0000e710: 70 74 79 28 29 2E 64 69 73 70 6F 73 65 28 29 29    pty().dispose())
0000e720: 3B 20 72 65 74 75 72 6E 20 6E 75 6C 6C 0A 20 20    ;.return.null...
0000e730: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0000e740: 20 20 20 2C 20 67 65 74 53 65 6C 65 63 74 65 64    ...,.getSelected
0000e750: 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    :function().{...
0000e760: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0000e770: 6E 20 6E 65 77 20 45 6C 65 6D 65 6E 74 73 28 24    n.new.Elements($
0000e780: 41 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73 29 2E    A(this.options).
0000e790: 66 69 6C 74 65 72 28 66 75 6E 63 74 69 6F 6E 28    filter(function(
0000e7a0: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    A).{............
0000e7b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0000e7c0: 74 75 72 6E 20 41 2E 73 65 6C 65 63 74 65 64 0A    turn.A.selected.
0000e7d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e7e0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000e7f0: 20 20 20 20 20 20 20 20 20 29 29 0A 20 20 20 20    .........)).....
0000e800: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000e810: 20 2C 20 74 6F 51 75 65 72 79 53 74 72 69 6E 67    .,.toQueryString
0000e820: 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    :function().{...
0000e830: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 41    ...........var.A
0000e840: 3D 5B 5D 3B 20 74 68 69 73 2E 67 65 74 45 6C 65    =[];.this.getEle
0000e850: 6D 65 6E 74 73 28 22 69 6E 70 75 74 2C 20 73 65    ments("input,.se
0000e860: 6C 65 63 74 2C 20 74 65 78 74 61 72 65 61 22 29    lect,.textarea")
0000e870: 2E 65 61 63 68 28 66 75 6E 63 74 69 6F 6E 28 42    .each(function(B
0000e880: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000e890: 20 20 20 20 20 20 20 20 20 69 66 28 20 21 42 2E    .........if(.!B.
0000e8a0: 6E 61 6D 65 7C 7C 42 2E 64 69 73 61 62 6C 65 64    name||B.disabled
0000e8b0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000e8c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000e8d0: 75 72 6E 0A 20 20 20 20 20 20 20 20 20 20 20 20    urn.............
0000e8e0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000e8f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e900: 20 76 61 72 20 43 3D 28 42 2E 74 61 67 4E 61 6D    .var.C=(B.tagNam
0000e910: 65 2E 74 6F 4C 6F 77 65 72 43 61 73 65 28 29 3D    e.toLowerCase()=
0000e920: 3D 22 73 65 6C 65 63 74 22 29 3F 45 6C 65 6D 65    ="select")?Eleme
0000e930: 6E 74 2E 67 65 74 53 65 6C 65 63 74 65 64 28 42    nt.getSelected(B
0000e940: 29 2E 6D 61 70 28 66 75 6E 63 74 69 6F 6E 28 44    ).map(function(D
0000e950: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000e960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e970: 20 72 65 74 75 72 6E 20 44 2E 76 61 6C 75 65 0A    .return.D.value.
0000e980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e990: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000e9a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000e9b0: 20 29 3A 28 28 42 2E 74 79 70 65 3D 3D 22 72 61    .):((B.type=="ra
0000e9c0: 64 69 6F 22 7C 7C 42 2E 74 79 70 65 3D 3D 22 63    dio"||B.type=="c
0000e9d0: 68 65 63 6B 62 6F 78 22 29 26 26 20 21 42 2E 63    heckbox")&&.!B.c
0000e9e0: 68 65 63 6B 65 64 29 3F 6E 75 6C 6C 3A 42 2E 76    hecked)?null:B.v
0000e9f0: 61 6C 75 65 3B 20 24 73 70 6C 61 74 28 43 29 2E    alue;.$splat(C).
0000ea00: 65 61 63 68 28 66 75 6E 63 74 69 6F 6E 28 44 29    each(function(D)
0000ea10: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000ea20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ea30: 69 66 28 44 29 20 7B 0A 20 20 20 20 20 20 20 20    if(D).{.........
0000ea40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ea50: 20 20 20 20 20 20 20 20 20 41 2E 70 75 73 68 28    .........A.push(
0000ea60: 42 2E 6E 61 6D 65 2B 22 3D 22 2B 65 6E 63 6F 64    B.name+"="+encod
0000ea70: 65 55 52 49 43 6F 6D 70 6F 6E 65 6E 74 28 44 29    eURIComponent(D)
0000ea80: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0000ea90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0000eaa0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000eab0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0000eac0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ead0: 20 20 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..).............
0000eae0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000eaf0: 20 20 20 20 20 29 3B 20 72 65 74 75 72 6E 20 41    .....);.return.A
0000eb00: 2E 6A 6F 69 6E 28 22 26 22 29 0A 20 20 20 20 20    .join("&")......
0000eb10: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0000eb20: 2C 20 67 65 74 50 72 6F 70 65 72 74 79 3A 66 75    ,.getProperty:fu
0000eb30: 6E 63 74 69 6F 6E 28 43 29 20 7B 0A 20 20 20 20    nction(C).{.....
0000eb40: 20 20 20 20 20 20 20 20 20 76 61 72 20 42 3D 45    .........var.B=E
0000eb50: 6C 65 6D 65 6E 74 2E 41 74 74 72 69 62 75 74 65    lement.Attribute
0000eb60: 73 2C 20 41 3D 42 2E 50 72 6F 70 73 5B 43 5D 3B    s,.A=B.Props[C];
0000eb70: 20 76 61 72 20 44 3D 28 41 29 3F 74 68 69 73 5B    .var.D=(A)?this[
0000eb80: 41 5D 3A 74 68 69 73 2E 67 65 74 41 74 74 72 69    A]:this.getAttri
0000eb90: 62 75 74 65 28 43 2C 20 32 29 3B 20 72 65 74 75    bute(C,.2);.retu
0000eba0: 72 6E 28 42 2E 42 6F 6F 6C 73 5B 43 5D 29 3F 20    rn(B.Bools[C])?.
0000ebb0: 21 20 21 44 3A 28 41 29 3F 44 3A 44 7C 7C 6E 75    !.!D:(A)?D:D||nu
0000ebc0: 6C 6C 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ll..........}...
0000ebd0: 20 20 20 20 20 20 20 20 2C 20 67 65 74 50 72 6F    ........,.getPro
0000ebe0: 70 65 72 74 69 65 73 3A 66 75 6E 63 74 69 6F 6E    perties:function
0000ebf0: 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ().{............
0000ec00: 20 20 76 61 72 20 41 3D 24 41 28 61 72 67 75 6D    ..var.A=$A(argum
0000ec10: 65 6E 74 73 29 3B 20 72 65 74 75 72 6E 20 41 2E    ents);.return.A.
0000ec20: 6D 61 70 28 66 75 6E 63 74 69 6F 6E 28 42 29 20    map(function(B).
0000ec30: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0000ec40: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
0000ec50: 69 73 2E 67 65 74 50 72 6F 70 65 72 74 79 28 42    is.getProperty(B
0000ec60: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0000ec70: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0000ec80: 20 20 20 20 20 20 20 2C 20 74 68 69 73 29 2E 61    .......,.this).a
0000ec90: 73 73 6F 63 69 61 74 65 28 41 29 0A 20 20 20 20    ssociate(A).....
0000eca0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000ecb0: 20 2C 20 73 65 74 50 72 6F 70 65 72 74 79 3A 66    .,.setProperty:f
0000ecc0: 75 6E 63 74 69 6F 6E 28 44 2C 20 45 29 20 7B 0A    unction(D,.E).{.
0000ecd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
0000ece0: 20 43 3D 45 6C 65 6D 65 6E 74 2E 41 74 74 72 69    .C=Element.Attri
0000ecf0: 62 75 74 65 73 2C 20 42 3D 43 2E 50 72 6F 70 73    butes,.B=C.Props
0000ed00: 5B 44 5D 2C 20 41 3D 24 64 65 66 69 6E 65 64 28    [D],.A=$defined(
0000ed10: 45 29 3B 20 69 66 28 42 26 26 43 2E 42 6F 6F 6C    E);.if(B&&C.Bool
0000ed20: 73 5B 44 5D 29 20 7B 0A 20 20 20 20 20 20 20 20    s[D]).{.........
0000ed30: 20 20 20 20 20 20 20 20 20 45 3D 28 45 7C 7C 20    .........E=(E||.
0000ed40: 21 41 29 3F 20 21 30 3A 20 21 31 0A 20 20 20 20    !A)?.!0:.!1.....
0000ed50: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000ed60: 20 20 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A    .........else.{.
0000ed70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000ed80: 20 69 66 28 20 21 41 29 20 7B 0A 20 20 20 20 20    .if(.!A).{......
0000ed90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000eda0: 72 65 74 75 72 6E 20 74 68 69 73 2E 72 65 6D 6F    return.this.remo
0000edb0: 76 65 50 72 6F 70 65 72 74 79 28 44 29 0A 20 20    veProperty(D)...
0000edc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0000edd0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000ede0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 28 42    ..............(B
0000edf0: 29 3F 74 68 69 73 5B 42 5D 3D 45 3A 74 68 69 73    )?this[B]=E:this
0000ee00: 2E 73 65 74 41 74 74 72 69 62 75 74 65 28 44 2C    .setAttribute(D,
0000ee10: 20 45 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73    .E);.return.this
0000ee20: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0000ee30: 20 20 20 20 20 20 2C 20 73 65 74 50 72 6F 70 65    ......,.setPrope
0000ee40: 72 74 69 65 73 3A 66 75 6E 63 74 69 6F 6E 28 41    rties:function(A
0000ee50: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000ee60: 20 66 6F 72 28 76 61 72 20 42 20 69 6E 20 41 29    .for(var.B.in.A)
0000ee70: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000ee80: 20 20 20 20 74 68 69 73 2E 73 65 74 50 72 6F 70    ....this.setProp
0000ee90: 65 72 74 79 28 42 2C 20 41 5B 42 5D 29 0A 20 20    erty(B,.A[B])...
0000eea0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0000eeb0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0000eec0: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
0000eed0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 72 65    }...........,.re
0000eee0: 6D 6F 76 65 50 72 6F 70 65 72 74 79 3A 66 75 6E    moveProperty:fun
0000eef0: 63 74 69 6F 6E 28 44 29 20 7B 0A 20 20 20 20 20    ction(D).{......
0000ef00: 20 20 20 20 20 20 20 20 76 61 72 20 43 3D 45 6C    ........var.C=El
0000ef10: 65 6D 65 6E 74 2E 41 74 74 72 69 62 75 74 65 73    ement.Attributes
0000ef20: 2C 20 42 3D 43 2E 50 72 6F 70 73 5B 44 5D 2C 20    ,.B=C.Props[D],.
0000ef30: 41 3D 28 42 26 26 43 2E 42 6F 6F 6C 73 5B 44 5D    A=(B&&C.Bools[D]
0000ef40: 29 3B 20 28 42 29 3F 74 68 69 73 5B 42 5D 3D 28    );.(B)?this[B]=(
0000ef50: 41 29 3F 20 21 31 3A 22 22 3A 74 68 69 73 2E 72    A)?.!1:"":this.r
0000ef60: 65 6D 6F 76 65 41 74 74 72 69 62 75 74 65 28 44    emoveAttribute(D
0000ef70: 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20    );.return.this..
0000ef80: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000ef90: 20 20 20 20 2C 20 72 65 6D 6F 76 65 50 72 6F 70    ....,.removeProp
0000efa0: 65 72 74 69 65 73 3A 66 75 6E 63 74 69 6F 6E 28    erties:function(
0000efb0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000efc0: 20 41 72 72 61 79 2E 65 61 63 68 28 61 72 67 75    .Array.each(argu
0000efd0: 6D 65 6E 74 73 2C 20 74 68 69 73 2E 72 65 6D 6F    ments,.this.remo
0000efe0: 76 65 50 72 6F 70 65 72 74 79 2C 20 74 68 69 73    veProperty,.this
0000eff0: 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20    );.return.this..
0000f000: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D    ........}......}
0000f010: 0A 0A 20 29 3B 0A 0A 20 28 66 75 6E 63 74 69 6F    ...);...(functio
0000f020: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 76    n().{..........v
0000f030: 61 72 20 41 3D 66 75 6E 63 74 69 6F 6E 28 44 2C    ar.A=function(D,
0000f040: 20 42 2C 20 49 2C 20 43 2C 20 46 2C 20 48 29 20    .B,.I,.C,.F,.H).
0000f050: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 76    {..............v
0000f060: 61 72 20 45 3D 44 5B 49 7C 7C 42 5D 3B 20 76 61    ar.E=D[I||B];.va
0000f070: 72 20 47 3D 5B 5D 3B 20 77 68 69 6C 65 28 45 29    r.G=[];.while(E)
0000f080: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0000f090: 20 20 20 20 69 66 28 45 2E 6E 6F 64 65 54 79 70    ....if(E.nodeTyp
0000f0a0: 65 3D 3D 31 26 26 28 20 21 43 7C 7C 45 6C 65 6D    e==1&&(.!C||Elem
0000f0b0: 65 6E 74 2E 6D 61 74 63 68 28 45 2C 20 43 29 29    ent.match(E,.C))
0000f0c0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0000f0d0: 20 20 20 20 20 20 20 20 20 47 2E 70 75 73 68 28    .........G.push(
0000f0e0: 45 29 3B 20 69 66 28 20 21 46 29 20 7B 0A 20 20    E);.if(.!F).{...
0000f0f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f100: 20 20 20 20 20 20 20 62 72 65 61 6B 0A 20 20 20    .......break....
0000f110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f120: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000f130: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000f140: 20 20 20 20 20 20 20 20 20 45 3D 45 5B 42 5D 0A    .........E=E[B].
0000f150: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0000f160: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000f170: 75 72 6E 28 46 29 3F 6E 65 77 20 45 6C 65 6D 65    urn(F)?new.Eleme
0000f180: 6E 74 73 28 47 2C 20 7B 0A 20 20 20 20 20 20 20    nts(G,.{........
0000f190: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 64 64    ..............dd
0000f1a0: 75 70 3A 20 21 31 2C 20 63 61 73 68 3A 20 21 48    up:.!1,.cash:.!H
0000f1b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f1c0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000f1d0: 20 20 29 3A 24 28 47 5B 30 5D 2C 20 48 29 0A 20    ..):$(G[0],.H)..
0000f1e0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000f1f0: 20 20 20 20 3B 20 45 6C 65 6D 65 6E 74 2E 69 6D    ....;.Element.im
0000f200: 70 6C 65 6D 65 6E 74 28 20 7B 0A 20 20 20 20 20    plement(.{......
0000f210: 20 20 20 20 20 20 20 20 20 20 20 20 67 65 74 50    ............getP
0000f220: 72 65 76 69 6F 75 73 3A 66 75 6E 63 74 69 6F 6E    revious:function
0000f230: 28 42 2C 20 43 29 20 7B 0A 20 20 20 20 20 20 20    (B,.C).{........
0000f240: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0000f250: 74 75 72 6E 20 41 28 74 68 69 73 2C 20 22 70 72    turn.A(this,."pr
0000f260: 65 76 69 6F 75 73 53 69 62 6C 69 6E 67 22 2C 20    eviousSibling",.
0000f270: 6E 75 6C 6C 2C 20 42 2C 20 20 21 31 2C 20 43 29    null,.B,..!1,.C)
0000f280: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f290: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0000f2a0: 20 20 20 20 20 20 2C 20 67 65 74 41 6C 6C 50 72    ......,.getAllPr
0000f2b0: 65 76 69 6F 75 73 3A 66 75 6E 63 74 69 6F 6E 28    evious:function(
0000f2c0: 42 2C 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20    B,.C).{.........
0000f2d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000f2e0: 75 72 6E 20 41 28 74 68 69 73 2C 20 22 70 72 65    urn.A(this,."pre
0000f2f0: 76 69 6F 75 73 53 69 62 6C 69 6E 67 22 2C 20 6E    viousSibling",.n
0000f300: 75 6C 6C 2C 20 42 2C 20 20 21 30 2C 20 43 29 0A    ull,.B,..!0,.C).
0000f310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f320: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0000f330: 20 20 20 20 20 2C 20 67 65 74 4E 65 78 74 3A 66    .....,.getNext:f
0000f340: 75 6E 63 74 69 6F 6E 28 42 2C 20 43 29 20 7B 0A    unction(B,.C).{.
0000f350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f360: 20 20 20 20 20 72 65 74 75 72 6E 20 41 28 74 68    .....return.A(th
0000f370: 69 73 2C 20 22 6E 65 78 74 53 69 62 6C 69 6E 67    is,."nextSibling
0000f380: 22 2C 20 6E 75 6C 6C 2C 20 42 2C 20 20 21 31 2C    ",.null,.B,..!1,
0000f390: 20 43 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    .C).............
0000f3a0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0000f3b0: 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 41 6C    .........,.getAl
0000f3c0: 6C 4E 65 78 74 3A 66 75 6E 63 74 69 6F 6E 28 42    lNext:function(B
0000f3d0: 2C 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.C).{..........
0000f3e0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
0000f3f0: 72 6E 20 41 28 74 68 69 73 2C 20 22 6E 65 78 74    rn.A(this,."next
0000f400: 53 69 62 6C 69 6E 67 22 2C 20 6E 75 6C 6C 2C 20    Sibling",.null,.
0000f410: 42 2C 20 20 21 30 2C 20 43 29 0A 20 20 20 20 20    B,..!0,.C)......
0000f420: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0000f430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f440: 2C 20 67 65 74 46 69 72 73 74 3A 66 75 6E 63 74    ,.getFirst:funct
0000f450: 69 6F 6E 28 42 2C 20 43 29 20 7B 0A 20 20 20 20    ion(B,.C).{.....
0000f460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f470: 20 72 65 74 75 72 6E 20 41 28 74 68 69 73 2C 20    .return.A(this,.
0000f480: 22 6E 65 78 74 53 69 62 6C 69 6E 67 22 2C 20 22    "nextSibling",."
0000f490: 66 69 72 73 74 43 68 69 6C 64 22 2C 20 42 2C 20    firstChild",.B,.
0000f4a0: 20 21 31 2C 20 43 29 0A 20 20 20 20 20 20 20 20    .!1,.C).........
0000f4b0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0000f4c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 67    .............,.g
0000f4d0: 65 74 4C 61 73 74 3A 66 75 6E 63 74 69 6F 6E 28    etLast:function(
0000f4e0: 42 2C 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20    B,.C).{.........
0000f4f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0000f500: 75 72 6E 20 41 28 74 68 69 73 2C 20 22 70 72 65    urn.A(this,."pre
0000f510: 76 69 6F 75 73 53 69 62 6C 69 6E 67 22 2C 20 22    viousSibling",."
0000f520: 6C 61 73 74 43 68 69 6C 64 22 2C 20 42 2C 20 20    lastChild",.B,..
0000f530: 21 31 2C 20 43 29 0A 20 20 20 20 20 20 20 20 20    !1,.C)..........
0000f540: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0000f550: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 67 65    ............,.ge
0000f560: 74 50 61 72 65 6E 74 3A 66 75 6E 63 74 69 6F 6E    tParent:function
0000f570: 28 42 2C 20 43 29 20 7B 0A 20 20 20 20 20 20 20    (B,.C).{........
0000f580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0000f590: 74 75 72 6E 20 41 28 74 68 69 73 2C 20 22 70 61    turn.A(this,."pa
0000f5a0: 72 65 6E 74 4E 6F 64 65 22 2C 20 6E 75 6C 6C 2C    rentNode",.null,
0000f5b0: 20 42 2C 20 20 21 31 2C 20 43 29 0A 20 20 20 20    .B,..!1,.C).....
0000f5c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0000f5d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f5e0: 20 2C 20 67 65 74 50 61 72 65 6E 74 73 3A 66 75    .,.getParents:fu
0000f5f0: 6E 63 74 69 6F 6E 28 42 2C 20 43 29 20 7B 0A 20    nction(B,.C).{..
0000f600: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f610: 20 20 20 20 72 65 74 75 72 6E 20 41 28 74 68 69    ....return.A(thi
0000f620: 73 2C 20 22 70 61 72 65 6E 74 4E 6F 64 65 22 2C    s,."parentNode",
0000f630: 20 6E 75 6C 6C 2C 20 42 2C 20 20 21 30 2C 20 43    .null,.B,..!0,.C
0000f640: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0000f650: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0000f660: 20 20 20 20 20 20 20 2C 20 67 65 74 43 68 69 6C    .......,.getChil
0000f670: 64 72 65 6E 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    dren:function(B,
0000f680: 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .C).{...........
0000f690: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0000f6a0: 6E 20 41 28 74 68 69 73 2C 20 22 6E 65 78 74 53    n.A(this,."nextS
0000f6b0: 69 62 6C 69 6E 67 22 2C 20 22 66 69 72 73 74 43    ibling",."firstC
0000f6c0: 68 69 6C 64 22 2C 20 42 2C 20 20 21 30 2C 20 43    hild",.B,..!0,.C
0000f6d0: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0000f6e0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0000f6f0: 20 20 20 20 20 20 20 2C 20 68 61 73 43 68 69 6C    .......,.hasChil
0000f700: 64 3A 66 75 6E 63 74 69 6F 6E 28 42 29 20 7B 0A    d:function(B).{.
0000f710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000f720: 20 20 20 20 20 42 3D 24 28 42 2C 20 20 21 30 29    .....B=$(B,..!0)
0000f730: 3B 20 72 65 74 75 72 6E 28 20 21 20 21 42 26 26    ;.return(.!.!B&&
0000f740: 24 41 28 74 68 69 73 2E 67 65 74 45 6C 65 6D 65    $A(this.getEleme
0000f750: 6E 74 73 42 79 54 61 67 4E 61 6D 65 28 42 2E 74    ntsByTagName(B.t
0000f760: 61 67 4E 61 6D 65 29 29 2E 63 6F 6E 74 61 69 6E    agName)).contain
0000f770: 73 28 42 29 29 0A 20 20 20 20 20 20 20 20 20 20    s(B))...........
0000f780: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
0000f790: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000f7a0: 20 20 29 0A 20 20 20 20 20 7D 0A 0A 20 29 28 29    ..)......}...)()
0000f7b0: 3B 0A 20 45 6C 65 6D 65 6E 74 2E 50 72 6F 70 65    ;..Element.Prope
0000f7c0: 72 74 69 65 73 3D 6E 65 77 20 48 61 73 68 3B 0A    rties=new.Hash;.
0000f7d0: 0A 20 45 6C 65 6D 65 6E 74 2E 50 72 6F 70 65 72    ..Element.Proper
0000f7e0: 74 69 65 73 2E 73 74 79 6C 65 3D 20 7B 0A 20 20    ties.style=.{...
0000f7f0: 20 20 20 73 65 74 3A 66 75 6E 63 74 69 6F 6E 28    ...set:function(
0000f800: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 74 68    A).{..........th
0000f810: 69 73 2E 73 74 79 6C 65 2E 63 73 73 54 65 78 74    is.style.cssText
0000f820: 3D 41 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    =A......}.......
0000f830: 2C 0A 20 20 20 20 20 67 65 74 3A 66 75 6E 63 74    ,......get:funct
0000f840: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
0000f850: 20 72 65 74 75 72 6E 20 74 68 69 73 2E 73 74 79    .return.this.sty
0000f860: 6C 65 2E 63 73 73 54 65 78 74 0A 20 20 20 20 20    le.cssText......
0000f870: 7D 0A 0A 20 20 20 20 20 2C 0A 20 20 20 20 20 65    }.......,......e
0000f880: 72 61 73 65 3A 66 75 6E 63 74 69 6F 6E 28 29 20    rase:function().
0000f890: 7B 0A 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    {..........this.
0000f8a0: 73 74 79 6C 65 2E 63 73 73 54 65 78 74 3D 22 22    style.cssText=""
0000f8b0: 0A 20 20 20 20 20 7D 0A 20 7D 0A 0A 20 3B 0A 0A    ......}..}...;..
0000f8c0: 20 45 6C 65 6D 65 6E 74 2E 50 72 6F 70 65 72 74    .Element.Propert
0000f8d0: 69 65 73 2E 74 61 67 3D 20 7B 0A 20 20 20 20 20    ies.tag=.{......
0000f8e0: 67 65 74 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B    get:function().{
0000f8f0: 0A 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0000f900: 20 74 68 69 73 2E 74 61 67 4E 61 6D 65 2E 74 6F    .this.tagName.to
0000f910: 4C 6F 77 65 72 43 61 73 65 28 29 0A 20 20 20 20    LowerCase().....
0000f920: 20 7D 0A 20 7D 0A 0A 20 3B 0A 0A 20 45 6C 65 6D    .}..}...;...Elem
0000f930: 65 6E 74 2E 50 72 6F 70 65 72 74 69 65 73 2E 68    ent.Properties.h
0000f940: 72 65 66 3D 20 7B 0A 20 20 20 20 20 67 65 74 3A    ref=.{......get:
0000f950: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
0000f960: 20 20 20 20 20 20 72 65 74 75 72 6E 28 20 21 74    ......return(.!t
0000f970: 68 69 73 2E 68 72 65 66 29 3F 6E 75 6C 6C 3A 20    his.href)?null:.
0000f980: 74 68 69 73 2E 68 72 65 66 2E 72 65 70 6C 61 63    this.href.replac
0000f990: 65 28 6E 65 77 20 52 65 67 45 78 70 28 22 5E 22    e(new.RegExp("^"
0000f9a0: 2B 64 6F 63 75 6D 65 6E 74 2E 6C 6F 63 61 74 69    +document.locati
0000f9b0: 6F 6E 2E 70 72 6F 74 6F 63 6F 6C 2B 22 2F 2F 22    on.protocol+"//"
0000f9c0: 2B 64 6F 63 75 6D 65 6E 74 2E 6C 6F 63 61 74 69    +document.locati
0000f9d0: 6F 6E 2E 68 6F 73 74 29 2C 20 22 22 29 0A 20 20    on.host),."")...
0000f9e0: 20 20 20 7D 0A 20 7D 0A 0A 20 3B 0A 0A 20 45 6C    ...}..}...;...El
0000f9f0: 65 6D 65 6E 74 2E 50 72 6F 70 65 72 74 69 65 73    ement.Properties
0000fa00: 2E 68 74 6D 6C 3D 20 7B 0A 20 20 20 20 20 73 65    .html=.{......se
0000fa10: 74 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    t:function().{..
0000fa20: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74    ........return.t
0000fa30: 68 69 73 2E 69 6E 6E 65 72 48 54 4D 4C 3D 41 72    his.innerHTML=Ar
0000fa40: 72 61 79 2E 66 6C 61 74 74 65 6E 28 61 72 67 75    ray.flatten(argu
0000fa50: 6D 65 6E 74 73 29 2E 6A 6F 69 6E 28 22 22 29 0A    ments).join("").
0000fa60: 20 20 20 20 20 7D 0A 20 7D 0A 0A 20 3B 0A 0A 20    .....}..}...;...
0000fa70: 4E 61 74 69 76 65 2E 69 6D 70 6C 65 6D 65 6E 74    Native.implement
0000fa80: 28 5B 45 6C 65 6D 65 6E 74 2C 20 57 69 6E 64 6F    ([Element,.Windo
0000fa90: 77 2C 20 44 6F 63 75 6D 65 6E 74 5D 2C 20 7B 0A    w,.Document],.{.
0000faa0: 20 20 20 20 20 20 20 20 20 61 64 64 4C 69 73 74    .........addList
0000fab0: 65 6E 65 72 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    ener:function(B,
0000fac0: 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .A).{...........
0000fad0: 20 20 20 69 66 28 74 68 69 73 2E 61 64 64 45 76    ...if(this.addEv
0000fae0: 65 6E 74 4C 69 73 74 65 6E 65 72 29 20 7B 0A 20    entListener).{..
0000faf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0000fb00: 74 68 69 73 2E 61 64 64 45 76 65 6E 74 4C 69 73    this.addEventLis
0000fb10: 74 65 6E 65 72 28 42 2C 20 41 2C 20 20 21 31 29    tener(B,.A,..!1)
0000fb20: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0000fb30: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 65 6C    ..............el
0000fb40: 73 65 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    se.{............
0000fb50: 20 20 20 20 20 20 74 68 69 73 2E 61 74 74 61 63    ......this.attac
0000fb60: 68 45 76 65 6E 74 28 22 6F 6E 22 2B 42 2C 20 41    hEvent("on"+B,.A
0000fb70: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    )..............}
0000fb80: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
0000fb90: 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20    eturn.this......
0000fba0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0000fbb0: 2C 20 72 65 6D 6F 76 65 4C 69 73 74 65 6E 65 72    ,.removeListener
0000fbc0: 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20    :function(B,.A).
0000fbd0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69    {..............i
0000fbe0: 66 28 74 68 69 73 2E 72 65 6D 6F 76 65 45 76 65    f(this.removeEve
0000fbf0: 6E 74 4C 69 73 74 65 6E 65 72 29 20 7B 0A 20 20    ntListener).{...
0000fc00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
0000fc10: 68 69 73 2E 72 65 6D 6F 76 65 45 76 65 6E 74 4C    his.removeEventL
0000fc20: 69 73 74 65 6E 65 72 28 42 2C 20 41 2C 20 20 21    istener(B,.A,..!
0000fc30: 31 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    1)..............
0000fc40: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0000fc50: 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20 20    else.{..........
0000fc60: 20 20 20 20 20 20 20 20 74 68 69 73 2E 64 65 74    ........this.det
0000fc70: 61 63 68 45 76 65 6E 74 28 22 6F 6E 22 2B 42 2C    achEvent("on"+B,
0000fc80: 20 41 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    .A).............
0000fc90: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0000fca0: 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20    .return.this....
0000fcb0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0000fcc0: 20 20 2C 20 72 65 74 72 69 65 76 65 3A 66 75 6E    ..,.retrieve:fun
0000fcd0: 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A 20 20    ction(B,.A).{...
0000fce0: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 44    ...........var.D
0000fcf0: 3D 45 6C 65 6D 65 6E 74 2E 53 74 6F 72 61 67 65    =Element.Storage
0000fd00: 2E 67 65 74 28 74 68 69 73 2E 75 69 64 29 3B 20    .get(this.uid);.
0000fd10: 76 61 72 20 43 3D 44 5B 42 5D 3B 20 69 66 28 24    var.C=D[B];.if($
0000fd20: 64 65 66 69 6E 65 64 28 41 29 26 26 20 21 24 64    defined(A)&&.!$d
0000fd30: 65 66 69 6E 65 64 28 43 29 29 20 7B 0A 20 20 20    efined(C)).{....
0000fd40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 43 3D    ..............C=
0000fd50: 44 5B 42 5D 3D 41 0A 20 20 20 20 20 20 20 20 20    D[B]=A..........
0000fd60: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0000fd70: 20 20 20 20 72 65 74 75 72 6E 20 24 70 69 63 6B    ....return.$pick
0000fd80: 28 43 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    (C)..........}..
0000fd90: 20 20 20 20 20 20 20 20 20 2C 20 73 74 6F 72 65    .........,.store
0000fda0: 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20    :function(B,.A).
0000fdb0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 76    {..............v
0000fdc0: 61 72 20 43 3D 45 6C 65 6D 65 6E 74 2E 53 74 6F    ar.C=Element.Sto
0000fdd0: 72 61 67 65 2E 67 65 74 28 74 68 69 73 2E 75 69    rage.get(this.ui
0000fde0: 64 29 3B 20 43 5B 42 5D 3D 41 3B 20 72 65 74 75    d);.C[B]=A;.retu
0000fdf0: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
0000fe00: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 65    .}...........,.e
0000fe10: 6C 69 6D 69 6E 61 74 65 3A 66 75 6E 63 74 69 6F    liminate:functio
0000fe20: 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(A).{..........
0000fe30: 20 20 20 20 76 61 72 20 42 3D 45 6C 65 6D 65 6E    ....var.B=Elemen
0000fe40: 74 2E 53 74 6F 72 61 67 65 2E 67 65 74 28 74 68    t.Storage.get(th
0000fe50: 69 73 2E 75 69 64 29 3B 20 64 65 6C 65 74 65 20    is.uid);.delete.
0000fe60: 42 5B 41 5D 3B 20 72 65 74 75 72 6E 20 74 68 69    B[A];.return.thi
0000fe70: 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    s..........}....
0000fe80: 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 6C 65 6D 65    ..}...);...Eleme
0000fe90: 6E 74 2E 41 74 74 72 69 62 75 74 65 73 3D 6E 65    nt.Attributes=ne
0000fea0: 77 20 48 61 73 68 28 20 7B 0A 20 20 20 20 20 20    w.Hash(.{.......
0000feb0: 20 20 20 50 72 6F 70 73 3A 20 7B 0A 20 20 20 20    ...Props:.{.....
0000fec0: 20 20 20 20 20 20 20 20 20 68 74 6D 6C 3A 22 69    .........html:"i
0000fed0: 6E 6E 65 72 48 54 4D 4C 22 2C 20 22 63 6C 61 73    nnerHTML",."clas
0000fee0: 73 22 3A 22 63 6C 61 73 73 4E 61 6D 65 22 2C 20    s":"className",.
0000fef0: 22 66 6F 72 22 3A 22 68 74 6D 6C 46 6F 72 22 2C    "for":"htmlFor",
0000ff00: 20 74 65 78 74 3A 28 42 72 6F 77 73 65 72 2E 45    .text:(Browser.E
0000ff10: 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74 29 3F 22    ngine.trident)?"
0000ff20: 69 6E 6E 65 72 54 65 78 74 22 3A 22 74 65 78 74    innerText":"text
0000ff30: 43 6F 6E 74 65 6E 74 22 0A 20 20 20 20 20 20 20    Content"........
0000ff40: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
0000ff50: 42 6F 6F 6C 73 3A 5B 22 63 6F 6D 70 61 63 74 22    Bools:["compact"
0000ff60: 2C 20 22 6E 6F 77 72 61 70 22 2C 20 22 69 73 6D    ,."nowrap",."ism
0000ff70: 61 70 22 2C 20 22 64 65 63 6C 61 72 65 22 2C 20    ap",."declare",.
0000ff80: 22 6E 6F 73 68 61 64 65 22 2C 20 22 63 68 65 63    "noshade",."chec
0000ff90: 6B 65 64 22 2C 20 22 64 69 73 61 62 6C 65 64 22    ked",."disabled"
0000ffa0: 2C 20 22 72 65 61 64 6F 6E 6C 79 22 2C 20 22 6D    ,."readonly",."m
0000ffb0: 75 6C 74 69 70 6C 65 22 2C 20 22 73 65 6C 65 63    ultiple",."selec
0000ffc0: 74 65 64 22 2C 20 22 6E 6F 72 65 73 69 7A 65 22    ted",."noresize"
0000ffd0: 2C 20 22 64 65 66 65 72 22 5D 2C 20 43 61 6D 65    ,."defer"],.Came
0000ffe0: 6C 73 3A 5B 22 76 61 6C 75 65 22 2C 20 22 61 63    ls:["value",."ac
0000fff0: 63 65 73 73 4B 65 79 22 2C 20 22 63 65 6C 6C 50    cessKey",."cellP
00010000: 61 64 64 69 6E 67 22 2C 20 22 63 65 6C 6C 53 70    adding",."cellSp
00010010: 61 63 69 6E 67 22 2C 20 22 63 6F 6C 53 70 61 6E    acing",."colSpan
00010020: 22 2C 20 22 66 72 61 6D 65 42 6F 72 64 65 72 22    ",."frameBorder"
00010030: 2C 20 22 6D 61 78 4C 65 6E 67 74 68 22 2C 20 22    ,."maxLength",."
00010040: 72 65 61 64 4F 6E 6C 79 22 2C 20 22 72 6F 77 53    readOnly",."rowS
00010050: 70 61 6E 22 2C 20 22 74 61 62 49 6E 64 65 78 22    pan",."tabIndex"
00010060: 2C 20 22 75 73 65 4D 61 70 22 5D 0A 20 20 20 20    ,."useMap"].....
00010070: 20 7D 0A 0A 20 29 3B 0A 0A 20 42 72 6F 77 73 65    .}...);...Browse
00010080: 72 2E 66 72 65 65 4D 65 6D 3D 66 75 6E 63 74 69    r.freeMem=functi
00010090: 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 69 66 28    on(A).{......if(
000100a0: 20 21 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    .!A).{..........
000100b0: 72 65 74 75 72 6E 0A 20 20 20 20 20 7D 0A 0A 20    return......}...
000100c0: 20 20 20 20 69 66 28 42 72 6F 77 73 65 72 2E 45    ....if(Browser.E
000100d0: 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74 26 26 28    ngine.trident&&(
000100e0: 2F 6F 62 6A 65 63 74 2F 69 29 2E 74 65 73 74 28    /object/i).test(
000100f0: 41 2E 74 61 67 4E 61 6D 65 29 29 20 7B 0A 20 20    A.tagName)).{...
00010100: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 42    .......for(var.B
00010110: 20 69 6E 20 41 29 20 7B 0A 20 20 20 20 20 20 20    .in.A).{........
00010120: 20 20 20 20 20 20 69 66 28 74 79 70 65 6F 66 20    ......if(typeof.
00010130: 41 5B 42 5D 3D 3D 22 66 75 6E 63 74 69 6F 6E 22    A[B]=="function"
00010140: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00010150: 20 20 20 20 20 41 5B 42 5D 3D 24 65 6D 70 74 79    .....A[B]=$empty
00010160: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00010170: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00010180: 20 20 20 20 20 45 6C 65 6D 65 6E 74 2E 64 69 73    .....Element.dis
00010190: 70 6F 73 65 28 41 29 0A 20 20 20 20 20 7D 0A 0A    pose(A)......}..
000101a0: 20 20 20 20 20 69 66 28 41 2E 75 69 64 26 26 41    .....if(A.uid&&A
000101b0: 2E 72 65 6D 6F 76 65 45 76 65 6E 74 73 29 20 7B    .removeEvents).{
000101c0: 0A 20 20 20 20 20 20 20 20 20 41 2E 72 65 6D 6F    ..........A.remo
000101d0: 76 65 45 76 65 6E 74 73 28 29 0A 20 20 20 20 20    veEvents()......
000101e0: 7D 0A 20 7D 0A 0A 20 3B 0A 0A 20 28 66 75 6E 63    }..}...;...(func
000101f0: 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20 20    tion(B).{.......
00010200: 20 20 20 76 61 72 20 43 3D 42 2E 42 6F 6F 6C 73    ...var.C=B.Bools
00010210: 2C 20 41 3D 42 2E 43 61 6D 65 6C 73 3B 20 42 2E    ,.A=B.Camels;.B.
00010220: 42 6F 6F 6C 73 3D 43 3D 43 2E 61 73 73 6F 63 69    Bools=C=C.associ
00010230: 61 74 65 28 43 29 3B 20 48 61 73 68 2E 65 78 74    ate(C);.Hash.ext
00010240: 65 6E 64 28 48 61 73 68 2E 63 6F 6D 62 69 6E 65    end(Hash.combine
00010250: 28 42 2E 50 72 6F 70 73 2C 20 43 29 2C 20 41 2E    (B.Props,.C),.A.
00010260: 61 73 73 6F 63 69 61 74 65 28 41 2E 6D 61 70 28    associate(A.map(
00010270: 66 75 6E 63 74 69 6F 6E 28 44 29 20 7B 0A 20 20    function(D).{...
00010280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010290: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 44 2E    .......return.D.
000102a0: 74 6F 4C 6F 77 65 72 43 61 73 65 28 29 0A 20 20    toLowerCase()...
000102b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000102c0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
000102d0: 20 20 20 20 20 20 20 29 29 29 3B 20 42 2E 65 72    .......)));.B.er
000102e0: 61 73 65 28 22 43 61 6D 65 6C 73 22 29 0A 20 20    ase("Camels")...
000102f0: 20 20 20 7D 0A 0A 20 29 28 45 6C 65 6D 65 6E 74    ...}...)(Element
00010300: 2E 41 74 74 72 69 62 75 74 65 73 29 3B 0A 0A 20    .Attributes);...
00010310: 77 69 6E 64 6F 77 2E 61 64 64 4C 69 73 74 65 6E    window.addListen
00010320: 65 72 28 22 75 6E 6C 6F 61 64 22 2C 20 66 75 6E    er("unload",.fun
00010330: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
00010340: 20 20 20 77 69 6E 64 6F 77 2E 72 65 6D 6F 76 65    ...window.remove
00010350: 4C 69 73 74 65 6E 65 72 28 22 75 6E 6C 6F 61 64    Listener("unload
00010360: 22 2C 20 61 72 67 75 6D 65 6E 74 73 2E 63 61 6C    ",.arguments.cal
00010370: 6C 65 65 29 3B 20 64 6F 63 75 6D 65 6E 74 2E 70    lee);.document.p
00010380: 75 72 67 65 28 29 3B 20 69 66 28 42 72 6F 77 73    urge();.if(Brows
00010390: 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E    er.Engine.triden
000103a0: 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    t).{............
000103b0: 20 20 43 6F 6C 6C 65 63 74 47 61 72 62 61 67 65    ..CollectGarbage
000103c0: 28 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ()..........}...
000103d0: 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 6C 65 6D    ...}...);...Elem
000103e0: 65 6E 74 2E 50 72 6F 70 65 72 74 69 65 73 2E 65    ent.Properties.e
000103f0: 76 65 6E 74 73 3D 20 7B 0A 20 20 20 20 20 73 65    vents=.{......se
00010400: 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    t:function(A).{.
00010410: 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 61 64    .........this.ad
00010420: 64 45 76 65 6E 74 73 28 41 29 0A 20 20 20 20 20    dEvents(A)......
00010430: 7D 0A 20 7D 0A 0A 20 3B 0A 0A 20 4E 61 74 69 76    }..}...;...Nativ
00010440: 65 2E 69 6D 70 6C 65 6D 65 6E 74 28 5B 45 6C 65    e.implement([Ele
00010450: 6D 65 6E 74 2C 20 57 69 6E 64 6F 77 2C 20 44 6F    ment,.Window,.Do
00010460: 63 75 6D 65 6E 74 5D 2C 20 7B 0A 20 20 20 20 20    cument],.{......
00010470: 20 20 20 20 61 64 64 45 76 65 6E 74 3A 66 75 6E    ....addEvent:fun
00010480: 63 74 69 6F 6E 28 45 2C 20 47 29 20 7B 0A 20 20    ction(E,.G).{...
00010490: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 48    ...........var.H
000104a0: 3D 74 68 69 73 2E 72 65 74 72 69 65 76 65 28 22    =this.retrieve("
000104b0: 65 76 65 6E 74 73 22 2C 20 7B 7D 0A 0A 20 20 20    events",.{}.....
000104c0: 20 20 20 20 20 20 20 20 20 20 29 3B 20 48 5B 45    ..........);.H[E
000104d0: 5D 3D 48 5B 45 5D 7C 7C 20 7B 0A 20 20 20 20 20    ]=H[E]||.{......
000104e0: 20 20 20 20 20 20 20 20 20 20 20 20 6B 65 79 73    ............keys
000104f0: 3A 5B 5D 2C 20 76 61 6C 75 65 73 3A 5B 5D 0A 20    :[],.values:[]..
00010500: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00010510: 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 69 66    ............;.if
00010520: 28 48 5B 45 5D 2E 6B 65 79 73 2E 63 6F 6E 74 61    (H[E].keys.conta
00010530: 69 6E 73 28 47 29 29 20 7B 0A 20 20 20 20 20 20    ins(G)).{.......
00010540: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00010550: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
00010560: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00010570: 20 20 20 20 48 5B 45 5D 2E 6B 65 79 73 2E 70 75    ....H[E].keys.pu
00010580: 73 68 28 47 29 3B 20 76 61 72 20 46 3D 45 2C 20    sh(G);.var.F=E,.
00010590: 41 3D 45 6C 65 6D 65 6E 74 2E 45 76 65 6E 74 73    A=Element.Events
000105a0: 2E 67 65 74 28 45 29 2C 20 43 3D 47 2C 20 49 3D    .get(E),.C=G,.I=
000105b0: 74 68 69 73 3B 20 69 66 28 41 29 20 7B 0A 20 20    this;.if(A).{...
000105c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
000105d0: 66 28 41 2E 6F 6E 41 64 64 29 20 7B 0A 20 20 20    f(A.onAdd).{....
000105e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000105f0: 20 20 41 2E 6F 6E 41 64 64 2E 63 61 6C 6C 28 74    ..A.onAdd.call(t
00010600: 68 69 73 2C 20 47 29 0A 20 20 20 20 20 20 20 20    his,.G).........
00010610: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00010620: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00010630: 41 2E 63 6F 6E 64 69 74 69 6F 6E 29 20 7B 0A 20    A.condition).{..
00010640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010650: 20 20 20 20 43 3D 66 75 6E 63 74 69 6F 6E 28 4A    ....C=function(J
00010660: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00010670: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00010680: 41 2E 63 6F 6E 64 69 74 69 6F 6E 2E 63 61 6C 6C    A.condition.call
00010690: 28 74 68 69 73 2C 20 4A 29 29 20 7B 0A 20 20 20    (this,.J)).{....
000106a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000106b0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
000106c0: 20 47 2E 63 61 6C 6C 28 74 68 69 73 2C 20 4A 29    .G.call(this,.J)
000106d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000106e0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000106f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010700: 20 20 20 20 20 20 72 65 74 75 72 6E 20 21 31 0A    ......return.!1.
00010710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010720: 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20    .....}..........
00010730: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00010740: 20 20 20 20 20 20 20 20 20 20 20 20 46 3D 41 2E    ............F=A.
00010750: 62 61 73 65 7C 7C 46 0A 20 20 20 20 20 20 20 20    base||F.........
00010760: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00010770: 20 20 20 20 20 76 61 72 20 44 3D 66 75 6E 63 74    .....var.D=funct
00010780: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
00010790: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
000107a0: 47 2E 63 61 6C 6C 28 49 29 0A 20 20 20 20 20 20    G.call(I).......
000107b0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000107c0: 20 20 20 20 20 20 20 3B 20 76 61 72 20 42 3D 45    .......;.var.B=E
000107d0: 6C 65 6D 65 6E 74 2E 4E 61 74 69 76 65 45 76 65    lement.NativeEve
000107e0: 6E 74 73 5B 46 5D 7C 7C 30 3B 20 69 66 28 42 29    nts[F]||0;.if(B)
000107f0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00010800: 20 20 20 20 69 66 28 42 3D 3D 32 29 20 7B 0A 20    ....if(B==2).{..
00010810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010820: 20 20 20 20 44 3D 66 75 6E 63 74 69 6F 6E 28 4A    ....D=function(J
00010830: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00010840: 20 20 20 20 20 20 20 20 20 20 20 20 20 4A 3D 6E    .............J=n
00010850: 65 77 20 45 76 65 6E 74 28 4A 2C 20 49 2E 67 65    ew.Event(J,.I.ge
00010860: 74 57 69 6E 64 6F 77 28 29 29 3B 20 69 66 28 43    tWindow());.if(C
00010870: 2E 63 61 6C 6C 28 49 2C 20 4A 29 3D 3D 3D 20 21    .call(I,.J)===.!
00010880: 31 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    1).{............
00010890: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000108a0: 20 20 4A 2E 73 74 6F 70 28 29 0A 20 20 20 20 20    ..J.stop()......
000108b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000108c0: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
000108d0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
000108e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000108f0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010900: 20 20 74 68 69 73 2E 61 64 64 4C 69 73 74 65 6E    ..this.addListen
00010910: 65 72 28 46 2C 20 44 29 0A 20 20 20 20 20 20 20    er(F,.D)........
00010920: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00010930: 20 20 20 20 20 20 48 5B 45 5D 2E 76 61 6C 75 65    ......H[E].value
00010940: 73 2E 70 75 73 68 28 44 29 3B 20 72 65 74 75 72    s.push(D);.retur
00010950: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
00010960: 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 72 65    }...........,.re
00010970: 6D 6F 76 65 45 76 65 6E 74 3A 66 75 6E 63 74 69    moveEvent:functi
00010980: 6F 6E 28 44 2C 20 43 29 20 7B 0A 20 20 20 20 20    on(D,.C).{......
00010990: 20 20 20 20 20 20 20 20 76 61 72 20 42 3D 74 68    ........var.B=th
000109a0: 69 73 2E 72 65 74 72 69 65 76 65 28 22 65 76 65    is.retrieve("eve
000109b0: 6E 74 73 22 29 3B 20 69 66 28 20 21 42 7C 7C 20    nts");.if(.!B||.
000109c0: 21 42 5B 44 5D 29 20 7B 0A 20 20 20 20 20 20 20    !B[D]).{........
000109d0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
000109e0: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20    .this...........
000109f0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00010a00: 20 20 20 76 61 72 20 47 3D 42 5B 44 5D 2E 6B 65    ...var.G=B[D].ke
00010a10: 79 73 2E 69 6E 64 65 78 4F 66 28 43 29 3B 20 69    ys.indexOf(C);.i
00010a20: 66 28 47 3D 3D 2D 31 29 20 7B 0A 20 20 20 20 20    f(G==-1).{......
00010a30: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00010a40: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
00010a50: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00010a60: 20 20 20 20 20 76 61 72 20 41 3D 42 5B 44 5D 2E    .....var.A=B[D].
00010a70: 6B 65 79 73 2E 73 70 6C 69 63 65 28 47 2C 20 31    keys.splice(G,.1
00010a80: 29 5B 30 5D 3B 20 76 61 72 20 46 3D 42 5B 44 5D    )[0];.var.F=B[D]
00010a90: 2E 76 61 6C 75 65 73 2E 73 70 6C 69 63 65 28 47    .values.splice(G
00010aa0: 2C 20 31 29 5B 30 5D 3B 20 76 61 72 20 45 3D 45    ,.1)[0];.var.E=E
00010ab0: 6C 65 6D 65 6E 74 2E 45 76 65 6E 74 73 2E 67 65    lement.Events.ge
00010ac0: 74 28 44 29 3B 20 69 66 28 45 29 20 7B 0A 20 20    t(D);.if(E).{...
00010ad0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
00010ae0: 66 28 45 2E 6F 6E 52 65 6D 6F 76 65 29 20 7B 0A    f(E.onRemove).{.
00010af0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010b00: 20 20 20 20 20 45 2E 6F 6E 52 65 6D 6F 76 65 2E    .....E.onRemove.
00010b10: 63 61 6C 6C 28 74 68 69 73 2C 20 43 29 0A 20 20    call(this,.C)...
00010b20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00010b30: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010b40: 20 20 20 44 3D 45 2E 62 61 73 65 7C 7C 44 0A 20    ...D=E.base||D..
00010b50: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00010b60: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00010b70: 72 6E 28 45 6C 65 6D 65 6E 74 2E 4E 61 74 69 76    rn(Element.Nativ
00010b80: 65 45 76 65 6E 74 73 5B 44 5D 29 3F 74 68 69 73    eEvents[D])?this
00010b90: 2E 72 65 6D 6F 76 65 4C 69 73 74 65 6E 65 72 28    .removeListener(
00010ba0: 44 2C 20 46 29 3A 74 68 69 73 0A 20 20 20 20 20    D,.F):this......
00010bb0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00010bc0: 2C 20 61 64 64 45 76 65 6E 74 73 3A 66 75 6E 63    ,.addEvents:func
00010bd0: 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20    tion(A).{.......
00010be0: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 42    .......for(var.B
00010bf0: 20 69 6E 20 41 29 20 7B 0A 20 20 20 20 20 20 20    .in.A).{........
00010c00: 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 61    ..........this.a
00010c10: 64 64 45 76 65 6E 74 28 42 2C 20 41 5B 42 5D 29    ddEvent(B,.A[B])
00010c20: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00010c30: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00010c40: 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20    turn.this.......
00010c50: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C    ...}...........,
00010c60: 20 72 65 6D 6F 76 65 45 76 65 6E 74 73 3A 66 75    .removeEvents:fu
00010c70: 6E 63 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20    nction(B).{.....
00010c80: 20 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 74    .........var.A=t
00010c90: 68 69 73 2E 72 65 74 72 69 65 76 65 28 22 65 76    his.retrieve("ev
00010ca0: 65 6E 74 73 22 29 3B 20 69 66 28 20 21 41 29 20    ents");.if(.!A).
00010cb0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00010cc0: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20    ...return.this..
00010cd0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00010ce0: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 20    ............if(.
00010cf0: 21 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    !B).{...........
00010d00: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 43    .......for(var.C
00010d10: 20 69 6E 20 41 29 20 7B 0A 20 20 20 20 20 20 20    .in.A).{........
00010d20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68    ..............th
00010d30: 69 73 2E 72 65 6D 6F 76 65 45 76 65 6E 74 73 28    is.removeEvents(
00010d40: 43 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    C)..............
00010d50: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00010d60: 20 20 20 20 20 20 20 20 41 3D 6E 75 6C 6C 0A 20    ........A=null..
00010d70: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00010d80: 20 20 20 20 20 20 20 20 20 20 20 20 65 6C 73 65    ............else
00010d90: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00010da0: 20 20 20 20 69 66 28 41 5B 42 5D 29 20 7B 0A 20    ....if(A[B]).{..
00010db0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010dc0: 20 20 20 20 77 68 69 6C 65 28 41 5B 42 5D 2E 6B    ....while(A[B].k
00010dd0: 65 79 73 5B 30 5D 29 20 7B 0A 20 20 20 20 20 20    eys[0]).{.......
00010de0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010df0: 20 20 20 74 68 69 73 2E 72 65 6D 6F 76 65 45 76    ...this.removeEv
00010e00: 65 6E 74 28 42 2C 20 41 5B 42 5D 2E 6B 65 79 73    ent(B,.A[B].keys
00010e10: 5B 30 5D 29 0A 20 20 20 20 20 20 20 20 20 20 20    [0])............
00010e20: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00010e30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010e40: 20 20 41 5B 42 5D 3D 6E 75 6C 6C 0A 20 20 20 20    ..A[B]=null.....
00010e50: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20    .............}..
00010e60: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00010e70: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00010e80: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
00010e90: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 66    .}...........,.f
00010ea0: 69 72 65 45 76 65 6E 74 3A 66 75 6E 63 74 69 6F    ireEvent:functio
00010eb0: 6E 28 44 2C 20 42 2C 20 41 29 20 7B 0A 20 20 20    n(D,.B,.A).{....
00010ec0: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 43 3D    ..........var.C=
00010ed0: 74 68 69 73 2E 72 65 74 72 69 65 76 65 28 22 65    this.retrieve("e
00010ee0: 76 65 6E 74 73 22 29 3B 20 69 66 28 20 21 43 7C    vents");.if(.!C|
00010ef0: 7C 20 21 43 5B 44 5D 29 20 7B 0A 20 20 20 20 20    |.!C[D]).{......
00010f00: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00010f10: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
00010f20: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00010f30: 20 20 20 20 20 43 5B 44 5D 2E 6B 65 79 73 2E 65    .....C[D].keys.e
00010f40: 61 63 68 28 66 75 6E 63 74 69 6F 6E 28 45 29 20    ach(function(E).
00010f50: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00010f60: 20 20 20 20 20 20 20 45 2E 63 72 65 61 74 65 28    .......E.create(
00010f70: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00010f80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010f90: 62 69 6E 64 3A 74 68 69 73 2C 20 64 65 6C 61 79    bind:this,.delay
00010fa0: 3A 41 2C 20 22 61 72 67 75 6D 65 6E 74 73 22 3A    :A,."arguments":
00010fb0: 42 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    B...............
00010fc0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00010fd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00010fe0: 20 20 20 29 28 29 0A 20 20 20 20 20 20 20 20 20    ...)()..........
00010ff0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00011000: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 74 68    ............,.th
00011010: 69 73 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73    is);.return.this
00011020: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00011030: 20 20 20 20 20 20 2C 20 63 6C 6F 6E 65 45 76 65    ......,.cloneEve
00011040: 6E 74 73 3A 66 75 6E 63 74 69 6F 6E 28 44 2C 20    nts:function(D,.
00011050: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    A).{............
00011060: 20 20 44 3D 24 28 44 29 3B 20 76 61 72 20 43 3D    ..D=$(D);.var.C=
00011070: 44 2E 72 65 74 72 69 65 76 65 28 22 65 76 65 6E    D.retrieve("even
00011080: 74 73 22 29 3B 20 69 66 28 20 21 43 29 20 7B 0A    ts");.if(.!C).{.
00011090: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000110a0: 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20    .return.this....
000110b0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000110c0: 20 20 20 20 20 20 20 20 20 20 69 66 28 20 21 41    ..........if(.!A
000110d0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000110e0: 20 20 20 20 20 66 6F 72 28 76 61 72 20 42 20 69    .....for(var.B.i
000110f0: 6E 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n.C).{..........
00011100: 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73    ............this
00011110: 2E 63 6C 6F 6E 65 45 76 65 6E 74 73 28 44 2C 20    .cloneEvents(D,.
00011120: 42 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    B)..............
00011130: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
00011140: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00011150: 20 20 20 65 6C 73 65 20 7B 0A 20 20 20 20 20 20    ...else.{.......
00011160: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 43 5B    ...........if(C[
00011170: 41 5D 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    A]).{...........
00011180: 20 20 20 20 20 20 20 20 20 20 20 43 5B 41 5D 2E    ...........C[A].
00011190: 6B 65 79 73 2E 65 61 63 68 28 66 75 6E 63 74 69    keys.each(functi
000111a0: 6F 6E 28 45 29 20 7B 0A 20 20 20 20 20 20 20 20    on(E).{.........
000111b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000111c0: 20 20 20 20 20 74 68 69 73 2E 61 64 64 45 76 65    .....this.addEve
000111d0: 6E 74 28 41 2C 20 45 29 0A 20 20 20 20 20 20 20    nt(A,.E)........
000111e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000111f0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00011200: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00011210: 74 68 69 73 29 0A 20 20 20 20 20 20 20 20 20 20    this)...........
00011220: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00011230: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00011240: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
00011250: 73 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    s..........}....
00011260: 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 6C 65 6D 65    ..}...);...Eleme
00011270: 6E 74 2E 4E 61 74 69 76 65 45 76 65 6E 74 73 3D    nt.NativeEvents=
00011280: 20 7B 0A 20 20 20 20 20 63 6C 69 63 6B 3A 20 32    .{......click:.2
00011290: 2C 20 64 62 6C 63 6C 69 63 6B 3A 32 2C 20 6D 6F    ,.dblclick:2,.mo
000112a0: 75 73 65 75 70 3A 32 2C 20 6D 6F 75 73 65 64 6F    useup:2,.mousedo
000112b0: 77 6E 3A 32 2C 20 63 6F 6E 74 65 78 74 6D 65 6E    wn:2,.contextmen
000112c0: 75 3A 32 2C 20 6D 6F 75 73 65 77 68 65 65 6C 3A    u:2,.mousewheel:
000112d0: 32 2C 20 44 4F 4D 4D 6F 75 73 65 53 63 72 6F 6C    2,.DOMMouseScrol
000112e0: 6C 3A 32 2C 20 6D 6F 75 73 65 6F 76 65 72 3A 32    l:2,.mouseover:2
000112f0: 2C 20 6D 6F 75 73 65 6F 75 74 3A 32 2C 20 6D 6F    ,.mouseout:2,.mo
00011300: 75 73 65 6D 6F 76 65 3A 32 2C 20 73 65 6C 65 63    usemove:2,.selec
00011310: 74 73 74 61 72 74 3A 32 2C 20 73 65 6C 65 63 74    tstart:2,.select
00011320: 65 6E 64 3A 32 2C 20 6B 65 79 64 6F 77 6E 3A 32    end:2,.keydown:2
00011330: 2C 20 6B 65 79 70 72 65 73 73 3A 32 2C 20 6B 65    ,.keypress:2,.ke
00011340: 79 75 70 3A 32 2C 20 66 6F 63 75 73 3A 32 2C 20    yup:2,.focus:2,.
00011350: 62 6C 75 72 3A 32 2C 20 63 68 61 6E 67 65 3A 32    blur:2,.change:2
00011360: 2C 20 72 65 73 65 74 3A 32 2C 20 73 65 6C 65 63    ,.reset:2,.selec
00011370: 74 3A 32 2C 20 73 75 62 6D 69 74 3A 32 2C 20 6C    t:2,.submit:2,.l
00011380: 6F 61 64 3A 31 2C 20 75 6E 6C 6F 61 64 3A 31 2C    oad:1,.unload:1,
00011390: 20 62 65 66 6F 72 65 75 6E 6C 6F 61 64 3A 32 2C    .beforeunload:2,
000113a0: 20 72 65 73 69 7A 65 3A 31 2C 20 6D 6F 76 65 3A    .resize:1,.move:
000113b0: 31 2C 20 44 4F 4D 43 6F 6E 74 65 6E 74 4C 6F 61    1,.DOMContentLoa
000113c0: 64 65 64 3A 31 2C 20 72 65 61 64 79 73 74 61 74    ded:1,.readystat
000113d0: 65 63 68 61 6E 67 65 3A 31 2C 20 65 72 72 6F 72    echange:1,.error
000113e0: 3A 31 2C 20 61 62 6F 72 74 3A 31 2C 20 73 63 72    :1,.abort:1,.scr
000113f0: 6F 6C 6C 3A 31 0A 20 7D 0A 0A 20 3B 0A 0A 20 28    oll:1..}...;...(
00011400: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
00011410: 20 20 20 20 20 20 76 61 72 20 41 3D 66 75 6E 63    ......var.A=func
00011420: 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20 20    tion(B).{.......
00011430: 20 20 20 20 20 20 20 76 61 72 20 43 3D 42 2E 72    .......var.C=B.r
00011440: 65 6C 61 74 65 64 54 61 72 67 65 74 3B 20 69 66    elatedTarget;.if
00011450: 28 43 3D 3D 75 6E 64 65 66 69 6E 65 64 29 20 7B    (C==undefined).{
00011460: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011470: 20 20 72 65 74 75 72 6E 20 21 30 0A 20 20 20 20    ..return.!0.....
00011480: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00011490: 20 20 20 20 20 20 20 20 20 69 66 28 43 3D 3D 3D    .........if(C===
000114a0: 20 21 31 29 20 7B 0A 20 20 20 20 20 20 20 20 20    .!1).{..........
000114b0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 21    ........return.!
000114c0: 31 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    1..............}
000114d0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
000114e0: 65 74 75 72 6E 28 24 74 79 70 65 28 74 68 69 73    eturn($type(this
000114f0: 29 20 21 3D 22 64 6F 63 75 6D 65 6E 74 22 26 26    ).!="document"&&
00011500: 43 20 21 3D 74 68 69 73 26 26 43 2E 70 72 65 66    C.!=this&&C.pref
00011510: 69 78 20 21 3D 22 78 75 6C 22 26 26 20 21 74 68    ix.!="xul"&&.!th
00011520: 69 73 2E 68 61 73 43 68 69 6C 64 28 43 29 29 0A    is.hasChild(C)).
00011530: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00011540: 20 20 20 20 20 3B 20 45 6C 65 6D 65 6E 74 2E 45    .....;.Element.E
00011550: 76 65 6E 74 73 3D 6E 65 77 20 48 61 73 68 28 20    vents=new.Hash(.
00011560: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00011570: 20 20 20 6D 6F 75 73 65 65 6E 74 65 72 3A 20 7B    ...mouseenter:.{
00011580: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011590: 20 20 20 20 20 20 62 61 73 65 3A 22 6D 6F 75 73    ......base:"mous
000115a0: 65 6F 76 65 72 22 2C 20 63 6F 6E 64 69 74 69 6F    eover",.conditio
000115b0: 6E 3A 41 0A 20 20 20 20 20 20 20 20 20 20 20 20    n:A.............
000115c0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000115d0: 20 20 20 20 20 20 20 20 20 2C 20 6D 6F 75 73 65    .........,.mouse
000115e0: 6C 65 61 76 65 3A 20 7B 0A 20 20 20 20 20 20 20    leave:.{........
000115f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 62 61    ..............ba
00011600: 73 65 3A 22 6D 6F 75 73 65 6F 75 74 22 2C 20 63    se:"mouseout",.c
00011610: 6F 6E 64 69 74 69 6F 6E 3A 41 0A 20 20 20 20 20    ondition:A......
00011620: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00011630: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011640: 2C 20 6D 6F 75 73 65 77 68 65 65 6C 3A 20 7B 0A    ,.mousewheel:.{.
00011650: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011660: 20 20 20 20 20 62 61 73 65 3A 28 42 72 6F 77 73    .....base:(Brows
00011670: 65 72 2E 45 6E 67 69 6E 65 2E 67 65 63 6B 6F 29    er.Engine.gecko)
00011680: 3F 22 44 4F 4D 4D 6F 75 73 65 53 63 72 6F 6C 6C    ?"DOMMouseScroll
00011690: 22 3A 22 6D 6F 75 73 65 77 68 65 65 6C 22 0A 20    ":"mousewheel"..
000116a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000116b0: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    }..............}
000116c0: 0A 0A 20 20 20 20 20 20 20 20 20 29 0A 20 20 20    ...........)....
000116d0: 20 20 7D 0A 0A 20 29 28 29 3B 0A 0A 20 45 6C 65    ..}...)();...Ele
000116e0: 6D 65 6E 74 2E 50 72 6F 70 65 72 74 69 65 73 2E    ment.Properties.
000116f0: 73 74 79 6C 65 73 3D 20 7B 0A 20 20 20 20 20 73    styles=.{......s
00011700: 65 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B    et:function(A).{
00011710: 0A 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 73    ..........this.s
00011720: 65 74 53 74 79 6C 65 73 28 41 29 0A 20 20 20 20    etStyles(A).....
00011730: 20 7D 0A 20 7D 0A 0A 20 3B 0A 0A 20 45 6C 65 6D    .}..}...;...Elem
00011740: 65 6E 74 2E 50 72 6F 70 65 72 74 69 65 73 2E 6F    ent.Properties.o
00011750: 70 61 63 69 74 79 3D 20 7B 0A 20 20 20 20 20 73    pacity=.{......s
00011760: 65 74 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 42    et:function(A,.B
00011770: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 69 66 28    ).{..........if(
00011780: 20 21 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    .!B).{..........
00011790: 20 20 20 20 69 66 28 41 3D 3D 30 29 20 7B 0A 20    ....if(A==0).{..
000117a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000117b0: 69 66 28 74 68 69 73 2E 73 74 79 6C 65 2E 76 69    if(this.style.vi
000117c0: 73 69 62 69 6C 69 74 79 20 21 3D 22 68 69 64 64    sibility.!="hidd
000117d0: 65 6E 22 29 20 7B 0A 20 20 20 20 20 20 20 20 20    en").{..........
000117e0: 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73    ............this
000117f0: 2E 73 74 79 6C 65 2E 76 69 73 69 62 69 6C 69 74    .style.visibilit
00011800: 79 3D 22 68 69 64 64 65 6E 22 0A 20 20 20 20 20    y="hidden"......
00011810: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
00011820: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00011830: 20 20 20 20 20 20 20 20 20 20 20 65 6C 73 65 20    ...........else.
00011840: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00011850: 20 20 20 69 66 28 74 68 69 73 2E 73 74 79 6C 65    ...if(this.style
00011860: 2E 76 69 73 69 62 69 6C 69 74 79 20 21 3D 22 76    .visibility.!="v
00011870: 69 73 69 62 6C 65 22 29 20 7B 0A 20 20 20 20 20    isible").{......
00011880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011890: 74 68 69 73 2E 73 74 79 6C 65 2E 76 69 73 69 62    this.style.visib
000118a0: 69 6C 69 74 79 3D 22 76 69 73 69 62 6C 65 22 0A    ility="visible".
000118b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000118c0: 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000118d0: 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    }..........}....
000118e0: 20 20 20 20 20 20 20 69 66 28 20 21 74 68 69 73    .......if(.!this
000118f0: 2E 63 75 72 72 65 6E 74 53 74 79 6C 65 7C 7C 20    .currentStyle||.
00011900: 21 74 68 69 73 2E 63 75 72 72 65 6E 74 53 74 79    !this.currentSty
00011910: 6C 65 2E 68 61 73 4C 61 79 6F 75 74 29 20 7B 0A    le.hasLayout).{.
00011920: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
00011930: 73 2E 73 74 79 6C 65 2E 7A 6F 6F 6D 3D 31 0A 20    s.style.zoom=1..
00011940: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00011950: 20 20 20 20 69 66 28 42 72 6F 77 73 65 72 2E 45    ....if(Browser.E
00011960: 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74 29 20 7B    ngine.trident).{
00011970: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68    ..............th
00011980: 69 73 2E 73 74 79 6C 65 2E 66 69 6C 74 65 72 3D    is.style.filter=
00011990: 28 41 3D 3D 31 29 3F 22 22 3A 20 22 61 6C 70 68    (A==1)?"":."alph
000119a0: 61 28 6F 70 61 63 69 74 79 3D 22 2B 41 2A 31 30    a(opacity="+A*10
000119b0: 30 2B 22 29 22 0A 20 20 20 20 20 20 20 20 20 7D    0+")"..........}
000119c0: 0A 0A 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
000119d0: 73 74 79 6C 65 2E 6F 70 61 63 69 74 79 3D 41 3B    style.opacity=A;
000119e0: 0A 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 73    ..........this.s
000119f0: 74 6F 72 65 28 22 6F 70 61 63 69 74 79 22 2C 20    tore("opacity",.
00011a00: 41 29 0A 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    A)......}.......
00011a10: 2C 0A 20 20 20 20 20 67 65 74 3A 66 75 6E 63 74    ,......get:funct
00011a20: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
00011a30: 20 72 65 74 75 72 6E 20 74 68 69 73 2E 72 65 74    .return.this.ret
00011a40: 72 69 65 76 65 28 22 6F 70 61 63 69 74 79 22 2C    rieve("opacity",
00011a50: 20 31 29 0A 20 20 20 20 20 7D 0A 20 7D 0A 0A 20    .1)......}..}...
00011a60: 3B 0A 0A 20 45 6C 65 6D 65 6E 74 2E 69 6D 70 6C    ;...Element.impl
00011a70: 65 6D 65 6E 74 28 20 7B 0A 20 20 20 20 20 20 20    ement(.{........
00011a80: 20 20 73 65 74 4F 70 61 63 69 74 79 3A 66 75 6E    ..setOpacity:fun
00011a90: 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20    ction(A).{......
00011aa0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74    ........return.t
00011ab0: 68 69 73 2E 73 65 74 28 22 6F 70 61 63 69 74 79    his.set("opacity
00011ac0: 22 2C 20 41 2C 20 20 21 30 29 0A 20 20 20 20 20    ",.A,..!0)......
00011ad0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00011ae0: 2C 20 67 65 74 4F 70 61 63 69 74 79 3A 66 75 6E    ,.getOpacity:fun
00011af0: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
00011b00: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68    .......return.th
00011b10: 69 73 2E 67 65 74 28 22 6F 70 61 63 69 74 79 22    is.get("opacity"
00011b20: 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    )..........}....
00011b30: 20 20 20 20 20 20 20 2C 20 73 65 74 53 74 79 6C    .......,.setStyl
00011b40: 65 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29    e:function(B,.A)
00011b50: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00011b60: 73 77 69 74 63 68 28 42 29 20 7B 0A 20 20 20 20    switch(B).{.....
00011b70: 20 20 20 20 20 20 20 20 20 20 20 20 20 63 61 73    .............cas
00011b80: 65 20 22 6F 70 61 63 69 74 79 22 3A 72 65 74 75    e."opacity":retu
00011b90: 72 6E 20 74 68 69 73 2E 73 65 74 28 22 6F 70 61    rn.this.set("opa
00011ba0: 63 69 74 79 22 2C 20 70 61 72 73 65 46 6C 6F 61    city",.parseFloa
00011bb0: 74 28 41 29 29 3B 20 63 61 73 65 20 22 66 6C 6F    t(A));.case."flo
00011bc0: 61 74 22 3A 42 3D 28 42 72 6F 77 73 65 72 2E 45    at":B=(Browser.E
00011bd0: 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74 29 3F 22    ngine.trident)?"
00011be0: 73 74 79 6C 65 46 6C 6F 61 74 22 3A 22 63 73 73    styleFloat":"css
00011bf0: 46 6C 6F 61 74 22 0A 20 20 20 20 20 20 20 20 20    Float"..........
00011c00: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00011c10: 20 20 20 20 42 3D 42 2E 63 61 6D 65 6C 43 61 73    ....B=B.camelCas
00011c20: 65 28 29 3B 20 69 66 28 24 74 79 70 65 28 41 29    e();.if($type(A)
00011c30: 20 21 3D 22 73 74 72 69 6E 67 22 29 20 7B 0A 20    .!="string").{..
00011c40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011c50: 76 61 72 20 43 3D 28 45 6C 65 6D 65 6E 74 2E 53    var.C=(Element.S
00011c60: 74 79 6C 65 73 2E 67 65 74 28 42 29 7C 7C 22 40    tyles.get(B)||"@
00011c70: 22 29 2E 73 70 6C 69 74 28 22 20 22 29 3B 20 41    ").split(".");.A
00011c80: 3D 24 73 70 6C 61 74 28 41 29 2E 6D 61 70 28 66    =$splat(A).map(f
00011c90: 75 6E 63 74 69 6F 6E 28 45 2C 20 44 29 20 7B 0A    unction(E,.D).{.
00011ca0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011cb0: 20 20 20 20 20 20 20 20 20 69 66 28 20 21 43 5B    .........if(.!C[
00011cc0: 44 5D 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    D]).{...........
00011cd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011ce0: 20 20 20 72 65 74 75 72 6E 22 22 0A 20 20 20 20    ...return"".....
00011cf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011d00: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00011d10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011d20: 20 72 65 74 75 72 6E 28 24 74 79 70 65 28 45 29    .return($type(E)
00011d30: 3D 3D 22 6E 75 6D 62 65 72 22 29 3F 43 5B 44 5D    =="number")?C[D]
00011d40: 2E 72 65 70 6C 61 63 65 28 22 40 22 2C 20 4D 61    .replace("@",.Ma
00011d50: 74 68 2E 72 6F 75 6E 64 28 45 29 29 3A 45 0A 20    th.round(E)):E..
00011d60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011d70: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00011d80: 20 20 20 20 20 20 20 20 29 2E 6A 6F 69 6E 28 22    ........).join("
00011d90: 20 22 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    .").............
00011da0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00011db0: 20 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20    .else.{.........
00011dc0: 20 20 20 20 20 20 20 20 20 69 66 28 41 3D 3D 53    .........if(A==S
00011dd0: 74 72 69 6E 67 28 4E 75 6D 62 65 72 28 41 29 29    tring(Number(A))
00011de0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00011df0: 20 20 20 20 20 20 20 20 20 41 3D 4D 61 74 68 2E    .........A=Math.
00011e00: 72 6F 75 6E 64 28 41 29 0A 20 20 20 20 20 20 20    round(A)........
00011e10: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
00011e20: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00011e30: 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 73 74    .........this.st
00011e40: 79 6C 65 5B 42 5D 3D 41 3B 20 72 65 74 75 72 6E    yle[B]=A;.return
00011e50: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 7D    .this..........}
00011e60: 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 67 65 74    ...........,.get
00011e70: 53 74 79 6C 65 3A 66 75 6E 63 74 69 6F 6E 28 47    Style:function(G
00011e80: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00011e90: 20 73 77 69 74 63 68 28 47 29 20 7B 0A 20 20 20    .switch(G).{....
00011ea0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 63 61    ..............ca
00011eb0: 73 65 20 22 6F 70 61 63 69 74 79 22 3A 72 65 74    se."opacity":ret
00011ec0: 75 72 6E 20 74 68 69 73 2E 67 65 74 28 22 6F 70    urn.this.get("op
00011ed0: 61 63 69 74 79 22 29 3B 20 63 61 73 65 20 22 66    acity");.case."f
00011ee0: 6C 6F 61 74 22 3A 47 3D 28 42 72 6F 77 73 65 72    loat":G=(Browser
00011ef0: 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74 29    .Engine.trident)
00011f00: 3F 22 73 74 79 6C 65 46 6C 6F 61 74 22 3A 22 63    ?"styleFloat":"c
00011f10: 73 73 46 6C 6F 61 74 22 0A 20 20 20 20 20 20 20    ssFloat"........
00011f20: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00011f30: 20 20 20 20 20 20 47 3D 47 2E 63 61 6D 65 6C 43    ......G=G.camelC
00011f40: 61 73 65 28 29 3B 20 76 61 72 20 41 3D 74 68 69    ase();.var.A=thi
00011f50: 73 2E 73 74 79 6C 65 5B 47 5D 3B 20 69 66 28 20    s.style[G];.if(.
00011f60: 21 24 63 68 6B 28 41 29 29 20 7B 0A 20 20 20 20    !$chk(A)).{.....
00011f70: 20 20 20 20 20 20 20 20 20 20 20 20 20 41 3D 5B    .............A=[
00011f80: 5D 3B 20 66 6F 72 28 76 61 72 20 46 20 69 6E 20    ];.for(var.F.in.
00011f90: 45 6C 65 6D 65 6E 74 2E 53 68 6F 72 74 53 74 79    Element.ShortSty
00011fa0: 6C 65 73 29 20 7B 0A 20 20 20 20 20 20 20 20 20    les).{..........
00011fb0: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 47    ............if(G
00011fc0: 20 21 3D 46 29 20 7B 0A 20 20 20 20 20 20 20 20    .!=F).{.........
00011fd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00011fe0: 20 63 6F 6E 74 69 6E 75 65 0A 20 20 20 20 20 20    .continue.......
00011ff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00012000: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012010: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 45    .......for(var.E
00012020: 20 69 6E 20 45 6C 65 6D 65 6E 74 2E 53 68 6F 72    .in.Element.Shor
00012030: 74 53 74 79 6C 65 73 5B 46 5D 29 20 7B 0A 20 20    tStyles[F]).{...
00012040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012050: 20 20 20 20 20 20 20 41 2E 70 75 73 68 28 74 68    .......A.push(th
00012060: 69 73 2E 67 65 74 53 74 79 6C 65 28 45 29 29 0A    is.getStyle(E)).
00012070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012080: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00012090: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
000120a0: 75 72 6E 20 41 2E 6A 6F 69 6E 28 22 20 22 29 0A    urn.A.join(".").
000120b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000120c0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000120d0: 20 20 20 20 20 41 3D 74 68 69 73 2E 67 65 74 43    .....A=this.getC
000120e0: 6F 6D 70 75 74 65 64 53 74 79 6C 65 28 47 29 0A    omputedStyle(G).
000120f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00012100: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00012110: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    A).{............
00012120: 20 20 20 20 20 20 41 3D 53 74 72 69 6E 67 28 41    ......A=String(A
00012130: 29 3B 20 76 61 72 20 43 3D 41 2E 6D 61 74 63 68    );.var.C=A.match
00012140: 28 2F 72 67 62 61 3F 5C 28 5B 5C 64 5C 73 2C 20    (/rgba?\([\d\s,.
00012150: 5D 2B 5C 29 2F 29 3B 20 69 66 28 43 29 20 7B 0A    ]+\)/);.if(C).{.
00012160: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012170: 20 20 20 20 20 41 3D 41 2E 72 65 70 6C 61 63 65    .....A=A.replace
00012180: 28 43 5B 30 5D 2C 20 43 5B 30 5D 2E 72 67 62 54    (C[0],.C[0].rgbT
00012190: 6F 48 65 78 28 29 29 0A 20 20 20 20 20 20 20 20    oHex()).........
000121a0: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
000121b0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000121c0: 20 20 20 20 20 20 20 20 69 66 28 42 72 6F 77 73    ........if(Brows
000121d0: 65 72 2E 45 6E 67 69 6E 65 2E 70 72 65 73 74 6F    er.Engine.presto
000121e0: 7C 7C 28 42 72 6F 77 73 65 72 2E 45 6E 67 69 6E    ||(Browser.Engin
000121f0: 65 2E 74 72 69 64 65 6E 74 26 26 20 21 24 63 68    e.trident&&.!$ch
00012200: 6B 28 70 61 72 73 65 49 6E 74 28 41 29 29 29 29    k(parseInt(A))))
00012210: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00012220: 20 20 20 20 69 66 28 47 2E 74 65 73 74 28 2F 5E    ....if(G.test(/^
00012230: 28 68 65 69 67 68 74 7C 77 69 64 74 68 29 24 2F    (height|width)$/
00012240: 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    )).{............
00012250: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 42 3D    ..........var.B=
00012260: 28 47 3D 3D 22 77 69 64 74 68 22 29 3F 5B 22 6C    (G=="width")?["l
00012270: 65 66 74 22 2C 20 22 72 69 67 68 74 22 5D 3A 5B    eft",."right"]:[
00012280: 22 74 6F 70 22 2C 20 22 62 6F 74 74 6F 6D 22 5D    "top",."bottom"]
00012290: 2C 20 44 3D 30 3B 20 42 2E 65 61 63 68 28 66 75    ,.D=0;.B.each(fu
000122a0: 6E 63 74 69 6F 6E 28 48 29 20 7B 0A 20 20 20 20    nction(H).{.....
000122b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000122c0: 20 20 20 20 20 20 20 20 20 44 2B 3D 74 68 69 73    .........D+=this
000122d0: 2E 67 65 74 53 74 79 6C 65 28 22 62 6F 72 64 65    .getStyle("borde
000122e0: 72 2D 22 2B 48 2B 22 2D 77 69 64 74 68 22 29 2E    r-"+H+"-width").
000122f0: 74 6F 49 6E 74 28 29 2B 74 68 69 73 2E 67 65 74    toInt()+this.get
00012300: 53 74 79 6C 65 28 22 70 61 64 64 69 6E 67 2D 22    Style("padding-"
00012310: 2B 48 29 2E 74 6F 49 6E 74 28 29 0A 20 20 20 20    +H).toInt().....
00012320: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012330: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00012340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012350: 20 2C 20 74 68 69 73 29 3B 20 72 65 74 75 72 6E    .,.this);.return
00012360: 20 74 68 69 73 5B 22 6F 66 66 73 65 74 22 2B 47    .this["offset"+G
00012370: 2E 63 61 70 69 74 61 6C 69 7A 65 28 29 5D 2D 44    .capitalize()]-D
00012380: 2B 22 70 78 22 0A 20 20 20 20 20 20 20 20 20 20    +"px"...........
00012390: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000123a0: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 42 72    ...........if(Br
000123b0: 6F 77 73 65 72 2E 45 6E 67 69 6E 65 2E 70 72 65    owser.Engine.pre
000123c0: 73 74 6F 26 26 53 74 72 69 6E 67 28 41 29 2E 74    sto&&String(A).t
000123d0: 65 73 74 28 22 70 78 22 29 29 20 7B 0A 20 20 20    est("px")).{....
000123e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000123f0: 20 20 72 65 74 75 72 6E 20 41 0A 20 20 20 20 20    ..return.A......
00012400: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00012410: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012420: 69 66 28 47 2E 74 65 73 74 28 2F 28 62 6F 72 64    if(G.test(/(bord
00012430: 65 72 28 2E 2B 29 57 69 64 74 68 7C 6D 61 72 67    er(.+)Width|marg
00012440: 69 6E 7C 70 61 64 64 69 6E 67 29 2F 29 29 20 7B    in|padding)/)).{
00012450: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012460: 20 20 20 20 20 20 72 65 74 75 72 6E 22 30 70 78    ......return"0px
00012470: 22 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    "...............
00012480: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20    ...}............
00012490: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000124a0: 20 20 72 65 74 75 72 6E 20 41 0A 20 20 20 20 20    ..return.A......
000124b0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
000124c0: 2C 20 73 65 74 53 74 79 6C 65 73 3A 66 75 6E 63    ,.setStyles:func
000124d0: 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20 20    tion(B).{.......
000124e0: 20 20 20 20 20 20 20 66 6F 72 28 76 61 72 20 41    .......for(var.A
000124f0: 20 69 6E 20 42 29 20 7B 0A 20 20 20 20 20 20 20    .in.B).{........
00012500: 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 73    ..........this.s
00012510: 65 74 53 74 79 6C 65 28 41 2C 20 42 5B 41 5D 29    etStyle(A,.B[A])
00012520: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00012530: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00012540: 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20    turn.this.......
00012550: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C    ...}...........,
00012560: 20 67 65 74 53 74 79 6C 65 73 3A 66 75 6E 63 74    .getStyles:funct
00012570: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
00012580: 20 20 20 20 20 76 61 72 20 41 3D 20 7B 7D 0A 0A    .....var.A=.{}..
00012590: 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 41    .............;.A
000125a0: 72 72 61 79 2E 65 61 63 68 28 61 72 67 75 6D 65    rray.each(argume
000125b0: 6E 74 73 2C 20 66 75 6E 63 74 69 6F 6E 28 42 29    nts,.function(B)
000125c0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000125d0: 20 20 20 20 20 20 20 20 41 5B 42 5D 3D 74 68 69    ........A[B]=thi
000125e0: 73 2E 67 65 74 53 74 79 6C 65 28 42 29 0A 20 20    s.getStyle(B)...
000125f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00012600: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012610: 20 20 20 2C 20 74 68 69 73 29 3B 20 72 65 74 75    ...,.this);.retu
00012620: 72 6E 20 41 0A 20 20 20 20 20 20 20 20 20 7D 0A    rn.A..........}.
00012630: 20 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 6C    .....}...);...El
00012640: 65 6D 65 6E 74 2E 53 74 79 6C 65 73 3D 6E 65 77    ement.Styles=new
00012650: 20 48 61 73 68 28 20 7B 0A 20 20 20 20 20 20 20    .Hash(.{........
00012660: 20 20 6C 65 66 74 3A 22 40 70 78 22 2C 20 74 6F    ..left:"@px",.to
00012670: 70 3A 22 40 70 78 22 2C 20 62 6F 74 74 6F 6D 3A    p:"@px",.bottom:
00012680: 22 40 70 78 22 2C 20 72 69 67 68 74 3A 22 40 70    "@px",.right:"@p
00012690: 78 22 2C 20 77 69 64 74 68 3A 22 40 70 78 22 2C    x",.width:"@px",
000126a0: 20 68 65 69 67 68 74 3A 22 40 70 78 22 2C 20 6D    .height:"@px",.m
000126b0: 61 78 57 69 64 74 68 3A 22 40 70 78 22 2C 20 6D    axWidth:"@px",.m
000126c0: 61 78 48 65 69 67 68 74 3A 22 40 70 78 22 2C 20    axHeight:"@px",.
000126d0: 6D 69 6E 57 69 64 74 68 3A 22 40 70 78 22 2C 20    minWidth:"@px",.
000126e0: 6D 69 6E 48 65 69 67 68 74 3A 22 40 70 78 22 2C    minHeight:"@px",
000126f0: 20 62 61 63 6B 67 72 6F 75 6E 64 43 6F 6C 6F 72    .backgroundColor
00012700: 3A 22 72 67 62 28 40 2C 20 40 2C 20 40 29 22 2C    :"rgb(@,.@,.@)",
00012710: 20 62 61 63 6B 67 72 6F 75 6E 64 50 6F 73 69 74    .backgroundPosit
00012720: 69 6F 6E 3A 22 40 70 78 20 40 70 78 22 2C 20 63    ion:"@px.@px",.c
00012730: 6F 6C 6F 72 3A 22 72 67 62 28 40 2C 20 40 2C 20    olor:"rgb(@,.@,.
00012740: 40 29 22 2C 20 66 6F 6E 74 53 69 7A 65 3A 22 40    @)",.fontSize:"@
00012750: 70 78 22 2C 20 6C 65 74 74 65 72 53 70 61 63 69    px",.letterSpaci
00012760: 6E 67 3A 22 40 70 78 22 2C 20 6C 69 6E 65 48 65    ng:"@px",.lineHe
00012770: 69 67 68 74 3A 22 40 70 78 22 2C 20 63 6C 69 70    ight:"@px",.clip
00012780: 3A 22 72 65 63 74 28 40 70 78 20 40 70 78 20 40    :"rect(@px.@px.@
00012790: 70 78 20 40 70 78 29 22 2C 20 6D 61 72 67 69 6E    px.@px)",.margin
000127a0: 3A 22 40 70 78 20 40 70 78 20 40 70 78 20 40 70    :"@px.@px.@px.@p
000127b0: 78 22 2C 20 70 61 64 64 69 6E 67 3A 22 40 70 78    x",.padding:"@px
000127c0: 20 40 70 78 20 40 70 78 20 40 70 78 22 2C 20 62    .@px.@px.@px",.b
000127d0: 6F 72 64 65 72 3A 22 40 70 78 20 40 20 72 67 62    order:"@px.@.rgb
000127e0: 28 40 2C 20 40 2C 20 40 29 20 40 70 78 20 40 20    (@,.@,.@).@px.@.
000127f0: 72 67 62 28 40 2C 20 40 2C 20 40 29 20 40 70 78    rgb(@,.@,.@).@px
00012800: 20 40 20 72 67 62 28 40 2C 20 40 2C 20 40 29 22    .@.rgb(@,.@,.@)"
00012810: 2C 20 62 6F 72 64 65 72 57 69 64 74 68 3A 22 40    ,.borderWidth:"@
00012820: 70 78 20 40 70 78 20 40 70 78 20 40 70 78 22 2C    px.@px.@px.@px",
00012830: 20 62 6F 72 64 65 72 53 74 79 6C 65 3A 22 40 20    .borderStyle:"@.
00012840: 40 20 40 20 40 22 2C 20 62 6F 72 64 65 72 43 6F    @.@.@",.borderCo
00012850: 6C 6F 72 3A 22 72 67 62 28 40 2C 20 40 2C 20 40    lor:"rgb(@,.@,.@
00012860: 29 20 72 67 62 28 40 2C 20 40 2C 20 40 29 20 72    ).rgb(@,.@,.@).r
00012870: 67 62 28 40 2C 20 40 2C 20 40 29 20 72 67 62 28    gb(@,.@,.@).rgb(
00012880: 40 2C 20 40 2C 20 40 29 22 2C 20 7A 49 6E 64 65    @,.@,.@)",.zInde
00012890: 78 3A 22 40 22 2C 20 7A 6F 6F 6D 3A 22 40 22 2C    x:"@",.zoom:"@",
000128a0: 20 66 6F 6E 74 57 65 69 67 68 74 3A 22 40 22 2C    .fontWeight:"@",
000128b0: 20 74 65 78 74 49 6E 64 65 6E 74 3A 22 40 70 78    .textIndent:"@px
000128c0: 22 2C 20 6F 70 61 63 69 74 79 3A 22 40 22 0A 20    ",.opacity:"@"..
000128d0: 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 45 6C 65    ....}...);...Ele
000128e0: 6D 65 6E 74 2E 53 68 6F 72 74 53 74 79 6C 65 73    ment.ShortStyles
000128f0: 3D 20 7B 0A 20 20 20 20 20 6D 61 72 67 69 6E 3A    =.{......margin:
00012900: 20 7B 7D 0A 0A 20 20 20 20 20 2C 0A 20 20 20 20    .{}.......,.....
00012910: 20 70 61 64 64 69 6E 67 3A 20 7B 7D 0A 0A 20 20    .padding:.{}....
00012920: 20 20 20 2C 0A 20 20 20 20 20 62 6F 72 64 65 72    ...,......border
00012930: 3A 20 7B 7D 0A 0A 20 20 20 20 20 2C 0A 20 20 20    :.{}.......,....
00012940: 20 20 62 6F 72 64 65 72 57 69 64 74 68 3A 20 7B    ..borderWidth:.{
00012950: 7D 0A 0A 20 20 20 20 20 2C 0A 20 20 20 20 20 62    }.......,......b
00012960: 6F 72 64 65 72 53 74 79 6C 65 3A 20 7B 7D 0A 0A    orderStyle:.{}..
00012970: 20 20 20 20 20 2C 0A 20 20 20 20 20 62 6F 72 64    .....,......bord
00012980: 65 72 43 6F 6C 6F 72 3A 20 7B 7D 0A 20 7D 0A 0A    erColor:.{}..}..
00012990: 20 3B 0A 0A 20 5B 22 54 6F 70 22 2C 0A 20 22 52    .;...["Top",.."R
000129a0: 69 67 68 74 22 2C 0A 20 22 42 6F 74 74 6F 6D 22    ight",.."Bottom"
000129b0: 2C 0A 20 22 4C 65 66 74 22 5D 2E 65 61 63 68 28    ,.."Left"].each(
000129c0: 66 75 6E 63 74 69 6F 6E 28 47 29 20 7B 0A 20 20    function(G).{...
000129d0: 20 20 20 20 20 20 20 76 61 72 20 46 3D 45 6C 65    .......var.F=Ele
000129e0: 6D 65 6E 74 2E 53 68 6F 72 74 53 74 79 6C 65 73    ment.ShortStyles
000129f0: 3B 20 76 61 72 20 42 3D 45 6C 65 6D 65 6E 74 2E    ;.var.B=Element.
00012a00: 53 74 79 6C 65 73 3B 20 5B 22 6D 61 72 67 69 6E    Styles;.["margin
00012a10: 22 2C 20 22 70 61 64 64 69 6E 67 22 5D 2E 65 61    ",."padding"].ea
00012a20: 63 68 28 66 75 6E 63 74 69 6F 6E 28 48 29 20 7B    ch(function(H).{
00012a30: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012a40: 20 20 76 61 72 20 49 3D 48 2B 47 3B 20 46 5B 48    ..var.I=H+G;.F[H
00012a50: 5D 5B 49 5D 3D 42 5B 49 5D 3D 22 40 70 78 22 0A    ][I]=B[I]="@px".
00012a60: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00012a70: 20 20 20 20 20 20 20 20 20 29 3B 20 76 61 72 20    .........);.var.
00012a80: 45 3D 22 62 6F 72 64 65 72 22 2B 47 3B 20 46 2E    E="border"+G;.F.
00012a90: 62 6F 72 64 65 72 5B 45 5D 3D 42 5B 45 5D 3D 22    border[E]=B[E]="
00012aa0: 40 70 78 20 40 20 72 67 62 28 40 2C 20 40 2C 20    @px.@.rgb(@,.@,.
00012ab0: 40 29 22 3B 20 76 61 72 20 44 3D 45 2B 22 57 69    @)";.var.D=E+"Wi
00012ac0: 64 74 68 22 2C 20 41 3D 45 2B 22 53 74 79 6C 65    dth",.A=E+"Style
00012ad0: 22 2C 20 43 3D 45 2B 22 43 6F 6C 6F 72 22 3B 20    ",.C=E+"Color";.
00012ae0: 46 5B 45 5D 3D 20 7B 7D 0A 0A 20 20 20 20 20 20    F[E]=.{}........
00012af0: 20 20 20 3B 20 46 2E 62 6F 72 64 65 72 57 69 64    ...;.F.borderWid
00012b00: 74 68 5B 44 5D 3D 46 5B 45 5D 5B 44 5D 3D 42 5B    th[D]=F[E][D]=B[
00012b10: 44 5D 3D 22 40 70 78 22 3B 20 46 2E 62 6F 72 64    D]="@px";.F.bord
00012b20: 65 72 53 74 79 6C 65 5B 41 5D 3D 46 5B 45 5D 5B    erStyle[A]=F[E][
00012b30: 41 5D 3D 42 5B 41 5D 3D 22 40 22 3B 20 46 2E 62    A]=B[A]="@";.F.b
00012b40: 6F 72 64 65 72 43 6F 6C 6F 72 5B 43 5D 3D 46 5B    orderColor[C]=F[
00012b50: 45 5D 5B 43 5D 3D 42 5B 43 5D 3D 22 72 67 62 28    E][C]=B[C]="rgb(
00012b60: 40 2C 20 40 2C 20 40 29 22 0A 20 20 20 20 20 7D    @,.@,.@)"......}
00012b70: 0A 0A 20 29 3B 0A 0A 20 28 66 75 6E 63 74 69 6F    ...);...(functio
00012b80: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 45    n().{..........E
00012b90: 6C 65 6D 65 6E 74 2E 69 6D 70 6C 65 6D 65 6E 74    lement.implement
00012ba0: 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    (.{.............
00012bb0: 20 20 20 20 20 73 63 72 6F 6C 6C 54 6F 3A 66 75    .....scrollTo:fu
00012bc0: 6E 63 74 69 6F 6E 28 48 2C 20 49 29 20 7B 0A 20    nction(H,.I).{..
00012bd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012be0: 20 20 20 20 69 66 28 42 28 74 68 69 73 29 29 20    ....if(B(this)).
00012bf0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00012c00: 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
00012c10: 67 65 74 57 69 6E 64 6F 77 28 29 2E 73 63 72 6F    getWindow().scro
00012c20: 6C 6C 54 6F 28 48 2C 20 49 29 0A 20 20 20 20 20    llTo(H,.I)......
00012c30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012c40: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00012c50: 20 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A 20    ........else.{..
00012c60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012c70: 20 20 20 20 20 20 20 20 74 68 69 73 2E 73 63 72    ........this.scr
00012c80: 6F 6C 6C 4C 65 66 74 3D 48 3B 20 74 68 69 73 2E    ollLeft=H;.this.
00012c90: 73 63 72 6F 6C 6C 54 6F 70 3D 49 0A 20 20 20 20    scrollTop=I.....
00012ca0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012cb0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00012cc0: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
00012cd0: 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20 20    this............
00012ce0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00012cf0: 20 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 53    ..........,.getS
00012d00: 69 7A 65 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B    ize:function().{
00012d10: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012d20: 20 20 20 20 20 20 69 66 28 42 28 74 68 69 73 29    ......if(B(this)
00012d30: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00012d40: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00012d50: 75 72 6E 20 74 68 69 73 2E 67 65 74 57 69 6E 64    urn.this.getWind
00012d60: 6F 77 28 29 2E 67 65 74 53 69 7A 65 28 29 0A 20    ow().getSize()..
00012d70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012d80: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00012d90: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00012da0: 72 6E 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    rn.{............
00012db0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 78 3A    ..............x:
00012dc0: 74 68 69 73 2E 6F 66 66 73 65 74 57 69 64 74 68    this.offsetWidth
00012dd0: 2C 20 79 3A 74 68 69 73 2E 6F 66 66 73 65 74 48    ,.y:this.offsetH
00012de0: 65 69 67 68 74 0A 20 20 20 20 20 20 20 20 20 20    eight...........
00012df0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00012e00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00012e10: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012e20: 20 20 2C 20 67 65 74 53 63 72 6F 6C 6C 53 69 7A    ..,.getScrollSiz
00012e30: 65 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    e:function().{..
00012e40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012e50: 20 20 20 20 69 66 28 42 28 74 68 69 73 29 29 20    ....if(B(this)).
00012e60: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00012e70: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00012e80: 6E 20 74 68 69 73 2E 67 65 74 57 69 6E 64 6F 77    n.this.getWindow
00012e90: 28 29 2E 67 65 74 53 63 72 6F 6C 6C 53 69 7A 65    ().getScrollSize
00012ea0: 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ()..............
00012eb0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00012ec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012ed0: 72 65 74 75 72 6E 20 7B 0A 20 20 20 20 20 20 20    return.{........
00012ee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012ef0: 20 20 78 3A 74 68 69 73 2E 73 63 72 6F 6C 6C 57    ..x:this.scrollW
00012f00: 69 64 74 68 2C 20 79 3A 74 68 69 73 2E 73 63 72    idth,.y:this.scr
00012f10: 6F 6C 6C 48 65 69 67 68 74 0A 20 20 20 20 20 20    ollHeight.......
00012f20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00012f30: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012f40: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00012f50: 20 20 20 20 20 20 2C 20 67 65 74 53 63 72 6F 6C    ......,.getScrol
00012f60: 6C 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    l:function().{..
00012f70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012f80: 20 20 20 20 69 66 28 42 28 74 68 69 73 29 29 20    ....if(B(this)).
00012f90: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00012fa0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00012fb0: 6E 20 74 68 69 73 2E 67 65 74 57 69 6E 64 6F 77    n.this.getWindow
00012fc0: 28 29 2E 67 65 74 53 63 72 6F 6C 6C 28 29 0A 20    ().getScroll()..
00012fd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00012fe0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00012ff0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00013000: 72 6E 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    rn.{............
00013010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 78 3A    ..............x:
00013020: 74 68 69 73 2E 73 63 72 6F 6C 6C 4C 65 66 74 2C    this.scrollLeft,
00013030: 20 79 3A 74 68 69 73 2E 73 63 72 6F 6C 6C 54 6F    .y:this.scrollTo
00013040: 70 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    p...............
00013050: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00013060: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00013070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00013080: 67 65 74 53 63 72 6F 6C 6C 73 3A 66 75 6E 63 74    getScrolls:funct
00013090: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
000130a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
000130b0: 20 49 3D 74 68 69 73 2C 20 48 3D 20 7B 0A 20 20    .I=this,.H=.{...
000130c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000130d0: 20 20 20 20 20 20 20 78 3A 30 2C 20 79 3A 30 0A    .......x:0,.y:0.
000130e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000130f0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00013100: 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 77    .............;.w
00013110: 68 69 6C 65 28 49 26 26 20 21 42 28 49 29 29 20    hile(I&&.!B(I)).
00013120: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00013130: 20 20 20 20 20 20 20 20 20 20 20 48 2E 78 2B 3D    ...........H.x+=
00013140: 49 2E 73 63 72 6F 6C 6C 4C 65 66 74 3B 20 48 2E    I.scrollLeft;.H.
00013150: 79 2B 3D 49 2E 73 63 72 6F 6C 6C 54 6F 70 3B 20    y+=I.scrollTop;.
00013160: 49 3D 49 2E 70 61 72 65 6E 74 4E 6F 64 65 0A 20    I=I.parentNode..
00013170: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013180: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00013190: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
000131a0: 72 6E 20 48 0A 20 20 20 20 20 20 20 20 20 20 20    rn.H............
000131b0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
000131c0: 20 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 4F    ..........,.getO
000131d0: 66 66 73 65 74 50 61 72 65 6E 74 3A 66 75 6E 63    ffsetParent:func
000131e0: 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20    tion().{........
000131f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61    ..............va
00013200: 72 20 48 3D 74 68 69 73 3B 20 69 66 28 42 28 48    r.H=this;.if(B(H
00013210: 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    )).{............
00013220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00013230: 74 75 72 6E 20 6E 75 6C 6C 0A 20 20 20 20 20 20    turn.null.......
00013240: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00013250: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013260: 20 20 20 20 20 20 20 69 66 28 20 21 42 72 6F 77    .......if(.!Brow
00013270: 73 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65    ser.Engine.tride
00013280: 6E 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    nt).{...........
00013290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
000132a0: 65 74 75 72 6E 20 48 2E 6F 66 66 73 65 74 50 61    eturn.H.offsetPa
000132b0: 72 65 6E 74 0A 20 20 20 20 20 20 20 20 20 20 20    rent............
000132c0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000132d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000132e0: 20 20 77 68 69 6C 65 28 28 48 3D 48 2E 70 61 72    ..while((H=H.par
000132f0: 65 6E 74 4E 6F 64 65 29 26 26 20 21 42 28 48 29    entNode)&&.!B(H)
00013300: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00013310: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00013320: 44 28 48 2C 20 22 70 6F 73 69 74 69 6F 6E 22 29    D(H,."position")
00013330: 20 21 3D 22 73 74 61 74 69 63 22 29 20 7B 0A 20    .!="static").{..
00013340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013350: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00013360: 72 6E 20 48 0A 20 20 20 20 20 20 20 20 20 20 20    rn.H............
00013370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00013380: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013390: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000133a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
000133b0: 75 72 6E 20 6E 75 6C 6C 0A 20 20 20 20 20 20 20    urn.null........
000133c0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000133d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
000133e0: 67 65 74 4F 66 66 73 65 74 73 3A 66 75 6E 63 74    getOffsets:funct
000133f0: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
00013400: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
00013410: 20 49 3D 74 68 69 73 2C 20 48 3D 20 7B 0A 20 20    .I=this,.H=.{...
00013420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013430: 20 20 20 20 20 20 20 78 3A 30 2C 20 79 3A 30 0A    .......x:0,.y:0.
00013440: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013450: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00013460: 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 69    .............;.i
00013470: 66 28 42 28 74 68 69 73 29 29 20 7B 0A 20 20 20    f(B(this)).{....
00013480: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013490: 20 20 20 20 20 20 72 65 74 75 72 6E 20 48 0A 20    ......return.H..
000134a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000134b0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
000134c0: 20 20 20 20 20 20 20 20 20 20 20 20 77 68 69 6C    ............whil
000134d0: 65 28 49 26 26 20 21 42 28 49 29 29 20 7B 0A 20    e(I&&.!B(I)).{..
000134e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000134f0: 20 20 20 20 20 20 20 20 48 2E 78 2B 3D 49 2E 6F    ........H.x+=I.o
00013500: 66 66 73 65 74 4C 65 66 74 3B 20 48 2E 79 2B 3D    ffsetLeft;.H.y+=
00013510: 49 2E 6F 66 66 73 65 74 54 6F 70 3B 20 69 66 28    I.offsetTop;.if(
00013520: 42 72 6F 77 73 65 72 2E 45 6E 67 69 6E 65 2E 67    Browser.Engine.g
00013530: 65 63 6B 6F 29 20 7B 0A 20 20 20 20 20 20 20 20    ecko).{.........
00013540: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013550: 20 20 20 20 20 69 66 28 20 21 46 28 49 29 29 20    .....if(.!F(I)).
00013560: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00013570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013580: 20 20 20 48 2E 78 2B 3D 43 28 49 29 3B 20 48 2E    ...H.x+=C(I);.H.
00013590: 79 2B 3D 47 28 49 29 0A 20 20 20 20 20 20 20 20    y+=G(I).........
000135a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000135b0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000135c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000135d0: 20 20 20 20 20 76 61 72 20 4A 3D 49 2E 70 61 72    .....var.J=I.par
000135e0: 65 6E 74 4E 6F 64 65 3B 20 69 66 28 4A 26 26 44    entNode;.if(J&&D
000135f0: 28 4A 2C 20 22 6F 76 65 72 66 6C 6F 77 22 29 20    (J,."overflow").
00013600: 21 3D 22 76 69 73 69 62 6C 65 22 29 20 7B 0A 20    !="visible").{..
00013610: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013630: 48 2E 78 2B 3D 43 28 4A 29 3B 20 48 2E 79 2B 3D    H.x+=C(J);.H.y+=
00013640: 47 28 4A 29 0A 20 20 20 20 20 20 20 20 20 20 20    G(J)............
00013650: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013660: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00013670: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00013680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013690: 20 20 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A    .........else.{.
000136a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000136b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
000136c0: 49 20 21 3D 74 68 69 73 26 26 28 42 72 6F 77 73    I.!=this&&(Brows
000136d0: 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E    er.Engine.triden
000136e0: 74 7C 7C 42 72 6F 77 73 65 72 2E 45 6E 67 69 6E    t||Browser.Engin
000136f0: 65 2E 77 65 62 6B 69 74 29 29 20 7B 0A 20 20 20    e.webkit)).{....
00013700: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 48 2E    ..............H.
00013720: 78 2B 3D 43 28 49 29 3B 20 48 2E 79 2B 3D 47 28    x+=C(I);.H.y+=G(
00013730: 49 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    I)..............
00013740: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013750: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00013760: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00013770: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013780: 20 20 20 20 20 20 20 49 3D 49 2E 6F 66 66 73 65    .......I=I.offse
00013790: 74 50 61 72 65 6E 74 3B 20 69 66 28 42 72 6F 77    tParent;.if(Brow
000137a0: 73 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64 65    ser.Engine.tride
000137b0: 6E 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    nt).{...........
000137c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000137d0: 20 20 20 77 68 69 6C 65 28 49 26 26 20 21 49 2E    ...while(I&&.!I.
000137e0: 63 75 72 72 65 6E 74 53 74 79 6C 65 2E 68 61 73    currentStyle.has
000137f0: 4C 61 79 6F 75 74 29 20 7B 0A 20 20 20 20 20 20    Layout).{.......
00013800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013810: 20 20 20 20 20 20 20 20 20 20 20 49 3D 49 2E 6F    ...........I=I.o
00013820: 66 66 73 65 74 50 61 72 65 6E 74 0A 20 20 20 20    ffsetParent.....
00013830: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013840: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
00013850: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013860: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
00013870: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00013880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013890: 20 20 20 69 66 28 42 72 6F 77 73 65 72 2E 45 6E    ...if(Browser.En
000138a0: 67 69 6E 65 2E 67 65 63 6B 6F 26 26 20 21 46 28    gine.gecko&&.!F(
000138b0: 74 68 69 73 29 29 20 7B 0A 20 20 20 20 20 20 20    this)).{........
000138c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000138d0: 20 20 48 2E 78 2D 3D 43 28 74 68 69 73 29 3B 20    ..H.x-=C(this);.
000138e0: 48 2E 79 2D 3D 47 28 74 68 69 73 29 0A 20 20 20    H.y-=G(this)....
000138f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013900: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00013910: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00013920: 20 48 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .H..............
00013930: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00013940: 20 20 20 20 20 20 20 20 2C 20 67 65 74 50 6F 73    ........,.getPos
00013950: 69 74 69 6F 6E 3A 66 75 6E 63 74 69 6F 6E 28 4B    ition:function(K
00013960: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00013970: 20 20 20 20 20 20 20 20 20 69 66 28 42 28 74 68    .........if(B(th
00013980: 69 73 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20    is)).{..........
00013990: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000139a0: 72 65 74 75 72 6E 20 7B 0A 20 20 20 20 20 20 20    return.{........
000139b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000139c0: 20 20 20 20 20 20 78 3A 30 2C 20 79 3A 30 0A 20    ......x:0,.y:0..
000139d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000139e0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
000139f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00013a00: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013a10: 20 20 20 20 20 20 20 76 61 72 20 4C 3D 74 68 69    .......var.L=thi
00013a20: 73 2E 67 65 74 4F 66 66 73 65 74 73 28 29 2C 20    s.getOffsets(),.
00013a30: 49 3D 74 68 69 73 2E 67 65 74 53 63 72 6F 6C 6C    I=this.getScroll
00013a40: 73 28 29 3B 20 76 61 72 20 48 3D 20 7B 0A 20 20    s();.var.H=.{...
00013a50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013a60: 20 20 20 20 20 20 20 78 3A 4C 2E 78 2D 49 2E 78    .......x:L.x-I.x
00013a70: 2C 20 79 3A 4C 2E 79 2D 49 2E 79 0A 20 20 20 20    ,.y:L.y-I.y.....
00013a80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013a90: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00013aa0: 20 20 20 20 20 20 20 20 20 3B 20 76 61 72 20 4A    .........;.var.J
00013ab0: 3D 28 4B 26 26 28 4B 3D 24 28 4B 29 29 29 3F 4B    =(K&&(K=$(K)))?K
00013ac0: 2E 67 65 74 50 6F 73 69 74 69 6F 6E 28 29 3A 20    .getPosition():.
00013ad0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00013ae0: 20 20 20 20 20 20 20 20 20 20 20 78 3A 30 2C 20    ...........x:0,.
00013af0: 79 3A 30 0A 20 20 20 20 20 20 20 20 20 20 20 20    y:0.............
00013b00: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00013b10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013b20: 20 3B 20 72 65 74 75 72 6E 20 7B 0A 20 20 20 20    .;.return.{.....
00013b30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013b40: 20 20 20 20 20 78 3A 48 2E 78 2D 4A 2E 78 2C 20    .....x:H.x-J.x,.
00013b50: 79 3A 48 2E 79 2D 4A 2E 79 0A 20 20 20 20 20 20    y:H.y-J.y.......
00013b60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00013b70: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013b80: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00013b90: 20 20 20 20 20 20 2C 20 67 65 74 43 6F 6F 72 64    ......,.getCoord
00013ba0: 69 6E 61 74 65 73 3A 66 75 6E 63 74 69 6F 6E 28    inates:function(
00013bb0: 4A 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    J).{............
00013bc0: 20 20 20 20 20 20 20 20 20 20 69 66 28 42 28 74    ..........if(B(t
00013bd0: 68 69 73 29 29 20 7B 0A 20 20 20 20 20 20 20 20    his)).{.........
00013be0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013bf0: 20 72 65 74 75 72 6E 20 74 68 69 73 2E 67 65 74    .return.this.get
00013c00: 57 69 6E 64 6F 77 28 29 2E 67 65 74 43 6F 6F 72    Window().getCoor
00013c10: 64 69 6E 61 74 65 73 28 29 0A 20 20 20 20 20 20    dinates().......
00013c20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00013c30: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013c40: 20 20 20 20 20 20 20 76 61 72 20 48 3D 74 68 69    .......var.H=thi
00013c50: 73 2E 67 65 74 50 6F 73 69 74 69 6F 6E 28 4A 29    s.getPosition(J)
00013c60: 2C 20 49 3D 74 68 69 73 2E 67 65 74 53 69 7A 65    ,.I=this.getSize
00013c70: 28 29 3B 20 76 61 72 20 4B 3D 20 7B 0A 20 20 20    ();.var.K=.{....
00013c80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013c90: 20 20 20 20 20 20 6C 65 66 74 3A 48 2E 78 2C 20    ......left:H.x,.
00013ca0: 74 6F 70 3A 48 2E 79 2C 20 77 69 64 74 68 3A 49    top:H.y,.width:I
00013cb0: 2E 78 2C 20 68 65 69 67 68 74 3A 49 2E 79 0A 20    .x,.height:I.y..
00013cc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013cd0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00013ce0: 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 4B 2E    ............;.K.
00013cf0: 72 69 67 68 74 3D 4B 2E 6C 65 66 74 2B 4B 2E 77    right=K.left+K.w
00013d00: 69 64 74 68 3B 20 4B 2E 62 6F 74 74 6F 6D 3D 4B    idth;.K.bottom=K
00013d10: 2E 74 6F 70 2B 4B 2E 68 65 69 67 68 74 3B 20 72    .top+K.height;.r
00013d20: 65 74 75 72 6E 20 4B 0A 20 20 20 20 20 20 20 20    eturn.K.........
00013d30: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00013d40: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 63    .............,.c
00013d50: 6F 6D 70 75 74 65 50 6F 73 69 74 69 6F 6E 3A 66    omputePosition:f
00013d60: 75 6E 63 74 69 6F 6E 28 48 29 20 7B 0A 20 20 20    unction(H).{....
00013d70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013d80: 20 20 72 65 74 75 72 6E 20 7B 0A 20 20 20 20 20    ..return.{......
00013d90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013da0: 20 20 20 20 6C 65 66 74 3A 48 2E 78 2D 45 28 74    ....left:H.x-E(t
00013db0: 68 69 73 2C 20 22 6D 61 72 67 69 6E 2D 6C 65 66    his,."margin-lef
00013dc0: 74 22 29 2C 20 74 6F 70 3A 48 2E 79 2D 45 28 74    t"),.top:H.y-E(t
00013dd0: 68 69 73 2C 20 22 6D 61 72 67 69 6E 2D 74 6F 70    his,."margin-top
00013de0: 22 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ")..............
00013df0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00013e00: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00013e10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
00013e20: 20 70 6F 73 69 74 69 6F 6E 3A 66 75 6E 63 74 69    .position:functi
00013e30: 6F 6E 28 48 29 20 7B 0A 20 20 20 20 20 20 20 20    on(H).{.........
00013e40: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00013e50: 75 72 6E 20 74 68 69 73 2E 73 65 74 53 74 79 6C    urn.this.setStyl
00013e60: 65 73 28 74 68 69 73 2E 63 6F 6D 70 75 74 65 50    es(this.computeP
00013e70: 6F 73 69 74 69 6F 6E 28 48 29 29 0A 20 20 20 20    osition(H)).....
00013e80: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20    .............}..
00013e90: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00013ea0: 20 20 20 20 20 20 20 20 29 3B 20 4E 61 74 69 76    ........);.Nativ
00013eb0: 65 2E 69 6D 70 6C 65 6D 65 6E 74 28 5B 44 6F 63    e.implement([Doc
00013ec0: 75 6D 65 6E 74 2C 20 57 69 6E 64 6F 77 5D 2C 20    ument,.Window],.
00013ed0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00013ee0: 20 20 20 67 65 74 53 69 7A 65 3A 66 75 6E 63 74    ...getSize:funct
00013ef0: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
00013f00: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
00013f10: 20 49 3D 74 68 69 73 2E 67 65 74 57 69 6E 64 6F    .I=this.getWindo
00013f20: 77 28 29 3B 20 69 66 28 42 72 6F 77 73 65 72 2E    w();.if(Browser.
00013f30: 45 6E 67 69 6E 65 2E 70 72 65 73 74 6F 7C 7C 42    Engine.presto||B
00013f40: 72 6F 77 73 65 72 2E 45 6E 67 69 6E 65 2E 77 65    rowser.Engine.we
00013f50: 62 6B 69 74 29 20 7B 0A 20 20 20 20 20 20 20 20    bkit).{.........
00013f60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013f70: 20 72 65 74 75 72 6E 20 7B 0A 20 20 20 20 20 20    .return.{.......
00013f80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013f90: 20 20 20 20 20 20 20 78 3A 49 2E 69 6E 6E 65 72    .......x:I.inner
00013fa0: 57 69 64 74 68 2C 20 79 3A 49 2E 69 6E 6E 65 72    Width,.y:I.inner
00013fb0: 48 65 69 67 68 74 0A 20 20 20 20 20 20 20 20 20    Height..........
00013fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00013fd0: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00013fe0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00013ff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
00014000: 61 72 20 48 3D 41 28 74 68 69 73 29 3B 20 72 65    ar.H=A(this);.re
00014010: 74 75 72 6E 20 7B 0A 20 20 20 20 20 20 20 20 20    turn.{..........
00014020: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014030: 78 3A 48 2E 63 6C 69 65 6E 74 57 69 64 74 68 2C    x:H.clientWidth,
00014040: 20 79 3A 48 2E 63 6C 69 65 6E 74 48 65 69 67 68    .y:H.clientHeigh
00014050: 74 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    t...............
00014060: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00014070: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00014080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00014090: 67 65 74 53 63 72 6F 6C 6C 3A 66 75 6E 63 74 69    getScroll:functi
000140a0: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
000140b0: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
000140c0: 49 3D 74 68 69 73 2E 67 65 74 57 69 6E 64 6F 77    I=this.getWindow
000140d0: 28 29 3B 20 76 61 72 20 48 3D 41 28 74 68 69 73    ();.var.H=A(this
000140e0: 29 3B 20 72 65 74 75 72 6E 20 7B 0A 20 20 20 20    );.return.{.....
000140f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014100: 20 20 20 20 20 78 3A 49 2E 70 61 67 65 58 4F 66    .....x:I.pageXOf
00014110: 66 73 65 74 7C 7C 48 2E 73 63 72 6F 6C 6C 4C 65    fset||H.scrollLe
00014120: 66 74 2C 20 79 3A 49 2E 70 61 67 65 59 4F 66 66    ft,.y:I.pageYOff
00014130: 73 65 74 7C 7C 48 2E 73 63 72 6F 6C 6C 54 6F 70    set||H.scrollTop
00014140: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014150: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
00014160: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00014170: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 67    .............,.g
00014180: 65 74 53 63 72 6F 6C 6C 53 69 7A 65 3A 66 75 6E    etScrollSize:fun
00014190: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
000141a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
000141b0: 61 72 20 49 3D 41 28 74 68 69 73 29 3B 20 76 61    ar.I=A(this);.va
000141c0: 72 20 48 3D 74 68 69 73 2E 67 65 74 53 69 7A 65    r.H=this.getSize
000141d0: 28 29 3B 20 72 65 74 75 72 6E 20 7B 0A 20 20 20    ();.return.{....
000141e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000141f0: 20 20 20 20 20 20 78 3A 4D 61 74 68 2E 6D 61 78    ......x:Math.max
00014200: 28 49 2E 73 63 72 6F 6C 6C 57 69 64 74 68 2C 20    (I.scrollWidth,.
00014210: 48 2E 78 29 2C 20 79 3A 4D 61 74 68 2E 6D 61 78    H.x),.y:Math.max
00014220: 28 49 2E 73 63 72 6F 6C 6C 48 65 69 67 68 74 2C    (I.scrollHeight,
00014230: 20 48 2E 79 29 0A 20 20 20 20 20 20 20 20 20 20    .H.y)...........
00014240: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00014250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00014260: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014270: 20 20 2C 20 67 65 74 50 6F 73 69 74 69 6F 6E 3A    ..,.getPosition:
00014280: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
00014290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000142a0: 20 20 72 65 74 75 72 6E 20 7B 0A 20 20 20 20 20    ..return.{......
000142b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000142c0: 20 20 20 20 78 3A 30 2C 20 79 3A 30 0A 20 20 20    ....x:0,.y:0....
000142d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000142e0: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000142f0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00014300: 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 43 6F    .........,.getCo
00014310: 6F 72 64 69 6E 61 74 65 73 3A 66 75 6E 63 74 69    ordinates:functi
00014320: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
00014330: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
00014340: 48 3D 74 68 69 73 2E 67 65 74 53 69 7A 65 28 29    H=this.getSize()
00014350: 3B 20 72 65 74 75 72 6E 20 7B 0A 20 20 20 20 20    ;.return.{......
00014360: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014370: 20 20 20 20 74 6F 70 3A 30 2C 20 6C 65 66 74 3A    ....top:0,.left:
00014380: 30 2C 20 62 6F 74 74 6F 6D 3A 48 2E 79 2C 20 72    0,.bottom:H.y,.r
00014390: 69 67 68 74 3A 48 2E 78 2C 20 68 65 69 67 68 74    ight:H.x,.height
000143a0: 3A 48 2E 79 2C 20 77 69 64 74 68 3A 48 2E 78 0A    :H.y,.width:H.x.
000143b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000143c0: 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20    .....}..........
000143d0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
000143e0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000143f0: 20 20 20 29 3B 20 76 61 72 20 44 3D 45 6C 65 6D    ...);.var.D=Elem
00014400: 65 6E 74 2E 67 65 74 43 6F 6D 70 75 74 65 64 53    ent.getComputedS
00014410: 74 79 6C 65 3B 20 66 75 6E 63 74 69 6F 6E 20 45    tyle;.function.E
00014420: 28 48 2C 20 49 29 20 7B 0A 20 20 20 20 20 20 20    (H,.I).{........
00014430: 20 20 20 20 20 20 72 65 74 75 72 6E 20 44 28 48    ......return.D(H
00014440: 2C 20 49 29 2E 74 6F 49 6E 74 28 29 7C 7C 30 0A    ,.I).toInt()||0.
00014450: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00014460: 20 20 20 20 20 66 75 6E 63 74 69 6F 6E 20 46 28    .....function.F(
00014470: 48 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    H).{............
00014480: 20 20 72 65 74 75 72 6E 20 44 28 48 2C 20 22 2D    ..return.D(H,."-
00014490: 6D 6F 7A 2D 62 6F 78 2D 73 69 7A 69 6E 67 22 29    moz-box-sizing")
000144a0: 3D 3D 22 62 6F 72 64 65 72 2D 62 6F 78 22 0A 20    =="border-box"..
000144b0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000144c0: 20 20 20 20 66 75 6E 63 74 69 6F 6E 20 47 28 48    ....function.G(H
000144d0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000144e0: 20 72 65 74 75 72 6E 20 45 28 48 2C 20 22 62 6F    .return.E(H,."bo
000144f0: 72 64 65 72 2D 74 6F 70 2D 77 69 64 74 68 22 29    rder-top-width")
00014500: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00014510: 20 20 20 20 20 20 66 75 6E 63 74 69 6F 6E 20 43    ......function.C
00014520: 28 48 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    (H).{...........
00014530: 20 20 20 72 65 74 75 72 6E 20 45 28 48 2C 20 22    ...return.E(H,."
00014540: 62 6F 72 64 65 72 2D 6C 65 66 74 2D 77 69 64 74    border-left-widt
00014550: 68 22 29 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A    h")..........}..
00014560: 20 20 20 20 20 20 20 20 20 66 75 6E 63 74 69 6F    .........functio
00014570: 6E 20 42 28 48 29 20 7B 0A 20 20 20 20 20 20 20    n.B(H).{........
00014580: 20 20 20 20 20 20 72 65 74 75 72 6E 28 2F 5E 28    ......return(/^(
00014590: 3F 3A 62 6F 64 79 7C 68 74 6D 6C 29 24 2F 69 29    ?:body|html)$/i)
000145a0: 2E 74 65 73 74 28 48 2E 74 61 67 4E 61 6D 65 29    .test(H.tagName)
000145b0: 0A 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000145c0: 20 20 20 20 20 20 66 75 6E 63 74 69 6F 6E 20 41    ......function.A
000145d0: 28 48 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    (H).{...........
000145e0: 20 20 20 76 61 72 20 49 3D 48 2E 67 65 74 44 6F    ...var.I=H.getDo
000145f0: 63 75 6D 65 6E 74 28 29 3B 20 72 65 74 75 72 6E    cument();.return
00014600: 28 20 21 49 2E 63 6F 6D 70 61 74 4D 6F 64 65 7C    (.!I.compatMode|
00014610: 7C 49 2E 63 6F 6D 70 61 74 4D 6F 64 65 3D 3D 22    |I.compatMode=="
00014620: 43 53 53 31 43 6F 6D 70 61 74 22 29 3F 49 2E 68    CSS1Compat")?I.h
00014630: 74 6D 6C 3A 49 2E 62 6F 64 79 0A 20 20 20 20 20    tml:I.body......
00014640: 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A 20 29    ....}......}...)
00014650: 28 29 3B 0A 0A 20 4E 61 74 69 76 65 2E 69 6D 70    ();...Native.imp
00014660: 6C 65 6D 65 6E 74 28 5B 57 69 6E 64 6F 77 2C 20    lement([Window,.
00014670: 44 6F 63 75 6D 65 6E 74 2C 20 45 6C 65 6D 65 6E    Document,.Elemen
00014680: 74 5D 2C 20 7B 0A 20 20 20 20 20 20 20 20 20 67    t],.{..........g
00014690: 65 74 48 65 69 67 68 74 3A 66 75 6E 63 74 69 6F    etHeight:functio
000146a0: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
000146b0: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 67    ...return.this.g
000146c0: 65 74 53 69 7A 65 28 29 2E 79 0A 20 20 20 20 20    etSize().y......
000146d0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
000146e0: 2C 20 67 65 74 57 69 64 74 68 3A 66 75 6E 63 74    ,.getWidth:funct
000146f0: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
00014700: 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73    .....return.this
00014710: 2E 67 65 74 53 69 7A 65 28 29 2E 78 0A 20 20 20    .getSize().x....
00014720: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00014730: 20 20 2C 20 67 65 74 53 63 72 6F 6C 6C 54 6F 70    ..,.getScrollTop
00014740: 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    :function().{...
00014750: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00014760: 6E 20 74 68 69 73 2E 67 65 74 53 63 72 6F 6C 6C    n.this.getScroll
00014770: 28 29 2E 79 0A 20 20 20 20 20 20 20 20 20 7D 0A    ().y..........}.
00014780: 0A 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 53    ..........,.getS
00014790: 63 72 6F 6C 6C 4C 65 66 74 3A 66 75 6E 63 74 69    crollLeft:functi
000147a0: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
000147b0: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E    ....return.this.
000147c0: 67 65 74 53 63 72 6F 6C 6C 28 29 2E 78 0A 20 20    getScroll().x...
000147d0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000147e0: 20 20 20 2C 20 67 65 74 53 63 72 6F 6C 6C 48 65    ...,.getScrollHe
000147f0: 69 67 68 74 3A 66 75 6E 63 74 69 6F 6E 28 29 20    ight:function().
00014800: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    {..............r
00014810: 65 74 75 72 6E 20 74 68 69 73 2E 67 65 74 53 63    eturn.this.getSc
00014820: 72 6F 6C 6C 53 69 7A 65 28 29 2E 79 0A 20 20 20    rollSize().y....
00014830: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00014840: 20 20 2C 20 67 65 74 53 63 72 6F 6C 6C 57 69 64    ..,.getScrollWid
00014850: 74 68 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    th:function().{.
00014860: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00014870: 75 72 6E 20 74 68 69 73 2E 67 65 74 53 63 72 6F    urn.this.getScro
00014880: 6C 6C 53 69 7A 65 28 29 2E 78 0A 20 20 20 20 20    llSize().x......
00014890: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
000148a0: 2C 20 67 65 74 54 6F 70 3A 66 75 6E 63 74 69 6F    ,.getTop:functio
000148b0: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
000148c0: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 67    ...return.this.g
000148d0: 65 74 50 6F 73 69 74 69 6F 6E 28 29 2E 79 0A 20    etPosition().y..
000148e0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000148f0: 20 20 20 20 2C 20 67 65 74 4C 65 66 74 3A 66 75    ....,.getLeft:fu
00014900: 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20    nction().{......
00014910: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74    ........return.t
00014920: 68 69 73 2E 67 65 74 50 6F 73 69 74 69 6F 6E 28    his.getPosition(
00014930: 29 2E 78 0A 20 20 20 20 20 20 20 20 20 7D 0A 20    ).x..........}..
00014940: 20 20 20 20 7D 0A 0A 20 29 3B 0A 0A 20 4E 61 74    ....}...);...Nat
00014950: 69 76 65 2E 69 6D 70 6C 65 6D 65 6E 74 28 5B 44    ive.implement([D
00014960: 6F 63 75 6D 65 6E 74 2C 20 45 6C 65 6D 65 6E 74    ocument,.Element
00014970: 5D 2C 20 7B 0A 20 20 20 20 20 20 20 20 20 67 65    ],.{..........ge
00014980: 74 45 6C 65 6D 65 6E 74 73 3A 66 75 6E 63 74 69    tElements:functi
00014990: 6F 6E 28 48 2C 20 47 29 20 7B 0A 20 20 20 20 20    on(H,.G).{......
000149a0: 20 20 20 20 20 20 20 20 48 3D 48 2E 73 70 6C 69    ........H=H.spli
000149b0: 74 28 22 2C 22 29 3B 20 76 61 72 20 43 2C 20 45    t(",");.var.C,.E
000149c0: 3D 20 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    =.{}............
000149d0: 20 20 20 3B 20 66 6F 72 28 76 61 72 20 44 3D 30    ...;.for(var.D=0
000149e0: 2C 20 42 3D 48 2E 6C 65 6E 67 74 68 3B 20 44 3C    ,.B=H.length;.D<
000149f0: 42 3B 20 44 2B 2B 29 20 7B 0A 20 20 20 20 20 20    B;.D++).{.......
00014a00: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 41    ...........var.A
00014a10: 3D 48 5B 44 5D 2C 20 46 3D 53 65 6C 65 63 74 6F    =H[D],.F=Selecto
00014a20: 72 73 2E 55 74 69 6C 73 2E 73 65 61 72 63 68 28    rs.Utils.search(
00014a30: 74 68 69 73 2C 20 41 2C 20 45 29 3B 20 69 66 28    this,.A,.E);.if(
00014a40: 44 20 21 3D 30 26 26 46 2E 69 74 65 6D 29 20 7B    D.!=0&&F.item).{
00014a50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014a60: 20 20 20 20 20 20 46 3D 24 41 28 46 29 0A 20 20    ......F=$A(F)...
00014a70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00014a80: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014a90: 20 20 20 43 3D 28 44 3D 3D 30 29 3F 46 3A 28 43    ...C=(D==0)?F:(C
00014aa0: 2E 69 74 65 6D 29 3F 24 41 28 43 29 2E 63 6F 6E    .item)?$A(C).con
00014ab0: 63 61 74 28 46 29 3A 43 2E 63 6F 6E 63 61 74 28    cat(F):C.concat(
00014ac0: 46 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    F)..............
00014ad0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00014ae0: 72 65 74 75 72 6E 20 6E 65 77 20 45 6C 65 6D 65    return.new.Eleme
00014af0: 6E 74 73 28 43 2C 20 7B 0A 20 20 20 20 20 20 20    nts(C,.{........
00014b00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 64 64    ..............dd
00014b10: 75 70 3A 28 48 2E 6C 65 6E 67 74 68 3E 31 29 2C    up:(H.length>1),
00014b20: 20 63 61 73 68 3A 20 21 47 0A 20 20 20 20 20 20    .cash:.!G.......
00014b30: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00014b40: 20 20 20 20 20 20 20 20 20 20 20 29 0A 20 20 20    ...........)....
00014b50: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
00014b60: 20 29 3B 0A 0A 20 45 6C 65 6D 65 6E 74 2E 69 6D    .);...Element.im
00014b70: 70 6C 65 6D 65 6E 74 28 20 7B 0A 20 20 20 20 20    plement(.{......
00014b80: 20 20 20 20 6D 61 74 63 68 3A 66 75 6E 63 74 69    ....match:functi
00014b90: 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20 20 20 20    on(B).{.........
00014ba0: 20 20 20 20 20 69 66 28 20 21 42 29 20 7B 0A 20    .....if(.!B).{..
00014bb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014bc0: 72 65 74 75 72 6E 20 21 30 0A 20 20 20 20 20 20    return.!0.......
00014bd0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00014be0: 20 20 20 20 20 20 20 76 61 72 20 44 3D 53 65 6C    .......var.D=Sel
00014bf0: 65 63 74 6F 72 73 2E 55 74 69 6C 73 2E 70 61 72    ectors.Utils.par
00014c00: 73 65 54 61 67 41 6E 64 49 44 28 42 29 3B 20 76    seTagAndID(B);.v
00014c10: 61 72 20 41 3D 44 5B 30 5D 2C 20 45 3D 44 5B 31    ar.A=D[0],.E=D[1
00014c20: 5D 3B 20 69 66 28 20 21 53 65 6C 65 63 74 6F 72    ];.if(.!Selector
00014c30: 73 2E 46 69 6C 74 65 72 73 2E 62 79 49 44 28 74    s.Filters.byID(t
00014c40: 68 69 73 2C 20 45 29 7C 7C 20 21 53 65 6C 65 63    his,.E)||.!Selec
00014c50: 74 6F 72 73 2E 46 69 6C 74 65 72 73 2E 62 79 54    tors.Filters.byT
00014c60: 61 67 28 74 68 69 73 2C 20 41 29 29 20 7B 0A 20    ag(this,.A)).{..
00014c70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014c80: 72 65 74 75 72 6E 20 21 31 0A 20 20 20 20 20 20    return.!1.......
00014c90: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00014ca0: 20 20 20 20 20 20 20 76 61 72 20 43 3D 53 65 6C    .......var.C=Sel
00014cb0: 65 63 74 6F 72 73 2E 55 74 69 6C 73 2E 70 61 72    ectors.Utils.par
00014cc0: 73 65 53 65 6C 65 63 74 6F 72 28 42 29 3B 20 72    seSelector(B);.r
00014cd0: 65 74 75 72 6E 28 43 29 3F 53 65 6C 65 63 74 6F    eturn(C)?Selecto
00014ce0: 72 73 2E 55 74 69 6C 73 2E 66 69 6C 74 65 72 28    rs.Utils.filter(
00014cf0: 74 68 69 73 2C 20 43 2C 20 7B 7D 0A 0A 20 20 20    this,.C,.{}.....
00014d00: 20 20 20 20 20 20 20 20 20 20 29 3A 20 21 30 0A    ..........):.!0.
00014d10: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
00014d20: 7D 0A 0A 20 29 3B 0A 0A 20 76 61 72 20 53 65 6C    }...);...var.Sel
00014d30: 65 63 74 6F 72 73 3D 20 7B 0A 20 20 20 20 20 43    ectors=.{......C
00014d40: 61 63 68 65 3A 20 7B 0A 20 20 20 20 20 20 20 20    ache:.{.........
00014d50: 20 6E 74 68 3A 20 7B 7D 0A 0A 20 20 20 20 20 20    .nth:.{}........
00014d60: 20 20 20 2C 0A 20 20 20 20 20 20 20 20 20 70 61    ...,..........pa
00014d70: 72 73 65 64 3A 20 7B 7D 0A 20 20 20 20 20 7D 0A    rsed:.{}......}.
00014d80: 20 7D 0A 0A 20 3B 0A 0A 20 53 65 6C 65 63 74 6F    .}...;...Selecto
00014d90: 72 73 2E 52 65 67 45 78 70 73 3D 20 7B 0A 20 20    rs.RegExps=.{...
00014da0: 20 20 20 69 64 3A 20 28 2F 23 28 5B 5C 77 2D 5D    ...id:.(/#([\w-]
00014db0: 2B 29 2F 29 2C 20 74 61 67 3A 28 2F 5E 28 5C 77    +)/),.tag:(/^(\w
00014dc0: 2B 7C 5C 2A 29 2F 29 2C 20 71 75 69 63 6B 3A 28    +|\*)/),.quick:(
00014dd0: 2F 5E 28 5C 77 2B 7C 5C 2A 29 24 2F 29 2C 20 73    /^(\w+|\*)$/),.s
00014de0: 70 6C 69 74 74 65 72 3A 28 2F 5C 73 2A 28 5B 2B    plitter:(/\s*([+
00014df0: 3E 7E 5C 73 5D 29 5C 73 2A 28 5B 61 2D 7A 41 2D    >~\s])\s*([a-zA-
00014e00: 5A 23 2E 2A 3A 5C 5B 5D 29 2F 67 29 2C 20 63 6F    Z#.*:\[])/g),.co
00014e10: 6D 62 69 6E 65 64 3A 28 2F 5C 2E 28 5B 5C 77 2D    mbined:(/\.([\w-
00014e20: 5D 2B 29 7C 5C 5B 28 5C 77 2B 29 28 3F 3A 28 5B    ]+)|\[(\w+)(?:([
00014e30: 20 21 2A 5E 24 7E 7C 5D 3F 3D 29 5B 22 27 5D 3F    .!*^$~|]?=)["']?
00014e40: 28 2E 2A 3F 29 5B 22 27 5D 3F 29 3F 5C 5D 7C 3A    (.*?)["']?)?\]|:
00014e50: 28 5B 5C 77 2D 5D 2B 29 28 3F 3A 5C 28 5B 22 27    ([\w-]+)(?:\(["'
00014e60: 5D 3F 28 2E 2A 3F 29 3F 5B 22 27 5D 3F 5C 29 7C    ]?(.*?)?["']?\)|
00014e70: 24 29 2F 67 29 7D 3B 53 65 6C 65 63 74 6F 72 73    $)/g)};Selectors
00014e80: 2E 55 74 69 6C 73 3D 7B 63 68 6B 3A 66 75 6E 63    .Utils={chk:func
00014e90: 74 69 6F 6E 28 42 2C 43 29 7B 69 66 28 21 43 29    tion(B,C){if(!C)
00014ea0: 7B 72 65 74 75 72 6E 21 30 7D 0A 76 61 72 20 41    {return!0}.var.A
00014eb0: 3D 24 75 69 64 28 42 29 3B 20 69 66 28 20 21 43    =$uid(B);.if(.!C
00014ec0: 5B 41 5D 29 20 7B 0A 20 20 20 20 20 20 20 20 20    [A]).{..........
00014ed0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 43    ........return.C
00014ee0: 5B 41 5D 3D 20 21 30 0A 20 20 20 20 20 20 20 20    [A]=.!0.........
00014ef0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00014f00: 20 20 20 20 20 72 65 74 75 72 6E 20 21 31 0A 20    .....return.!1..
00014f10: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00014f20: 20 20 20 20 2C 20 70 61 72 73 65 4E 74 68 41 72    ....,.parseNthAr
00014f30: 67 75 6D 65 6E 74 3A 66 75 6E 63 74 69 6F 6E 28    gument:function(
00014f40: 46 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    F).{............
00014f50: 20 20 69 66 28 53 65 6C 65 63 74 6F 72 73 2E 43    ..if(Selectors.C
00014f60: 61 63 68 65 2E 6E 74 68 5B 46 5D 29 20 7B 0A 20    ache.nth[F]).{..
00014f70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00014f80: 72 65 74 75 72 6E 20 53 65 6C 65 63 74 6F 72 73    return.Selectors
00014f90: 2E 43 61 63 68 65 2E 6E 74 68 5B 46 5D 0A 20 20    .Cache.nth[F]...
00014fa0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00014fb0: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 43    ...........var.C
00014fc0: 3D 46 2E 6D 61 74 63 68 28 2F 5E 28 5B 2B 2D 5D    =F.match(/^([+-]
00014fd0: 3F 5C 64 2A 29 3F 28 5B 61 2D 7A 5D 2B 29 3F 28    ?\d*)?([a-z]+)?(
00014fe0: 5B 2B 2D 5D 3F 5C 64 2A 29 3F 24 2F 29 3B 20 69    [+-]?\d*)?$/);.i
00014ff0: 66 28 20 21 43 29 20 7B 0A 20 20 20 20 20 20 20    f(.!C).{........
00015000: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00015010: 20 21 31 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!1.............
00015020: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00015030: 20 76 61 72 20 45 3D 70 61 72 73 65 49 6E 74 28    .var.E=parseInt(
00015040: 43 5B 31 5D 29 3B 20 76 61 72 20 42 3D 28 45 7C    C[1]);.var.B=(E|
00015050: 7C 45 3D 3D 3D 30 29 3F 45 3A 31 3B 20 76 61 72    |E===0)?E:1;.var
00015060: 20 44 3D 43 5B 32 5D 7C 7C 20 21 31 3B 20 76 61    .D=C[2]||.!1;.va
00015070: 72 20 41 3D 70 61 72 73 65 49 6E 74 28 43 5B 33    r.A=parseInt(C[3
00015080: 5D 29 7C 7C 30 3B 20 69 66 28 42 20 21 3D 30 29    ])||0;.if(B.!=0)
00015090: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000150a0: 20 20 20 20 41 2D 2D 3B 20 77 68 69 6C 65 28 41    ....A--;.while(A
000150b0: 3C 31 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    <1).{...........
000150c0: 20 20 20 20 20 20 20 20 20 20 20 41 2B 3D 42 0A    ...........A+=B.
000150d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000150e0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000150f0: 20 20 20 20 20 77 68 69 6C 65 28 41 3E 3D 42 29    .....while(A>=B)
00015100: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00015110: 20 20 20 20 20 20 20 20 41 2D 3D 42 0A 20 20 20    ........A-=B....
00015120: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00015130: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00015140: 20 20 20 20 20 20 20 20 20 20 20 20 20 65 6C 73    .............els
00015150: 65 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    e.{.............
00015160: 20 20 20 20 20 42 3D 41 3B 20 44 3D 22 69 6E 64    .....B=A;.D="ind
00015170: 65 78 22 0A 20 20 20 20 20 20 20 20 20 20 20 20    ex".............
00015180: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00015190: 20 73 77 69 74 63 68 28 44 29 20 7B 0A 20 20 20    .switch(D).{....
000151a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 63 61    ..............ca
000151b0: 73 65 20 22 6E 22 3A 43 3D 20 7B 0A 20 20 20 20    se."n":C=.{.....
000151c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000151d0: 20 61 3A 42 2C 20 62 3A 41 2C 20 73 70 65 63 69    .a:B,.b:A,.speci
000151e0: 61 6C 3A 22 6E 22 0A 20 20 20 20 20 20 20 20 20    al:"n"..........
000151f0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00015200: 20 20 20 20 20 20 20 20 20 20 20 20 3B 20 62 72    ............;.br
00015210: 65 61 6B 3B 20 63 61 73 65 20 22 6F 64 64 22 3A    eak;.case."odd":
00015220: 43 3D 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    C=.{............
00015230: 20 20 20 20 20 20 20 20 20 20 61 3A 32 2C 20 62    ..........a:2,.b
00015240: 3A 30 2C 20 73 70 65 63 69 61 6C 3A 22 6E 22 0A    :0,.special:"n".
00015250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015260: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00015270: 20 20 20 20 20 3B 20 62 72 65 61 6B 3B 20 63 61    .....;.break;.ca
00015280: 73 65 20 22 65 76 65 6E 22 3A 43 3D 20 7B 0A 20    se."even":C=.{..
00015290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000152a0: 20 20 20 20 61 3A 32 2C 20 62 3A 31 2C 20 73 70    ....a:2,.b:1,.sp
000152b0: 65 63 69 61 6C 3A 22 6E 22 0A 20 20 20 20 20 20    ecial:"n".......
000152c0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
000152d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3B    ...............;
000152e0: 20 62 72 65 61 6B 3B 20 63 61 73 65 20 22 66 69    .break;.case."fi
000152f0: 72 73 74 22 3A 43 3D 20 7B 0A 20 20 20 20 20 20    rst":C=.{.......
00015300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 61    ...............a
00015310: 3A 30 2C 20 73 70 65 63 69 61 6C 3A 22 69 6E 64    :0,.special:"ind
00015320: 65 78 22 0A 20 20 20 20 20 20 20 20 20 20 20 20    ex".............
00015330: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00015340: 20 20 20 20 20 20 20 20 20 3B 20 62 72 65 61 6B    .........;.break
00015350: 3B 20 63 61 73 65 20 22 6C 61 73 74 22 3A 43 3D    ;.case."last":C=
00015360: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00015370: 20 20 20 20 20 20 20 20 73 70 65 63 69 61 6C 3A    ........special:
00015380: 22 6C 61 73 74 2D 63 68 69 6C 64 22 0A 20 20 20    "last-child"....
00015390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000153a0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000153b0: 20 20 3B 20 62 72 65 61 6B 3B 20 63 61 73 65 20    ..;.break;.case.
000153c0: 22 6F 6E 6C 79 22 3A 43 3D 20 7B 0A 20 20 20 20    "only":C=.{.....
000153d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000153e0: 20 73 70 65 63 69 61 6C 3A 22 6F 6E 6C 79 2D 63    .special:"only-c
000153f0: 68 69 6C 64 22 0A 20 20 20 20 20 20 20 20 20 20    hild"...........
00015400: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00015410: 20 20 20 20 20 20 20 20 20 20 20 3B 20 62 72 65    ...........;.bre
00015420: 61 6B 3B 20 64 65 66 61 75 6C 74 3A 43 3D 20 7B    ak;.default:C=.{
00015430: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015440: 20 20 20 20 20 20 61 3A 28 42 2D 31 29 2C 20 73    ......a:(B-1),.s
00015450: 70 65 63 69 61 6C 3A 22 69 6E 64 65 78 22 0A 20    pecial:"index"..
00015460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015470: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    }..............}
00015480: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
00015490: 65 74 75 72 6E 20 53 65 6C 65 63 74 6F 72 73 2E    eturn.Selectors.
000154a0: 43 61 63 68 65 2E 6E 74 68 5B 46 5D 3D 43 0A 20    Cache.nth[F]=C..
000154b0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000154c0: 20 20 20 20 2C 20 70 61 72 73 65 53 65 6C 65 63    ....,.parseSelec
000154d0: 74 6F 72 3A 66 75 6E 63 74 69 6F 6E 28 45 29 20    tor:function(E).
000154e0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 69    {..............i
000154f0: 66 28 53 65 6C 65 63 74 6F 72 73 2E 43 61 63 68    f(Selectors.Cach
00015500: 65 2E 70 61 72 73 65 64 5B 45 5D 29 20 7B 0A 20    e.parsed[E]).{..
00015510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015520: 72 65 74 75 72 6E 20 53 65 6C 65 63 74 6F 72 73    return.Selectors
00015530: 2E 43 61 63 68 65 2E 70 61 72 73 65 64 5B 45 5D    .Cache.parsed[E]
00015540: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00015550: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61    ..............va
00015560: 72 20 44 2C 20 48 3D 20 7B 0A 20 20 20 20 20 20    r.D,.H=.{.......
00015570: 20 20 20 20 20 20 20 20 20 20 20 63 6C 61 73 73    ...........class
00015580: 65 73 3A 5B 5D 2C 20 70 73 65 75 64 6F 73 3A 5B    es:[],.pseudos:[
00015590: 5D 2C 20 61 74 74 72 69 62 75 74 65 73 3A 5B 5D    ],.attributes:[]
000155a0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000155b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20    ..............;.
000155c0: 77 68 69 6C 65 28 28 44 3D 53 65 6C 65 63 74 6F    while((D=Selecto
000155d0: 72 73 2E 52 65 67 45 78 70 73 2E 63 6F 6D 62 69    rs.RegExps.combi
000155e0: 6E 65 64 2E 65 78 65 63 28 45 29 29 29 20 7B 0A    ned.exec(E))).{.
000155f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015600: 20 76 61 72 20 49 3D 44 5B 31 5D 2C 20 47 3D 44    .var.I=D[1],.G=D
00015610: 5B 32 5D 2C 20 46 3D 44 5B 33 5D 2C 20 42 3D 44    [2],.F=D[3],.B=D
00015620: 5B 34 5D 2C 20 43 3D 44 5B 35 5D 2C 20 4A 3D 44    [4],.C=D[5],.J=D
00015630: 5B 36 5D 3B 20 69 66 28 49 29 20 7B 0A 20 20 20    [6];.if(I).{....
00015640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015650: 20 20 48 2E 63 6C 61 73 73 65 73 2E 70 75 73 68    ..H.classes.push
00015660: 28 49 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    (I).............
00015670: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00015680: 20 20 20 20 20 20 20 20 20 65 6C 73 65 20 7B 0A    .........else.{.
00015690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000156a0: 20 20 20 20 20 69 66 28 43 29 20 7B 0A 20 20 20    .....if(C).{....
000156b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000156c0: 20 20 20 20 20 20 76 61 72 20 41 3D 53 65 6C 65    ......var.A=Sele
000156d0: 63 74 6F 72 73 2E 50 73 65 75 64 6F 2E 67 65 74    ctors.Pseudo.get
000156e0: 28 43 29 3B 20 69 66 28 41 29 20 7B 0A 20 20 20    (C);.if(A).{....
000156f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015700: 20 20 20 20 20 20 20 20 20 20 48 2E 70 73 65 75    ..........H.pseu
00015710: 64 6F 73 2E 70 75 73 68 28 20 7B 0A 20 20 20 20    dos.push(.{.....
00015720: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015740: 20 70 61 72 73 65 72 3A 41 2C 20 61 72 67 75 6D    .parser:A,.argum
00015750: 65 6E 74 3A 4A 0A 20 20 20 20 20 20 20 20 20 20    ent:J...........
00015760: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015770: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00015780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015790: 20 20 20 20 20 20 20 29 0A 20 20 20 20 20 20 20    .......)........
000157a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000157b0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000157c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 65 6C    ..............el
000157d0: 73 65 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    se.{............
000157e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000157f0: 20 20 48 2E 61 74 74 72 69 62 75 74 65 73 2E 70    ..H.attributes.p
00015800: 75 73 68 28 20 7B 0A 20 20 20 20 20 20 20 20 20    ush(.{..........
00015810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015820: 20 20 20 20 20 20 20 20 20 20 20 20 6E 61 6D 65    ............name
00015830: 3A 43 2C 20 6F 70 65 72 61 74 6F 72 3A 22 3D 22    :C,.operator:"="
00015840: 2C 20 76 61 6C 75 65 3A 4A 0A 20 20 20 20 20 20    ,.value:J.......
00015850: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015860: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00015870: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015880: 20 20 20 20 20 20 20 20 20 20 20 29 0A 20 20 20    ...........)....
00015890: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000158a0: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
000158b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
000158c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000158d0: 20 20 20 20 20 65 6C 73 65 20 7B 0A 20 20 20 20    .....else.{.....
000158e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000158f0: 20 20 20 20 20 69 66 28 47 29 20 7B 0A 20 20 20    .....if(G).{....
00015900: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015910: 20 20 20 20 20 20 20 20 20 20 48 2E 61 74 74 72    ..........H.attr
00015920: 69 62 75 74 65 73 2E 70 75 73 68 28 20 7B 0A 20    ibutes.push(.{..
00015930: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015940: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015950: 20 20 20 20 6E 61 6D 65 3A 47 2C 20 6F 70 65 72    ....name:G,.oper
00015960: 61 74 6F 72 3A 46 2C 20 76 61 6C 75 65 3A 42 0A    ator:F,.value:B.
00015970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015990: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000159a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000159b0: 20 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .)..............
000159c0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
000159d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000159e0: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20    ...}............
000159f0: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
00015a00: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00015a10: 20 20 20 20 20 69 66 28 20 21 48 2E 63 6C 61 73    .....if(.!H.clas
00015a20: 73 65 73 2E 6C 65 6E 67 74 68 29 20 7B 0A 20 20    ses.length).{...
00015a30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 64    ...............d
00015a40: 65 6C 65 74 65 20 48 2E 63 6C 61 73 73 65 73 0A    elete.H.classes.
00015a50: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00015a60: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00015a70: 20 21 48 2E 61 74 74 72 69 62 75 74 65 73 2E 6C    .!H.attributes.l
00015a80: 65 6E 67 74 68 29 20 7B 0A 20 20 20 20 20 20 20    ength).{........
00015a90: 20 20 20 20 20 20 20 20 20 20 64 65 6C 65 74 65    ..........delete
00015aa0: 20 48 2E 61 74 74 72 69 62 75 74 65 73 0A 20 20    .H.attributes...
00015ab0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00015ac0: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 20 21    ...........if(.!
00015ad0: 48 2E 70 73 65 75 64 6F 73 2E 6C 65 6E 67 74 68    H.pseudos.length
00015ae0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00015af0: 20 20 20 20 20 64 65 6C 65 74 65 20 48 2E 70 73    .....delete.H.ps
00015b00: 65 75 64 6F 73 0A 20 20 20 20 20 20 20 20 20 20    eudos...........
00015b10: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00015b20: 20 20 20 69 66 28 20 21 48 2E 63 6C 61 73 73 65    ...if(.!H.classe
00015b30: 73 26 26 20 21 48 2E 61 74 74 72 69 62 75 74 65    s&&.!H.attribute
00015b40: 73 26 26 20 21 48 2E 70 73 65 75 64 6F 73 29 20    s&&.!H.pseudos).
00015b50: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00015b60: 20 20 20 48 3D 6E 75 6C 6C 0A 20 20 20 20 20 20    ...H=null.......
00015b70: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00015b80: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 53 65    .......return.Se
00015b90: 6C 65 63 74 6F 72 73 2E 43 61 63 68 65 2E 70 61    lectors.Cache.pa
00015ba0: 72 73 65 64 5B 45 5D 3D 48 0A 20 20 20 20 20 20    rsed[E]=H.......
00015bb0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C    ...}...........,
00015bc0: 20 70 61 72 73 65 54 61 67 41 6E 64 49 44 3A 66    .parseTagAndID:f
00015bd0: 75 6E 63 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20    unction(B).{....
00015be0: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 41 3D    ..........var.A=
00015bf0: 42 2E 6D 61 74 63 68 28 53 65 6C 65 63 74 6F 72    B.match(Selector
00015c00: 73 2E 52 65 67 45 78 70 73 2E 74 61 67 29 3B 20    s.RegExps.tag);.
00015c10: 76 61 72 20 43 3D 42 2E 6D 61 74 63 68 28 53 65    var.C=B.match(Se
00015c20: 6C 65 63 74 6F 72 73 2E 52 65 67 45 78 70 73 2E    lectors.RegExps.
00015c30: 69 64 29 3B 20 72 65 74 75 72 6E 5B 28 41 29 3F    id);.return[(A)?
00015c40: 41 5B 31 5D 3A 22 2A 22 2C 20 28 43 29 3F 43 5B    A[1]:"*",.(C)?C[
00015c50: 31 5D 3A 20 21 31 5D 0A 20 20 20 20 20 20 20 20    1]:.!1].........
00015c60: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 66    .}...........,.f
00015c70: 69 6C 74 65 72 3A 66 75 6E 63 74 69 6F 6E 28 46    ilter:function(F
00015c80: 2C 20 43 2C 20 45 29 20 7B 0A 20 20 20 20 20 20    ,.C,.E).{.......
00015c90: 20 20 20 20 20 20 20 76 61 72 20 44 3B 20 69 66    .......var.D;.if
00015ca0: 28 43 2E 63 6C 61 73 73 65 73 29 20 7B 0A 20 20    (C.classes).{...
00015cb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 66    ...............f
00015cc0: 6F 72 28 44 3D 43 2E 63 6C 61 73 73 65 73 2E 6C    or(D=C.classes.l
00015cd0: 65 6E 67 74 68 3B 20 44 2D 2D 3B 20 44 29 20 7B    ength;.D--;.D).{
00015ce0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015cf0: 20 20 20 20 20 20 76 61 72 20 47 3D 43 2E 63 6C    ......var.G=C.cl
00015d00: 61 73 73 65 73 5B 44 5D 3B 20 69 66 28 20 21 53    asses[D];.if(.!S
00015d10: 65 6C 65 63 74 6F 72 73 2E 46 69 6C 74 65 72 73    electors.Filters
00015d20: 2E 62 79 43 6C 61 73 73 28 46 2C 20 47 29 29 20    .byClass(F,.G)).
00015d30: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00015d40: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00015d50: 6E 20 21 31 0A 20 20 20 20 20 20 20 20 20 20 20    n.!1............
00015d60: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
00015d70: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20    .............}..
00015d80: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00015d90: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 43    ............if(C
00015da0: 2E 61 74 74 72 69 62 75 74 65 73 29 20 7B 0A 20    .attributes).{..
00015db0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015dc0: 66 6F 72 28 44 3D 43 2E 61 74 74 72 69 62 75 74    for(D=C.attribut
00015dd0: 65 73 2E 6C 65 6E 67 74 68 3B 20 44 2D 2D 3B 20    es.length;.D--;.
00015de0: 44 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    D).{............
00015df0: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 42 3D    ..........var.B=
00015e00: 43 2E 61 74 74 72 69 62 75 74 65 73 5B 44 5D 3B    C.attributes[D];
00015e10: 20 69 66 28 20 21 53 65 6C 65 63 74 6F 72 73 2E    .if(.!Selectors.
00015e20: 46 69 6C 74 65 72 73 2E 62 79 41 74 74 72 69 62    Filters.byAttrib
00015e30: 75 74 65 28 46 2C 20 42 2E 6E 61 6D 65 2C 20 42    ute(F,.B.name,.B
00015e40: 2E 6F 70 65 72 61 74 6F 72 2C 20 42 2E 76 61 6C    .operator,.B.val
00015e50: 75 65 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ue)).{..........
00015e60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015e70: 72 65 74 75 72 6E 20 21 31 0A 20 20 20 20 20 20    return.!1.......
00015e80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00015e90: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015ea0: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00015eb0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00015ec0: 20 69 66 28 43 2E 70 73 65 75 64 6F 73 29 20 7B    .if(C.pseudos).{
00015ed0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015ee0: 20 20 66 6F 72 28 44 3D 43 2E 70 73 65 75 64 6F    ..for(D=C.pseudo
00015ef0: 73 2E 6C 65 6E 67 74 68 3B 20 44 2D 2D 3B 20 44    s.length;.D--;.D
00015f00: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00015f10: 20 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 43    .........var.A=C
00015f20: 2E 70 73 65 75 64 6F 73 5B 44 5D 3B 20 69 66 28    .pseudos[D];.if(
00015f30: 20 21 53 65 6C 65 63 74 6F 72 73 2E 46 69 6C 74    .!Selectors.Filt
00015f40: 65 72 73 2E 62 79 50 73 65 75 64 6F 28 46 2C 20    ers.byPseudo(F,.
00015f50: 41 2E 70 61 72 73 65 72 2C 20 41 2E 61 72 67 75    A.parser,.A.argu
00015f60: 6D 65 6E 74 2C 20 45 29 29 20 7B 0A 20 20 20 20    ment,.E)).{.....
00015f70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015f80: 20 20 20 20 20 72 65 74 75 72 6E 20 21 31 0A 20    .....return.!1..
00015f90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00015fa0: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
00015fb0: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00015fc0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00015fd0: 20 20 20 20 20 20 72 65 74 75 72 6E 20 21 30 0A    ......return.!0.
00015fe0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00015ff0: 20 20 20 20 20 2C 20 67 65 74 42 79 54 61 67 41    .....,.getByTagA
00016000: 6E 64 49 44 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    ndID:function(B,
00016010: 20 41 2C 20 44 29 20 7B 0A 20 20 20 20 20 20 20    .A,.D).{........
00016020: 20 20 20 20 20 20 69 66 28 44 29 20 7B 0A 20 20    ......if(D).{...
00016030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
00016040: 61 72 20 43 3D 28 42 2E 67 65 74 45 6C 65 6D 65    ar.C=(B.getEleme
00016050: 6E 74 42 79 49 64 29 3F 42 2E 67 65 74 45 6C 65    ntById)?B.getEle
00016060: 6D 65 6E 74 42 79 49 64 28 44 2C 20 20 21 30 29    mentById(D,..!0)
00016070: 3A 45 6C 65 6D 65 6E 74 2E 67 65 74 45 6C 65 6D    :Element.getElem
00016080: 65 6E 74 42 79 49 64 28 42 2C 20 44 2C 20 20 21    entById(B,.D,..!
00016090: 30 29 3B 20 72 65 74 75 72 6E 28 43 26 26 53 65    0);.return(C&&Se
000160a0: 6C 65 63 74 6F 72 73 2E 46 69 6C 74 65 72 73 2E    lectors.Filters.
000160b0: 62 79 54 61 67 28 43 2C 20 41 29 29 3F 5B 43 5D    byTag(C,.A))?[C]
000160c0: 3A 5B 5D 0A 20 20 20 20 20 20 20 20 20 20 20 20    :[].............
000160d0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
000160e0: 20 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20    .else.{.........
000160f0: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
00016100: 42 2E 67 65 74 45 6C 65 6D 65 6E 74 73 42 79 54    B.getElementsByT
00016110: 61 67 4E 61 6D 65 28 41 29 0A 20 20 20 20 20 20    agName(A).......
00016120: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00016130: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
00016140: 73 65 61 72 63 68 3A 66 75 6E 63 74 69 6F 6E 28    search:function(
00016150: 4A 2C 20 49 2C 20 4F 29 20 7B 0A 20 20 20 20 20    J,.I,.O).{......
00016160: 20 20 20 20 20 20 20 20 76 61 72 20 42 3D 5B 5D    ........var.B=[]
00016170: 3B 20 76 61 72 20 43 3D 49 2E 74 72 69 6D 28 29    ;.var.C=I.trim()
00016180: 2E 72 65 70 6C 61 63 65 28 53 65 6C 65 63 74 6F    .replace(Selecto
00016190: 72 73 2E 52 65 67 45 78 70 73 2E 73 70 6C 69 74    rs.RegExps.split
000161a0: 74 65 72 2C 20 66 75 6E 63 74 69 6F 6E 28 5A 2C    ter,.function(Z,
000161b0: 20 59 2C 20 58 29 20 7B 0A 20 20 20 20 20 20 20    .Y,.X).{........
000161c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 42 2E    ..............B.
000161d0: 70 75 73 68 28 59 29 3B 20 72 65 74 75 72 6E 22    push(Y);.return"
000161e0: 3A 29 22 2B 58 0A 20 20 20 20 20 20 20 20 20 20    :)"+X...........
000161f0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00016200: 20 20 20 20 20 20 20 29 2E 73 70 6C 69 74 28 22    .......).split("
00016210: 3A 29 22 29 3B 20 76 61 72 20 4B 2C 20 46 2C 20    :)");.var.K,.F,.
00016220: 45 2C 20 56 3B 20 66 6F 72 28 76 61 72 20 55 3D    E,.V;.for(var.U=
00016230: 30 2C 20 51 3D 43 2E 6C 65 6E 67 74 68 3B 20 55    0,.Q=C.length;.U
00016240: 3C 51 3B 20 55 2B 2B 29 20 7B 0A 20 20 20 20 20    <Q;.U++).{......
00016250: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
00016260: 54 3D 43 5B 55 5D 3B 20 69 66 28 55 3D 3D 30 26    T=C[U];.if(U==0&
00016270: 26 53 65 6C 65 63 74 6F 72 73 2E 52 65 67 45 78    &Selectors.RegEx
00016280: 70 73 2E 71 75 69 63 6B 2E 74 65 73 74 28 54 29    ps.quick.test(T)
00016290: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000162a0: 20 20 20 20 20 20 20 20 20 4B 3D 4A 2E 67 65 74    .........K=J.get
000162b0: 45 6C 65 6D 65 6E 74 73 42 79 54 61 67 4E 61 6D    ElementsByTagNam
000162c0: 65 28 54 29 3B 20 63 6F 6E 74 69 6E 75 65 0A 20    e(T);.continue..
000162d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000162e0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
000162f0: 20 20 20 20 76 61 72 20 41 3D 42 5B 55 2D 31 5D    ....var.A=B[U-1]
00016300: 3B 20 76 61 72 20 4C 3D 53 65 6C 65 63 74 6F 72    ;.var.L=Selector
00016310: 73 2E 55 74 69 6C 73 2E 70 61 72 73 65 54 61 67    s.Utils.parseTag
00016320: 41 6E 64 49 44 28 54 29 3B 20 76 61 72 20 57 3D    AndID(T);.var.W=
00016330: 4C 5B 30 5D 2C 20 4D 3D 4C 5B 31 5D 3B 20 69 66    L[0],.M=L[1];.if
00016340: 28 55 3D 3D 30 29 20 7B 0A 20 20 20 20 20 20 20    (U==0).{........
00016350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 4B 3D    ..............K=
00016360: 53 65 6C 65 63 74 6F 72 73 2E 55 74 69 6C 73 2E    Selectors.Utils.
00016370: 67 65 74 42 79 54 61 67 41 6E 64 49 44 28 4A 2C    getByTagAndID(J,
00016380: 20 57 2C 20 4D 29 0A 20 20 20 20 20 20 20 20 20    .W,.M)..........
00016390: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000163a0: 20 20 20 20 20 20 20 20 20 20 20 20 65 6C 73 65    ............else
000163b0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000163c0: 20 20 20 20 20 20 20 20 76 61 72 20 44 3D 20 7B    ........var.D=.{
000163d0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
000163e0: 20 20 20 20 20 20 20 20 2C 20 48 3D 5B 5D 3B 20    ........,.H=[];.
000163f0: 66 6F 72 28 76 61 72 20 53 3D 30 2C 20 52 3D 4B    for(var.S=0,.R=K
00016400: 2E 6C 65 6E 67 74 68 3B 20 53 3C 52 3B 20 53 2B    .length;.S<R;.S+
00016410: 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    +).{............
00016420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 48 3D    ..............H=
00016430: 53 65 6C 65 63 74 6F 72 73 2E 47 65 74 74 65 72    Selectors.Getter
00016440: 73 5B 41 5D 28 48 2C 20 4B 5B 53 5D 2C 20 57 2C    s[A](H,.K[S],.W,
00016450: 20 4D 2C 20 44 29 0A 20 20 20 20 20 20 20 20 20    .M,.D)..........
00016460: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00016470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016480: 20 20 20 20 4B 3D 48 0A 20 20 20 20 20 20 20 20    ....K=H.........
00016490: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000164a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
000164b0: 20 47 3D 53 65 6C 65 63 74 6F 72 73 2E 55 74 69    .G=Selectors.Uti
000164c0: 6C 73 2E 70 61 72 73 65 53 65 6C 65 63 74 6F 72    ls.parseSelector
000164d0: 28 54 29 3B 20 69 66 28 47 29 20 7B 0A 20 20 20    (T);.if(G).{....
000164e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000164f0: 20 20 45 3D 5B 5D 3B 20 66 6F 72 28 76 61 72 20    ..E=[];.for(var.
00016500: 50 3D 30 2C 20 4E 3D 4B 2E 6C 65 6E 67 74 68 3B    P=0,.N=K.length;
00016510: 20 50 3C 4E 3B 20 50 2B 2B 29 20 7B 0A 20 20 20    .P<N;.P++).{....
00016520: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016530: 20 20 20 20 20 20 56 3D 4B 5B 50 5D 3B 20 69 66    ......V=K[P];.if
00016540: 28 53 65 6C 65 63 74 6F 72 73 2E 55 74 69 6C 73    (Selectors.Utils
00016550: 2E 66 69 6C 74 65 72 28 56 2C 20 47 2C 20 4F 29    .filter(V,.G,.O)
00016560: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00016570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016580: 20 45 2E 70 75 73 68 28 56 29 0A 20 20 20 20 20    .E.push(V)......
00016590: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000165a0: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
000165b0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
000165c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000165d0: 20 20 20 4B 3D 45 0A 20 20 20 20 20 20 20 20 20    ...K=E..........
000165e0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
000165f0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00016600: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 4B 0A    .......return.K.
00016610: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
00016620: 7D 0A 0A 20 20 20 20 20 3B 20 53 65 6C 65 63 74    }.......;.Select
00016630: 6F 72 73 2E 47 65 74 74 65 72 73 3D 20 7B 0A 20    ors.Getters=.{..
00016640: 20 20 20 20 20 20 20 20 22 20 22 3A 66 75 6E 63    ........".":func
00016650: 74 69 6F 6E 28 48 2C 20 47 2C 20 49 2C 20 41 2C    tion(H,.G,.I,.A,
00016660: 20 45 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .E).{...........
00016670: 20 20 20 76 61 72 20 44 3D 53 65 6C 65 63 74 6F    ...var.D=Selecto
00016680: 72 73 2E 55 74 69 6C 73 2E 67 65 74 42 79 54 61    rs.Utils.getByTa
00016690: 67 41 6E 64 49 44 28 47 2C 20 49 2C 20 41 29 3B    gAndID(G,.I,.A);
000166a0: 20 66 6F 72 28 76 61 72 20 43 3D 30 2C 20 42 3D    .for(var.C=0,.B=
000166b0: 44 2E 6C 65 6E 67 74 68 3B 20 43 3C 42 3B 20 43    D.length;.C<B;.C
000166c0: 2B 2B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ++).{...........
000166d0: 20 20 20 20 20 20 20 76 61 72 20 46 3D 44 5B 43    .......var.F=D[C
000166e0: 5D 3B 20 69 66 28 53 65 6C 65 63 74 6F 72 73 2E    ];.if(Selectors.
000166f0: 55 74 69 6C 73 2E 63 68 6B 28 46 2C 20 45 29 29    Utils.chk(F,.E))
00016700: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00016710: 20 20 20 20 20 20 20 20 48 2E 70 75 73 68 28 46    ........H.push(F
00016720: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
00016730: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20    ...}............
00016740: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00016750: 20 20 72 65 74 75 72 6E 20 48 0A 20 20 20 20 20    ..return.H......
00016760: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00016770: 2C 20 22 3E 22 3A 66 75 6E 63 74 69 6F 6E 28 48    ,.">":function(H
00016780: 2C 20 47 2C 20 49 2C 20 41 2C 20 46 29 20 7B 0A    ,.G,.I,.A,.F).{.
00016790: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
000167a0: 20 43 3D 53 65 6C 65 63 74 6F 72 73 2E 55 74 69    .C=Selectors.Uti
000167b0: 6C 73 2E 67 65 74 42 79 54 61 67 41 6E 64 49 44    ls.getByTagAndID
000167c0: 28 47 2C 20 49 2C 20 41 29 3B 20 66 6F 72 28 76    (G,.I,.A);.for(v
000167d0: 61 72 20 45 3D 30 2C 20 44 3D 43 2E 6C 65 6E 67    ar.E=0,.D=C.leng
000167e0: 74 68 3B 20 45 3C 44 3B 20 45 2B 2B 29 20 7B 0A    th;.E<D;.E++).{.
000167f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016800: 20 76 61 72 20 42 3D 43 5B 45 5D 3B 20 69 66 28    .var.B=C[E];.if(
00016810: 42 2E 70 61 72 65 6E 74 4E 6F 64 65 3D 3D 47 26    B.parentNode==G&
00016820: 26 53 65 6C 65 63 74 6F 72 73 2E 55 74 69 6C 73    &Selectors.Utils
00016830: 2E 63 68 6B 28 42 2C 20 46 29 29 20 7B 0A 20 20    .chk(B,.F)).{...
00016840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016850: 20 20 20 48 2E 70 75 73 68 28 42 29 0A 20 20 20    ...H.push(B)....
00016860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00016870: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00016880: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00016890: 75 72 6E 20 48 0A 20 20 20 20 20 20 20 20 20 7D    urn.H..........}
000168a0: 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 22 2B 22    ...........,."+"
000168b0: 3A 66 75 6E 63 74 69 6F 6E 28 43 2C 20 42 2C 20    :function(C,.B,.
000168c0: 41 2C 20 45 2C 20 44 29 20 7B 0A 20 20 20 20 20    A,.E,.D).{......
000168d0: 20 20 20 20 20 20 20 20 77 68 69 6C 65 28 28 42    ........while((B
000168e0: 3D 42 2E 6E 65 78 74 53 69 62 6C 69 6E 67 29 29    =B.nextSibling))
000168f0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00016900: 20 20 20 20 69 66 28 42 2E 6E 6F 64 65 54 79 70    ....if(B.nodeTyp
00016910: 65 3D 3D 31 29 20 7B 0A 20 20 20 20 20 20 20 20    e==1).{.........
00016920: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00016930: 53 65 6C 65 63 74 6F 72 73 2E 55 74 69 6C 73 2E    Selectors.Utils.
00016940: 63 68 6B 28 42 2C 20 44 29 26 26 53 65 6C 65 63    chk(B,.D)&&Selec
00016950: 74 6F 72 73 2E 46 69 6C 74 65 72 73 2E 62 79 54    tors.Filters.byT
00016960: 61 67 28 42 2C 20 41 29 26 26 53 65 6C 65 63 74    ag(B,.A)&&Select
00016970: 6F 72 73 2E 46 69 6C 74 65 72 73 2E 62 79 49 44    ors.Filters.byID
00016980: 28 42 2C 20 45 29 29 20 7B 0A 20 20 20 20 20 20    (B,.E)).{.......
00016990: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000169a0: 20 20 20 43 2E 70 75 73 68 28 42 29 0A 20 20 20    ...C.push(B)....
000169b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000169c0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000169d0: 20 20 20 20 20 20 20 20 20 20 62 72 65 61 6B 0A    ..........break.
000169e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000169f0: 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00016a00: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00016a10: 72 65 74 75 72 6E 20 43 0A 20 20 20 20 20 20 20    return.C........
00016a20: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20    ..}...........,.
00016a30: 22 7E 22 3A 66 75 6E 63 74 69 6F 6E 28 43 2C 20    "~":function(C,.
00016a40: 42 2C 20 41 2C 20 45 2C 20 44 29 20 7B 0A 20 20    B,.A,.E,.D).{...
00016a50: 20 20 20 20 20 20 20 20 20 20 20 77 68 69 6C 65    ...........while
00016a60: 28 28 42 3D 42 2E 6E 65 78 74 53 69 62 6C 69 6E    ((B=B.nextSiblin
00016a70: 67 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    g)).{...........
00016a80: 20 20 20 20 20 20 20 69 66 28 42 2E 6E 6F 64 65    .......if(B.node
00016a90: 54 79 70 65 3D 3D 31 29 20 7B 0A 20 20 20 20 20    Type==1).{......
00016aa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016ab0: 69 66 28 20 21 53 65 6C 65 63 74 6F 72 73 2E 55    if(.!Selectors.U
00016ac0: 74 69 6C 73 2E 63 68 6B 28 42 2C 20 44 29 29 20    tils.chk(B,.D)).
00016ad0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00016ae0: 20 20 20 20 20 20 20 20 20 20 20 62 72 65 61 6B    ...........break
00016af0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016b00: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00016b10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
00016b20: 28 53 65 6C 65 63 74 6F 72 73 2E 46 69 6C 74 65    (Selectors.Filte
00016b30: 72 73 2E 62 79 54 61 67 28 42 2C 20 41 29 26 26    rs.byTag(B,.A)&&
00016b40: 53 65 6C 65 63 74 6F 72 73 2E 46 69 6C 74 65 72    Selectors.Filter
00016b50: 73 2E 62 79 49 44 28 42 2C 20 45 29 29 20 7B 0A    s.byID(B,.E)).{.
00016b60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00016b70: 20 20 20 20 20 20 20 20 20 43 2E 70 75 73 68 28    .........C.push(
00016b80: 42 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    B)..............
00016b90: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00016ba0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00016bb0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00016bc0: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00016bd0: 20 43 0A 20 20 20 20 20 20 20 20 20 7D 0A 20 20    .C..........}...
00016be0: 20 20 20 7D 0A 0A 20 20 20 20 20 3B 20 53 65 6C    ...}.......;.Sel
00016bf0: 65 63 74 6F 72 73 2E 46 69 6C 74 65 72 73 3D 20    ectors.Filters=.
00016c00: 7B 0A 20 20 20 20 20 20 20 20 20 62 79 54 61 67    {..........byTag
00016c10: 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20    :function(B,.A).
00016c20: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 72    {..............r
00016c30: 65 74 75 72 6E 28 41 3D 3D 22 2A 22 7C 7C 28 42    eturn(A=="*"||(B
00016c40: 2E 74 61 67 4E 61 6D 65 26 26 42 2E 74 61 67 4E    .tagName&&B.tagN
00016c50: 61 6D 65 2E 74 6F 4C 6F 77 65 72 43 61 73 65 28    ame.toLowerCase(
00016c60: 29 3D 3D 41 29 29 0A 20 20 20 20 20 20 20 20 20    )==A))..........
00016c70: 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 62 79    }...........,.by
00016c80: 49 44 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 42    ID:function(A,.B
00016c90: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00016ca0: 20 72 65 74 75 72 6E 28 20 21 42 7C 7C 28 41 2E    .return(.!B||(A.
00016cb0: 69 64 26 26 41 2E 69 64 3D 3D 42 29 29 0A 20 20    id&&A.id==B))...
00016cc0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00016cd0: 20 20 20 2C 20 62 79 43 6C 61 73 73 3A 66 75 6E    ...,.byClass:fun
00016ce0: 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A 20 20    ction(B,.A).{...
00016cf0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00016d00: 6E 28 42 2E 63 6C 61 73 73 4E 61 6D 65 26 26 42    n(B.className&&B
00016d10: 2E 63 6C 61 73 73 4E 61 6D 65 2E 63 6F 6E 74 61    .className.conta
00016d20: 69 6E 73 28 41 2C 20 22 20 22 29 29 0A 20 20 20    ins(A,."."))....
00016d30: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00016d40: 20 20 2C 20 62 79 50 73 65 75 64 6F 3A 66 75 6E    ..,.byPseudo:fun
00016d50: 63 74 69 6F 6E 28 41 2C 20 44 2C 20 43 2C 20 42    ction(A,.D,.C,.B
00016d60: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00016d70: 20 72 65 74 75 72 6E 20 44 2E 63 61 6C 6C 28 41    .return.D.call(A
00016d80: 2C 20 43 2C 20 42 29 0A 20 20 20 20 20 20 20 20    ,.C,.B).........
00016d90: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 2C 20 62    .}...........,.b
00016da0: 79 41 74 74 72 69 62 75 74 65 3A 66 75 6E 63 74    yAttribute:funct
00016db0: 69 6F 6E 28 43 2C 20 44 2C 20 42 2C 20 45 29 20    ion(C,.D,.B,.E).
00016dc0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 76    {..............v
00016dd0: 61 72 20 41 3D 45 6C 65 6D 65 6E 74 2E 70 72 6F    ar.A=Element.pro
00016de0: 74 6F 74 79 70 65 2E 67 65 74 50 72 6F 70 65 72    totype.getProper
00016df0: 74 79 2E 63 61 6C 6C 28 43 2C 20 44 29 3B 20 69    ty.call(C,.D);.i
00016e00: 66 28 20 21 41 29 20 7B 0A 20 20 20 20 20 20 20    f(.!A).{........
00016e10: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00016e20: 20 21 31 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!1.............
00016e30: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00016e40: 20 69 66 28 20 21 42 7C 7C 45 3D 3D 75 6E 64 65    .if(.!B||E==unde
00016e50: 66 69 6E 65 64 29 20 7B 0A 20 20 20 20 20 20 20    fined).{........
00016e60: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00016e70: 20 21 30 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!0.............
00016e80: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00016e90: 20 73 77 69 74 63 68 28 42 29 20 7B 0A 20 20 20    .switch(B).{....
00016ea0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 63 61    ..............ca
00016eb0: 73 65 20 22 3D 22 3A 72 65 74 75 72 6E 28 41 3D    se."=":return(A=
00016ec0: 3D 45 29 3B 20 63 61 73 65 20 22 2A 3D 22 3A 72    =E);.case."*=":r
00016ed0: 65 74 75 72 6E 28 41 2E 63 6F 6E 74 61 69 6E 73    eturn(A.contains
00016ee0: 28 45 29 29 3B 20 63 61 73 65 20 22 5E 3D 22 3A    (E));.case."^=":
00016ef0: 72 65 74 75 72 6E 28 41 2E 73 75 62 73 74 72 28    return(A.substr(
00016f00: 30 2C 20 45 2E 6C 65 6E 67 74 68 29 3D 3D 45 29    0,.E.length)==E)
00016f10: 3B 20 63 61 73 65 20 22 24 3D 22 3A 72 65 74 75    ;.case."$=":retu
00016f20: 72 6E 28 41 2E 73 75 62 73 74 72 28 41 2E 6C 65    rn(A.substr(A.le
00016f30: 6E 67 74 68 2D 45 2E 6C 65 6E 67 74 68 29 3D 3D    ngth-E.length)==
00016f40: 45 29 3B 20 63 61 73 65 20 22 21 3D 22 3A 72 65    E);.case."!=":re
00016f50: 74 75 72 6E 28 41 20 21 3D 45 29 3B 20 63 61 73    turn(A.!=E);.cas
00016f60: 65 20 22 7E 3D 22 3A 72 65 74 75 72 6E 20 41 2E    e."~=":return.A.
00016f70: 63 6F 6E 74 61 69 6E 73 28 45 2C 20 22 20 22 29    contains(E,.".")
00016f80: 3B 20 63 61 73 65 20 22 7C 3D 22 3A 72 65 74 75    ;.case."|=":retu
00016f90: 72 6E 20 41 2E 63 6F 6E 74 61 69 6E 73 28 45 2C    rn.A.contains(E,
00016fa0: 20 22 2D 22 29 0A 20 20 20 20 20 20 20 20 20 20    ."-")...........
00016fb0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00016fc0: 20 20 20 72 65 74 75 72 6E 20 21 31 0A 20 20 20    ...return.!1....
00016fd0: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 7D 0A 0A    ......}......}..
00016fe0: 20 20 20 20 20 3B 20 53 65 6C 65 63 74 6F 72 73    .....;.Selectors
00016ff0: 2E 50 73 65 75 64 6F 3D 6E 65 77 20 48 61 73 68    .Pseudo=new.Hash
00017000: 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    (.{.............
00017010: 20 65 6D 70 74 79 3A 66 75 6E 63 74 69 6F 6E 28    .empty:function(
00017020: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00017030: 20 20 20 20 20 72 65 74 75 72 6E 20 21 28 74 68    .....return.!(th
00017040: 69 73 2E 69 6E 6E 65 72 54 65 78 74 7C 7C 74 68    is.innerText||th
00017050: 69 73 2E 74 65 78 74 43 6F 6E 74 65 6E 74 7C 7C    is.textContent||
00017060: 22 22 29 2E 6C 65 6E 67 74 68 0A 20 20 20 20 20    "").length......
00017070: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00017080: 20 20 20 20 20 20 20 20 2C 20 6E 6F 74 3A 66 75    ........,.not:fu
00017090: 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20    nction(A).{.....
000170a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
000170b0: 75 72 6E 20 21 45 6C 65 6D 65 6E 74 2E 6D 61 74    urn.!Element.mat
000170c0: 63 68 28 74 68 69 73 2C 20 41 29 0A 20 20 20 20    ch(this,.A).....
000170d0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000170e0: 20 20 20 20 20 20 20 20 20 2C 20 63 6F 6E 74 61    .........,.conta
000170f0: 69 6E 73 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20    ins:function(A).
00017100: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00017110: 20 20 20 72 65 74 75 72 6E 28 74 68 69 73 2E 69    ...return(this.i
00017120: 6E 6E 65 72 54 65 78 74 7C 7C 74 68 69 73 2E 74    nnerText||this.t
00017130: 65 78 74 43 6F 6E 74 65 6E 74 7C 7C 22 22 29 2E    extContent||"").
00017140: 63 6F 6E 74 61 69 6E 73 28 41 29 0A 20 20 20 20    contains(A).....
00017150: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00017160: 20 20 20 20 20 20 20 20 20 2C 20 22 66 69 72 73    .........,."firs
00017170: 74 2D 63 68 69 6C 64 22 3A 66 75 6E 63 74 69 6F    t-child":functio
00017180: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
00017190: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 53 65    .......return.Se
000171a0: 6C 65 63 74 6F 72 73 2E 50 73 65 75 64 6F 2E 69    lectors.Pseudo.i
000171b0: 6E 64 65 78 2E 63 61 6C 6C 28 74 68 69 73 2C 20    ndex.call(this,.
000171c0: 30 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    0)..............
000171d0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
000171e0: 2C 20 22 6C 61 73 74 2D 63 68 69 6C 64 22 3A 66    ,."last-child":f
000171f0: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
00017200: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
00017210: 20 41 3D 74 68 69 73 3B 20 77 68 69 6C 65 28 28    .A=this;.while((
00017220: 41 3D 41 2E 6E 65 78 74 53 69 62 6C 69 6E 67 29    A=A.nextSibling)
00017230: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00017240: 20 20 20 20 20 20 20 20 20 69 66 28 41 2E 6E 6F    .........if(A.no
00017250: 64 65 54 79 70 65 3D 3D 31 29 20 7B 0A 20 20 20    deType==1).{....
00017260: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017270: 20 20 20 20 20 20 72 65 74 75 72 6E 20 21 31 0A    ......return.!1.
00017280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017290: 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20    .....}..........
000172a0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000172b0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
000172c0: 72 6E 20 21 30 0A 20 20 20 20 20 20 20 20 20 20    rn.!0...........
000172d0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
000172e0: 20 20 20 2C 20 22 6F 6E 6C 79 2D 63 68 69 6C 64    ...,."only-child
000172f0: 22 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    ":function().{..
00017300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017310: 76 61 72 20 42 3D 74 68 69 73 3B 20 77 68 69 6C    var.B=this;.whil
00017320: 65 28 28 42 3D 42 2E 70 72 65 76 69 6F 75 73 53    e((B=B.previousS
00017330: 69 62 6C 69 6E 67 29 29 20 7B 0A 20 20 20 20 20    ibling)).{......
00017340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017350: 69 66 28 42 2E 6E 6F 64 65 54 79 70 65 3D 3D 31    if(B.nodeType==1
00017360: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00017370: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
00017380: 75 72 6E 20 21 31 0A 20 20 20 20 20 20 20 20 20    urn.!1..........
00017390: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
000173a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000173b0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000173c0: 20 20 20 76 61 72 20 41 3D 74 68 69 73 3B 20 77    ...var.A=this;.w
000173d0: 68 69 6C 65 28 28 41 3D 41 2E 6E 65 78 74 53 69    hile((A=A.nextSi
000173e0: 62 6C 69 6E 67 29 29 20 7B 0A 20 20 20 20 20 20    bling)).{.......
000173f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
00017400: 66 28 41 2E 6E 6F 64 65 54 79 70 65 3D 3D 31 29    f(A.nodeType==1)
00017410: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00017420: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00017430: 72 6E 20 21 31 0A 20 20 20 20 20 20 20 20 20 20    rn.!1...........
00017440: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00017450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00017460: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017470: 20 20 72 65 74 75 72 6E 20 21 30 0A 20 20 20 20    ..return.!0.....
00017480: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00017490: 20 20 20 20 20 20 20 20 20 2C 20 22 6E 74 68 2D    .........,."nth-
000174a0: 63 68 69 6C 64 22 3A 66 75 6E 63 74 69 6F 6E 28    child":function(
000174b0: 47 2C 20 45 29 20 7B 0A 20 20 20 20 20 20 20 20    G,.E).{.........
000174c0: 20 20 20 20 20 20 20 20 20 47 3D 28 47 3D 3D 75    .........G=(G==u
000174d0: 6E 64 65 66 69 6E 65 64 29 3F 22 6E 22 3A 47 3B    ndefined)?"n":G;
000174e0: 20 76 61 72 20 43 3D 53 65 6C 65 63 74 6F 72 73    .var.C=Selectors
000174f0: 2E 55 74 69 6C 73 2E 70 61 72 73 65 4E 74 68 41    .Utils.parseNthA
00017500: 72 67 75 6D 65 6E 74 28 47 29 3B 20 69 66 28 43    rgument(G);.if(C
00017510: 2E 73 70 65 63 69 61 6C 20 21 3D 22 6E 22 29 20    .special.!="n").
00017520: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00017530: 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 53 65    .......return.Se
00017540: 6C 65 63 74 6F 72 73 2E 50 73 65 75 64 6F 5B 43    lectors.Pseudo[C
00017550: 2E 73 70 65 63 69 61 6C 5D 2E 63 61 6C 6C 28 74    .special].call(t
00017560: 68 69 73 2C 20 43 2E 61 2C 20 45 29 0A 20 20 20    his,.C.a,.E)....
00017570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00017580: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017590: 20 20 76 61 72 20 46 3D 30 3B 20 45 2E 70 6F 73    ..var.F=0;.E.pos
000175a0: 69 74 69 6F 6E 73 3D 45 2E 70 6F 73 69 74 69 6F    itions=E.positio
000175b0: 6E 73 7C 7C 20 7B 7D 0A 0A 20 20 20 20 20 20 20    ns||.{}.........
000175c0: 20 20 20 20 20 20 20 20 20 20 3B 20 76 61 72 20    ..........;.var.
000175d0: 44 3D 24 75 69 64 28 74 68 69 73 29 3B 20 69 66    D=$uid(this);.if
000175e0: 28 20 21 45 2E 70 6F 73 69 74 69 6F 6E 73 5B 44    (.!E.positions[D
000175f0: 5D 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ]).{............
00017600: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 42 3D    ..........var.B=
00017610: 74 68 69 73 3B 20 77 68 69 6C 65 28 28 42 3D 42    this;.while((B=B
00017620: 2E 70 72 65 76 69 6F 75 73 53 69 62 6C 69 6E 67    .previousSibling
00017630: 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    )).{............
00017640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
00017650: 28 42 2E 6E 6F 64 65 54 79 70 65 20 21 3D 31 29    (B.nodeType.!=1)
00017660: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00017670: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017680: 63 6F 6E 74 69 6E 75 65 0A 20 20 20 20 20 20 20    continue........
00017690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000176a0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000176b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 46 2B    ..............F+
000176c0: 2B 3B 20 76 61 72 20 41 3D 45 2E 70 6F 73 69 74    +;.var.A=E.posit
000176d0: 69 6F 6E 73 5B 24 75 69 64 28 42 29 5D 3B 20 69    ions[$uid(B)];.i
000176e0: 66 28 41 20 21 3D 75 6E 64 65 66 69 6E 65 64 29    f(A.!=undefined)
000176f0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00017700: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017710: 46 3D 41 2B 46 3B 20 62 72 65 61 6B 0A 20 20 20    F=A+F;.break....
00017720: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017730: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
00017740: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00017750: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017760: 20 20 20 20 20 45 2E 70 6F 73 69 74 69 6F 6E 73    .....E.positions
00017770: 5B 44 5D 3D 46 0A 20 20 20 20 20 20 20 20 20 20    [D]=F...........
00017780: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00017790: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
000177a0: 6E 28 45 2E 70 6F 73 69 74 69 6F 6E 73 5B 44 5D    n(E.positions[D]
000177b0: 25 43 2E 61 3D 3D 43 2E 62 29 0A 20 20 20 20 20    %C.a==C.b)......
000177c0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000177d0: 20 20 20 20 20 20 20 20 2C 20 69 6E 64 65 78 3A    ........,.index:
000177e0: 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20    function(A).{...
000177f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
00017800: 61 72 20 42 3D 74 68 69 73 2C 20 43 3D 30 3B 20    ar.B=this,.C=0;.
00017810: 77 68 69 6C 65 28 28 42 3D 42 2E 70 72 65 76 69    while((B=B.previ
00017820: 6F 75 73 53 69 62 6C 69 6E 67 29 29 20 7B 0A 20    ousSibling)).{..
00017830: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017840: 20 20 20 20 69 66 28 42 2E 6E 6F 64 65 54 79 70    ....if(B.nodeTyp
00017850: 65 3D 3D 31 26 26 2B 2B 43 3E 41 29 20 7B 0A 20    e==1&&++C>A).{..
00017860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017870: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 21    ........return.!
00017880: 31 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    1...............
00017890: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
000178a0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000178b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
000178c0: 74 75 72 6E 28 43 3D 3D 41 29 0A 20 20 20 20 20    turn(C==A)......
000178d0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000178e0: 20 20 20 20 20 20 20 20 2C 20 65 76 65 6E 3A 66    ........,.even:f
000178f0: 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A    unction(B,.A).{.
00017900: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017910: 20 72 65 74 75 72 6E 20 53 65 6C 65 63 74 6F 72    .return.Selector
00017920: 73 2E 50 73 65 75 64 6F 5B 22 6E 74 68 2D 63 68    s.Pseudo["nth-ch
00017930: 69 6C 64 22 5D 2E 63 61 6C 6C 28 74 68 69 73 2C    ild"].call(this,
00017940: 20 22 32 6E 2B 31 22 2C 20 41 29 0A 20 20 20 20    ."2n+1",.A).....
00017950: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00017960: 20 20 20 20 20 20 20 20 20 2C 20 6F 64 64 3A 66    .........,.odd:f
00017970: 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A    unction(B,.A).{.
00017980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017990: 20 72 65 74 75 72 6E 20 53 65 6C 65 63 74 6F 72    .return.Selector
000179a0: 73 2E 50 73 65 75 64 6F 5B 22 6E 74 68 2D 63 68    s.Pseudo["nth-ch
000179b0: 69 6C 64 22 5D 2E 63 61 6C 6C 28 74 68 69 73 2C    ild"].call(this,
000179c0: 20 22 32 6E 22 2C 20 41 29 0A 20 20 20 20 20 20    ."2n",.A).......
000179d0: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
000179e0: 20 20 7D 0A 0A 20 20 20 20 20 29 3B 20 45 6C 65    ..}.......);.Ele
000179f0: 6D 65 6E 74 2E 45 76 65 6E 74 73 2E 64 6F 6D 72    ment.Events.domr
00017a00: 65 61 64 79 3D 20 7B 0A 20 20 20 20 20 20 20 20    eady=.{.........
00017a10: 20 6F 6E 41 64 64 3A 66 75 6E 63 74 69 6F 6E 28    .onAdd:function(
00017a20: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    A).{............
00017a30: 20 20 69 66 28 42 72 6F 77 73 65 72 2E 6C 6F 61    ..if(Browser.loa
00017a40: 64 65 64 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ded).{..........
00017a50: 20 20 20 20 20 20 20 20 41 2E 63 61 6C 6C 28 74    ........A.call(t
00017a60: 68 69 73 29 0A 20 20 20 20 20 20 20 20 20 20 20    his)............
00017a70: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 7D 0A 20    ..}..........}..
00017a80: 20 20 20 20 7D 0A 0A 20 20 20 20 20 3B 20 28 66    ....}.......;.(f
00017a90: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
00017aa0: 20 20 20 20 20 20 20 20 20 76 61 72 20 42 3D 66    .........var.B=f
00017ab0: 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20    unction().{.....
00017ac0: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00017ad0: 42 72 6F 77 73 65 72 2E 6C 6F 61 64 65 64 29 20    Browser.loaded).
00017ae0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00017af0: 20 20 20 20 20 20 20 72 65 74 75 72 6E 0A 20 20    .......return...
00017b00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00017b10: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017b20: 20 20 20 42 72 6F 77 73 65 72 2E 6C 6F 61 64 65    ...Browser.loade
00017b30: 64 3D 20 21 30 3B 20 77 69 6E 64 6F 77 2E 66 69    d=.!0;.window.fi
00017b40: 72 65 45 76 65 6E 74 28 22 64 6F 6D 72 65 61 64    reEvent("domread
00017b50: 79 22 29 3B 20 64 6F 63 75 6D 65 6E 74 2E 66 69    y");.document.fi
00017b60: 72 65 45 76 65 6E 74 28 22 64 6F 6D 72 65 61 64    reEvent("domread
00017b70: 79 22 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    y").............
00017b80: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00017b90: 20 3B 20 73 77 69 74 63 68 28 42 72 6F 77 73 65    .;.switch(Browse
00017ba0: 72 2E 45 6E 67 69 6E 65 2E 6E 61 6D 65 29 20 7B    r.Engine.name).{
00017bb0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017bc0: 20 20 63 61 73 65 20 22 77 65 62 6B 69 74 22 3A    ..case."webkit":
00017bd0: 28 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    (function().{...
00017be0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017bf0: 20 20 20 20 20 20 20 28 5B 22 6C 6F 61 64 65 64    .......(["loaded
00017c00: 22 2C 20 22 63 6F 6D 70 6C 65 74 65 22 5D 2E 63    ",."complete"].c
00017c10: 6F 6E 74 61 69 6E 73 28 64 6F 63 75 6D 65 6E 74    ontains(document
00017c20: 2E 72 65 61 64 79 53 74 61 74 65 29 29 3F 42 28    .readyState))?B(
00017c30: 29 3A 61 72 67 75 6D 65 6E 74 73 2E 63 61 6C 6C    ):arguments.call
00017c40: 65 65 2E 64 65 6C 61 79 28 35 30 29 0A 20 20 20    ee.delay(50)....
00017c50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017c60: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00017c70: 20 20 20 20 20 20 29 28 29 3B 20 62 72 65 61 6B    ......)();.break
00017c80: 3B 20 63 61 73 65 20 22 74 72 69 64 65 6E 74 22    ;.case."trident"
00017c90: 3A 76 61 72 20 41 3D 64 6F 63 75 6D 65 6E 74 2E    :var.A=document.
00017ca0: 63 72 65 61 74 65 45 6C 65 6D 65 6E 74 28 22 64    createElement("d
00017cb0: 69 76 22 29 3B 20 28 66 75 6E 63 74 69 6F 6E 28    iv");.(function(
00017cc0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00017cd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 28 24 74    .............($t
00017ce0: 72 79 28 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    ry(function().{.
00017cf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017d00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017d10: 20 20 20 20 20 41 2E 64 6F 53 63 72 6F 6C 6C 28    .....A.doScroll(
00017d20: 22 6C 65 66 74 22 29 3B 20 72 65 74 75 72 6E 20    "left");.return.
00017d30: 24 28 41 29 2E 69 6E 6A 65 63 74 28 64 6F 63 75    $(A).inject(docu
00017d40: 6D 65 6E 74 2E 62 6F 64 79 29 2E 73 65 74 28 22    ment.body).set("
00017d50: 68 74 6D 6C 22 2C 20 22 74 65 6D 70 22 29 2E 64    html",."temp").d
00017d60: 69 73 70 6F 73 65 28 29 0A 20 20 20 20 20 20 20    ispose()........
00017d70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017d80: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00017d90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017da0: 20 20 20 20 20 20 20 20 20 20 29 29 3F 42 28 29    ..........))?B()
00017db0: 3A 61 72 67 75 6D 65 6E 74 73 2E 63 61 6C 6C 65    :arguments.calle
00017dc0: 65 2E 64 65 6C 61 79 28 35 30 29 0A 20 20 20 20    e.delay(50).....
00017dd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017de0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00017df0: 20 20 20 20 20 29 28 29 3B 20 62 72 65 61 6B 3B    .....)();.break;
00017e00: 20 64 65 66 61 75 6C 74 3A 77 69 6E 64 6F 77 2E    .default:window.
00017e10: 61 64 64 45 76 65 6E 74 28 22 6C 6F 61 64 22 2C    addEvent("load",
00017e20: 20 42 29 3B 20 64 6F 63 75 6D 65 6E 74 2E 61 64    .B);.document.ad
00017e30: 64 45 76 65 6E 74 28 22 44 4F 4D 43 6F 6E 74 65    dEvent("DOMConte
00017e40: 6E 74 4C 6F 61 64 65 64 22 2C 20 42 29 0A 20 20    ntLoaded",.B)...
00017e50: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00017e60: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 29 28    ......}.......)(
00017e70: 29 3B 20 76 61 72 20 4A 53 4F 4E 3D 6E 65 77 20    );.var.JSON=new.
00017e80: 48 61 73 68 28 20 7B 0A 20 20 20 20 20 20 20 20    Hash(.{.........
00017e90: 20 20 20 20 20 65 6E 63 6F 64 65 3A 66 75 6E 63    .....encode:func
00017ea0: 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20 20 20 20    tion(B).{.......
00017eb0: 20 20 20 20 20 20 20 20 20 20 20 73 77 69 74 63    ...........switc
00017ec0: 68 28 24 74 79 70 65 28 42 29 29 20 7B 0A 20 20    h($type(B)).{...
00017ed0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00017ee0: 20 20 20 63 61 73 65 20 22 73 74 72 69 6E 67 22    ...case."string"
00017ef0: 3A 72 65 74 75 72 6E 27 22 27 2B 42 2E 72 65 70    :return'"'+B.rep
00017f00: 6C 61 63 65 28 2F 5B 5C 78 30 30 2D 5C 78 31 66    lace(/[\x00-\x1f
00017f10: 5C 5C 22 5D 2F 67 2C 4A 53 4F 4E 2E 24 72 65 70    \\"]/g,JSON.$rep
00017f20: 6C 61 63 65 43 68 61 72 73 29 2B 27 22 27 3B 63    laceChars)+'"';c
00017f30: 61 73 65 20 22 61 72 72 61 79 22 3A 72 65 74 75    ase."array":retu
00017f40: 72 6E 22 5B 22 2B 53 74 72 69 6E 67 28 42 2E 6D    rn"["+String(B.m
00017f50: 61 70 28 4A 53 4F 4E 2E 65 6E 63 6F 64 65 29 2E    ap(JSON.encode).
00017f60: 66 69 6C 74 65 72 28 24 64 65 66 69 6E 65 64 29    filter($defined)
00017f70: 29 2B 22 5D 22 3B 63 61 73 65 20 22 6F 62 6A 65    )+"]";case."obje
00017f80: 63 74 22 3A 63 61 73 65 20 22 68 61 73 68 22 3A    ct":case."hash":
00017f90: 76 61 72 20 41 3D 5B 5D 3B 48 61 73 68 2E 65 61    var.A=[];Hash.ea
00017fa0: 63 68 28 42 2C 66 75 6E 63 74 69 6F 6E 28 45 2C    ch(B,function(E,
00017fb0: 44 29 7B 76 61 72 20 43 3D 4A 53 4F 4E 2E 65 6E    D){var.C=JSON.en
00017fc0: 63 6F 64 65 28 45 29 3B 69 66 28 43 29 7B 41 2E    code(E);if(C){A.
00017fd0: 70 75 73 68 28 4A 53 4F 4E 2E 65 6E 63 6F 64 65    push(JSON.encode
00017fe0: 28 44 29 2B 22 3A 22 2B 43 29 7D 7D 29 3B 72 65    (D)+":"+C)}});re
00017ff0: 74 75 72 6E 22 7B 22 2B 41 2B 22 7D 22 3B 63 61    turn"{"+A+"}";ca
00018000: 73 65 20 22 6E 75 6D 62 65 72 22 3A 63 61 73 65    se."number":case
00018010: 20 22 62 6F 6F 6C 65 61 6E 22 3A 72 65 74 75 72    ."boolean":retur
00018020: 6E 20 53 74 72 69 6E 67 28 42 29 3B 63 61 73 65    n.String(B);case
00018030: 20 66 61 6C 73 65 3A 72 65 74 75 72 6E 22 6E 75    .false:return"nu
00018040: 6C 6C 22 7D 0A 72 65 74 75 72 6E 20 6E 75 6C 6C    ll"}.return.null
00018050: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018060: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00018070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00018080: 24 73 70 65 63 69 61 6C 43 68 61 72 73 3A 20 7B    $specialChars:.{
00018090: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000180a0: 20 20 20 20 20 20 20 20 20 20 22 5C 62 22 3A 22    .........."\b":"
000180b0: 5C 5C 62 22 2C 20 22 5C 74 22 3A 22 5C 5C 74 22    \\b",."\t":"\\t"
000180c0: 2C 20 22 5C 6E 22 3A 22 5C 5C 6E 22 2C 20 22 5C    ,."\n":"\\n",."\
000180d0: 66 22 3A 22 5C 5C 66 22 2C 20 22 5C 72 22 3A 22    f":"\\f",."\r":"
000180e0: 5C 5C 72 22 2C 20 27 22 27 3A 27 5C 5C 22 27 2C    \\r",.'"':'\\"',
000180f0: 20 22 5C 5C 22 3A 22 5C 5C 5C 5C 22 0A 20 20 20    ."\\":"\\\\"....
00018100: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018110: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00018120: 20 20 20 20 20 20 20 20 20 20 2C 20 24 72 65 70    ..........,.$rep
00018130: 6C 61 63 65 43 68 61 72 73 3A 66 75 6E 63 74 69    laceChars:functi
00018140: 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20    on(A).{.........
00018150: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018160: 20 72 65 74 75 72 6E 20 4A 53 4F 4E 2E 24 73 70    .return.JSON.$sp
00018170: 65 63 69 61 6C 43 68 61 72 73 5B 41 5D 7C 7C 22    ecialChars[A]||"
00018180: 5C 5C 75 30 30 22 2B 4D 61 74 68 2E 66 6C 6F 6F    \\u00"+Math.floo
00018190: 72 28 41 2E 63 68 61 72 43 6F 64 65 41 74 28 29    r(A.charCodeAt()
000181a0: 2F 31 36 29 2E 74 6F 53 74 72 69 6E 67 28 31 36    /16).toString(16
000181b0: 29 2B 28 41 2E 63 68 61 72 43 6F 64 65 41 74 28    )+(A.charCodeAt(
000181c0: 29 25 31 36 29 2E 74 6F 53 74 72 69 6E 67 28 31    )%16).toString(1
000181d0: 36 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    6)..............
000181e0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000181f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018200: 2C 20 64 65 63 6F 64 65 3A 66 75 6E 63 74 69 6F    ,.decode:functio
00018210: 6E 28 73 74 72 69 6E 67 2C 20 73 65 63 75 72 65    n(string,.secure
00018220: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00018230: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00018240: 24 74 79 70 65 28 73 74 72 69 6E 67 29 20 21 3D    $type(string).!=
00018250: 22 73 74 72 69 6E 67 22 7C 7C 20 21 73 74 72 69    "string"||.!stri
00018260: 6E 67 2E 6C 65 6E 67 74 68 29 20 7B 0A 20 20 20    ng.length).{....
00018270: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018280: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00018290: 20 6E 75 6C 6C 0A 20 20 20 20 20 20 20 20 20 20    .null...........
000182a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000182b0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000182c0: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 73 65    ...........if(se
000182d0: 63 75 72 65 26 26 20 21 28 2F 5E 5B 2C 20 3A 20    cure&&.!(/^[,.:.
000182e0: 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    {}..............
000182f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018300: 20 20 20 20 20 5C 5B 5C 5D 30 2D 39 2E 5C 2D 2B    .....\[\]0-9.\-+
00018310: 45 61 65 66 6C 6E 72 2D 75 20 5C 6E 5C 72 5C 74    Eaeflnr-u.\n\r\t
00018320: 5D 2A 24 2F 29 2E 74 65 73 74 28 73 74 72 69 6E    ]*$/).test(strin
00018330: 67 2E 72 65 70 6C 61 63 65 28 2F 5C 5C 2E 2F 67    g.replace(/\\./g
00018340: 2C 20 22 40 22 29 2E 72 65 70 6C 61 63 65 28 2F    ,."@").replace(/
00018350: 22 5B 5E 22 5C 5C 5C 6E 5C 72 5D 2A 22 2F 67 2C    "[^"\\\n\r]*"/g,
00018360: 22 22 29 29 29 7B 72 65 74 75 72 6E 20 6E 75 6C    ""))){return.nul
00018370: 6C 7D 0A 72 65 74 75 72 6E 20 65 76 61 6C 28 22    l}.return.eval("
00018380: 28 22 2B 73 74 72 69 6E 67 2B 22 29 22 29 0A 20    ("+string+")")..
00018390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000183a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000183b0: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
000183c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000183d0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000183e0: 20 20 20 20 20 20 20 20 20 20 20 29 3B 20 4E 61    ...........);.Na
000183f0: 74 69 76 65 2E 69 6D 70 6C 65 6D 65 6E 74 28 5B    tive.implement([
00018400: 48 61 73 68 2C 20 41 72 72 61 79 2C 20 53 74 72    Hash,.Array,.Str
00018410: 69 6E 67 2C 20 4E 75 6D 62 65 72 5D 2C 20 7B 0A    ing,.Number],.{.
00018420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018440: 20 74 6F 4A 53 4F 4E 3A 66 75 6E 63 74 69 6F 6E    .toJSON:function
00018450: 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ().{............
00018460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018470: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00018480: 20 4A 53 4F 4E 2E 65 6E 63 6F 64 65 28 74 68 69    .JSON.encode(thi
00018490: 73 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    s)..............
000184a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000184b0: 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20    ....}...........
000184c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000184d0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
000184e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 29    ...............)
000184f0: 3B 20 76 61 72 20 43 6F 6F 6B 69 65 3D 6E 65 77    ;.var.Cookie=new
00018500: 20 43 6C 61 73 73 28 20 7B 0A 20 20 20 20 20 20    .Class(.{.......
00018510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018520: 20 20 20 20 20 20 20 20 20 20 20 49 6D 70 6C 65    ...........Imple
00018530: 6D 65 6E 74 73 3A 4F 70 74 69 6F 6E 73 2C 20 6F    ments:Options,.o
00018540: 70 74 69 6F 6E 73 3A 20 7B 0A 20 20 20 20 20 20    ptions:.{.......
00018550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018560: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 70    ...............p
00018570: 61 74 68 3A 20 21 31 2C 20 64 6F 6D 61 69 6E 3A    ath:.!1,.domain:
00018580: 20 21 31 2C 20 64 75 72 61 74 69 6F 6E 3A 20 21    .!1,.duration:.!
00018590: 31 2C 20 73 65 63 75 72 65 3A 20 21 31 2C 20 64    1,.secure:.!1,.d
000185a0: 6F 63 75 6D 65 6E 74 3A 64 6F 63 75 6D 65 6E 74    ocument:document
000185b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000185c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000185d0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000185e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000185f0: 20 20 20 20 20 20 2C 20 69 6E 69 74 69 61 6C 69    ......,.initiali
00018600: 7A 65 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41    ze:function(B,.A
00018610: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00018620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018630: 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 6B 65    .........this.ke
00018640: 79 3D 42 3B 20 74 68 69 73 2E 73 65 74 4F 70 74    y=B;.this.setOpt
00018650: 69 6F 6E 73 28 41 29 0A 20 20 20 20 20 20 20 20    ions(A).........
00018660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018670: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00018680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018690: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 77    .............,.w
000186a0: 72 69 74 65 3A 66 75 6E 63 74 69 6F 6E 28 42 29    rite:function(B)
000186b0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000186c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000186d0: 20 20 20 20 20 20 20 20 42 3D 65 6E 63 6F 64 65    ........B=encode
000186e0: 55 52 49 43 6F 6D 70 6F 6E 65 6E 74 28 42 29 3B    URIComponent(B);
000186f0: 20 69 66 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73    .if(this.options
00018700: 2E 64 6F 6D 61 69 6E 29 20 7B 0A 20 20 20 20 20    .domain).{......
00018710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018720: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018730: 20 20 20 20 42 2B 3D 22 3B 20 64 6F 6D 61 69 6E    ....B+=";.domain
00018740: 3D 22 2B 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E    ="+this.options.
00018750: 64 6F 6D 61 69 6E 0A 20 20 20 20 20 20 20 20 20    domain..........
00018760: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018770: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00018780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018790: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000187a0: 20 20 20 20 69 66 28 74 68 69 73 2E 6F 70 74 69    ....if(this.opti
000187b0: 6F 6E 73 2E 70 61 74 68 29 20 7B 0A 20 20 20 20    ons.path).{.....
000187c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000187d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000187e0: 20 20 20 20 20 42 2B 3D 22 3B 20 70 61 74 68 3D    .....B+=";.path=
000187f0: 22 2B 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 70    "+this.options.p
00018800: 61 74 68 0A 20 20 20 20 20 20 20 20 20 20 20 20    ath.............
00018810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018820: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00018830: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018850: 20 69 66 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73    .if(this.options
00018860: 2E 64 75 72 61 74 69 6F 6E 29 20 7B 0A 20 20 20    .duration).{....
00018870: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018890: 20 20 20 20 20 20 76 61 72 20 41 3D 6E 65 77 20    ......var.A=new.
000188a0: 44 61 74 65 28 29 3B 20 41 2E 73 65 74 54 69 6D    Date();.A.setTim
000188b0: 65 28 41 2E 67 65 74 54 69 6D 65 28 29 2B 74 68    e(A.getTime()+th
000188c0: 69 73 2E 6F 70 74 69 6F 6E 73 2E 64 75 72 61 74    is.options.durat
000188d0: 69 6F 6E 2A 32 34 2A 36 30 2A 36 30 2A 31 30 30    ion*24*60*60*100
000188e0: 30 29 3B 20 42 2B 3D 22 3B 20 65 78 70 69 72 65    0);.B+=";.expire
000188f0: 73 3D 22 2B 41 2E 74 6F 47 4D 54 53 74 72 69 6E    s="+A.toGMTStrin
00018900: 67 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    g().............
00018910: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018920: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00018930: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018940: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018950: 20 69 66 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73    .if(this.options
00018960: 2E 73 65 63 75 72 65 29 20 7B 0A 20 20 20 20 20    .secure).{......
00018970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018990: 20 20 20 20 42 2B 3D 22 3B 20 73 65 63 75 72 65    ....B+=";.secure
000189a0: 22 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    "...............
000189b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000189c0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000189d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000189e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
000189f0: 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 64 6F 63 75    his.options.docu
00018a00: 6D 65 6E 74 2E 63 6F 6F 6B 69 65 3D 74 68 69 73    ment.cookie=this
00018a10: 2E 6B 65 79 2B 22 3D 22 2B 42 3B 20 72 65 74 75    .key+"="+B;.retu
00018a20: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
00018a30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018a40: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00018a50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018a60: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 72    .............,.r
00018a70: 65 61 64 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B    ead:function().{
00018a80: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018a90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018aa0: 20 20 20 20 20 20 76 61 72 20 41 3D 74 68 69 73    ......var.A=this
00018ab0: 2E 6F 70 74 69 6F 6E 73 2E 64 6F 63 75 6D 65 6E    .options.documen
00018ac0: 74 2E 63 6F 6F 6B 69 65 2E 6D 61 74 63 68 28 22    t.cookie.match("
00018ad0: 28 3F 3A 5E 7C 3B 29 5C 5C 73 2A 22 2B 74 68 69    (?:^|;)\\s*"+thi
00018ae0: 73 2E 6B 65 79 2E 65 73 63 61 70 65 52 65 67 45    s.key.escapeRegE
00018af0: 78 70 28 29 2B 22 3D 28 5B 5E 3B 5D 2A 29 22 29    xp()+"=([^;]*)")
00018b00: 3B 20 72 65 74 75 72 6E 28 41 29 3F 64 65 63 6F    ;.return(A)?deco
00018b10: 64 65 55 52 49 43 6F 6D 70 6F 6E 65 6E 74 28 41    deURIComponent(A
00018b20: 5B 31 5D 29 3A 6E 75 6C 6C 0A 20 20 20 20 20 20    [1]):null.......
00018b30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018b40: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00018b50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018b60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
00018b70: 20 64 69 73 70 6F 73 65 3A 66 75 6E 63 74 69 6F    .dispose:functio
00018b80: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
00018b90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018ba0: 20 20 20 20 20 20 20 20 20 20 20 6E 65 77 20 43    ...........new.C
00018bb0: 6F 6F 6B 69 65 28 74 68 69 73 2E 6B 65 79 2C 20    ookie(this.key,.
00018bc0: 24 6D 65 72 67 65 28 74 68 69 73 2E 6F 70 74 69    $merge(this.opti
00018bd0: 6F 6E 73 2C 20 7B 0A 20 20 20 20 20 20 20 20 20    ons,.{..........
00018be0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018bf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018c00: 20 20 20 20 20 20 20 20 64 75 72 61 74 69 6F 6E    ........duration
00018c10: 3A 2D 31 0A 20 20 20 20 20 20 20 20 20 20 20 20    :-1.............
00018c20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018c30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018c40: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
00018c50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018c60: 20 20 20 20 20 20 20 20 20 20 20 20 20 29 29 2E    .............)).
00018c70: 77 72 69 74 65 28 22 22 29 3B 20 72 65 74 75 72    write("");.retur
00018c80: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
00018c90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018ca0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00018cb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018cc0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00018cd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018ce0: 20 20 20 29 3B 20 43 6F 6F 6B 69 65 2E 77 72 69    ...);.Cookie.wri
00018cf0: 74 65 3D 66 75 6E 63 74 69 6F 6E 28 42 2C 20 43    te=function(B,.C
00018d00: 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.A).{..........
00018d10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018d20: 20 20 20 20 72 65 74 75 72 6E 20 6E 65 77 20 43    ....return.new.C
00018d30: 6F 6F 6B 69 65 28 42 2C 20 41 29 2E 77 72 69 74    ookie(B,.A).writ
00018d40: 65 28 43 29 0A 20 20 20 20 20 20 20 20 20 20 20    e(C)............
00018d50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00018d60: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018d70: 20 20 20 20 20 20 20 20 20 20 3B 20 43 6F 6F 6B    ..........;.Cook
00018d80: 69 65 2E 72 65 61 64 3D 66 75 6E 63 74 69 6F 6E    ie.read=function
00018d90: 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    (A).{...........
00018da0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018db0: 20 20 20 72 65 74 75 72 6E 20 6E 65 77 20 43 6F    ...return.new.Co
00018dc0: 6F 6B 69 65 28 41 29 2E 72 65 61 64 28 29 0A 20    okie(A).read()..
00018dd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018de0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00018df0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018e00: 20 20 20 20 3B 20 43 6F 6F 6B 69 65 2E 64 69 73    ....;.Cookie.dis
00018e10: 70 6F 73 65 3D 66 75 6E 63 74 69 6F 6E 28 42 2C    pose=function(B,
00018e20: 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .A).{...........
00018e30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018e40: 20 20 20 72 65 74 75 72 6E 20 6E 65 77 20 43 6F    ...return.new.Co
00018e50: 6F 6B 69 65 28 42 2C 20 41 29 2E 64 69 73 70 6F    okie(B,.A).dispo
00018e60: 73 65 28 29 0A 20 20 20 20 20 20 20 20 20 20 20    se()............
00018e70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00018e80: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018e90: 20 20 20 20 20 20 20 20 20 20 3B 20 76 61 72 20    ..........;.var.
00018ea0: 53 77 69 66 66 3D 6E 65 77 20 43 6C 61 73 73 28    Swiff=new.Class(
00018eb0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00018ec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018ed0: 20 20 20 20 49 6D 70 6C 65 6D 65 6E 74 73 3A 5B    ....Implements:[
00018ee0: 4F 70 74 69 6F 6E 73 5D 2C 20 6F 70 74 69 6F 6E    Options],.option
00018ef0: 73 3A 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    s:.{............
00018f00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018f10: 20 20 20 20 20 20 20 20 20 20 69 64 3A 6E 75 6C    ..........id:nul
00018f20: 6C 2C 20 68 65 69 67 68 74 3A 31 2C 20 77 69 64    l,.height:1,.wid
00018f30: 74 68 3A 31 2C 20 63 6F 6E 74 61 69 6E 65 72 3A    th:1,.container:
00018f40: 6E 75 6C 6C 2C 20 70 72 6F 70 65 72 74 69 65 73    null,.properties
00018f50: 3A 20 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    :.{}............
00018f60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018f70: 20 20 20 20 20 20 20 20 20 20 20 2C 20 70 61 72    ...........,.par
00018f80: 61 6D 73 3A 20 7B 0A 20 20 20 20 20 20 20 20 20    ams:.{..........
00018f90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018fa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00018fb0: 71 75 61 6C 69 74 79 3A 22 68 69 67 68 22 2C 20    quality:"high",.
00018fc0: 61 6C 6C 6F 77 53 63 72 69 70 74 41 63 63 65 73    allowScriptAcces
00018fd0: 73 3A 22 61 6C 77 61 79 73 22 2C 20 77 4D 6F 64    s:"always",.wMod
00018fe0: 65 3A 22 74 72 61 6E 73 70 61 72 65 6E 74 22 2C    e:"transparent",
00018ff0: 20 73 77 4C 69 76 65 43 6F 6E 6E 65 63 74 3A 20    .swLiveConnect:.
00019000: 21 30 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    !0..............
00019010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019020: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00019030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019050: 2C 20 63 61 6C 6C 42 61 63 6B 73 3A 20 7B 7D 0A    ,.callBacks:.{}.
00019060: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019080: 20 20 20 20 20 20 2C 20 76 61 72 73 3A 20 7B 7D    ......,.vars:.{}
00019090: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000190a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000190b0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
000190c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000190d0: 20 20 20 20 20 20 2C 20 74 6F 45 6C 65 6D 65 6E    ......,.toElemen
000190e0: 74 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    t:function().{..
000190f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019100: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019110: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E    ....return.this.
00019120: 6F 62 6A 65 63 74 0A 20 20 20 20 20 20 20 20 20    object..........
00019130: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019140: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00019150: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019160: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 69 6E    ............,.in
00019170: 69 74 69 61 6C 69 7A 65 3A 66 75 6E 63 74 69 6F    itialize:functio
00019180: 6E 28 4C 2C 20 4D 29 20 7B 0A 20 20 20 20 20 20    n(L,.M).{.......
00019190: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000191a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
000191b0: 68 69 73 2E 69 6E 73 74 61 6E 63 65 3D 22 53 77    his.instance="Sw
000191c0: 69 66 66 5F 22 2B 24 74 69 6D 65 28 29 3B 20 74    iff_"+$time();.t
000191d0: 68 69 73 2E 73 65 74 4F 70 74 69 6F 6E 73 28 4D    his.setOptions(M
000191e0: 29 3B 20 4D 3D 74 68 69 73 2E 6F 70 74 69 6F 6E    );.M=this.option
000191f0: 73 3B 20 76 61 72 20 42 3D 74 68 69 73 2E 69 64    s;.var.B=this.id
00019200: 3D 4D 2E 69 64 7C 7C 74 68 69 73 2E 69 6E 73 74    =M.id||this.inst
00019210: 61 6E 63 65 3B 20 76 61 72 20 41 3D 24 28 4D 2E    ance;.var.A=$(M.
00019220: 63 6F 6E 74 61 69 6E 65 72 29 3B 20 53 77 69 66    container);.Swif
00019230: 66 2E 43 61 6C 6C 42 61 63 6B 73 5B 74 68 69 73    f.CallBacks[this
00019240: 2E 69 6E 73 74 61 6E 63 65 5D 3D 20 7B 7D 0A 0A    .instance]=.{}..
00019250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019260: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019270: 20 20 20 20 20 3B 20 76 61 72 20 45 3D 4D 2E 70    .....;.var.E=M.p
00019280: 61 72 61 6D 73 2C 20 47 3D 4D 2E 76 61 72 73 2C    arams,.G=M.vars,
00019290: 20 46 3D 4D 2E 63 61 6C 6C 42 61 63 6B 73 3B 20    .F=M.callBacks;.
000192a0: 76 61 72 20 48 3D 24 65 78 74 65 6E 64 28 20 7B    var.H=$extend(.{
000192b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000192c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000192d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 68 65    ..............he
000192e0: 69 67 68 74 3A 4D 2E 68 65 69 67 68 74 2C 20 77    ight:M.height,.w
000192f0: 69 64 74 68 3A 4D 2E 77 69 64 74 68 0A 20 20 20    idth:M.width....
00019300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019320: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00019330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019350: 20 20 2C 20 4D 2E 70 72 6F 70 65 72 74 69 65 73    ..,.M.properties
00019360: 29 3B 20 76 61 72 20 4B 3D 74 68 69 73 3B 20 66    );.var.K=this;.f
00019370: 6F 72 28 76 61 72 20 44 20 69 6E 20 46 29 20 7B    or(var.D.in.F).{
00019380: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000193a0: 20 20 20 20 20 20 20 20 20 20 53 77 69 66 66 2E    ..........Swiff.
000193b0: 43 61 6C 6C 42 61 63 6B 73 5B 74 68 69 73 2E 69    CallBacks[this.i
000193c0: 6E 73 74 61 6E 63 65 5D 5B 44 5D 3D 28 66 75 6E    nstance][D]=(fun
000193d0: 63 74 69 6F 6E 28 4E 29 20 7B 0A 20 20 20 20 20    ction(N).{......
000193e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000193f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019400: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
00019410: 72 6E 20 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    rn.function().{.
00019420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019440: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019450: 20 20 20 20 20 72 65 74 75 72 6E 20 4E 2E 61 70    .....return.N.ap
00019460: 70 6C 79 28 4B 2E 6F 62 6A 65 63 74 2C 20 61 72    ply(K.object,.ar
00019470: 67 75 6D 65 6E 74 73 29 0A 20 20 20 20 20 20 20    guments)........
00019480: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019490: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000194a0: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
000194b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000194c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000194d0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000194e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000194f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019500: 20 20 20 20 20 29 28 46 5B 44 5D 29 3B 20 47 5B    .....)(F[D]);.G[
00019510: 44 5D 3D 22 53 77 69 66 66 2E 43 61 6C 6C 42 61    D]="Swiff.CallBa
00019520: 63 6B 73 2E 22 2B 74 68 69 73 2E 69 6E 73 74 61    cks."+this.insta
00019530: 6E 63 65 2B 22 2E 22 2B 44 0A 20 20 20 20 20 20    nce+"."+D.......
00019540: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00019560: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019580: 20 20 20 20 20 20 20 45 2E 66 6C 61 73 68 56 61    .......E.flashVa
00019590: 72 73 3D 48 61 73 68 2E 74 6F 51 75 65 72 79 53    rs=Hash.toQueryS
000195a0: 74 72 69 6E 67 28 47 29 3B 20 69 66 28 42 72 6F    tring(G);.if(Bro
000195b0: 77 73 65 72 2E 45 6E 67 69 6E 65 2E 74 72 69 64    wser.Engine.trid
000195c0: 65 6E 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ent).{..........
000195d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000195e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000195f0: 48 2E 63 6C 61 73 73 69 64 3D 22 63 6C 73 69 64    H.classid="clsid
00019600: 3A 44 32 37 43 44 42 36 45 2D 41 45 36 44 2D 31    :D27CDB6E-AE6D-1
00019610: 31 63 66 2D 39 36 42 38 2D 34 34 34 35 35 33 35    1cf-96B8-4445535
00019620: 34 30 30 30 30 22 3B 20 45 2E 6D 6F 76 69 65 3D    40000";.E.movie=
00019630: 4C 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    L...............
00019640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019650: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00019660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019670: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 65    ...............e
00019680: 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20 20 20    lse.{...........
00019690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000196a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 48    ...............H
000196b0: 2E 74 79 70 65 3D 22 61 70 70 6C 69 63 61 74 69    .type="applicati
000196c0: 6F 6E 2F 78 2D 73 68 6F 63 6B 77 61 76 65 2D 66    on/x-shockwave-f
000196d0: 6C 61 73 68 22 3B 20 48 2E 64 61 74 61 3D 4C 0A    lash";.H.data=L.
000196e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000196f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019700: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00019710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019720: 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72    .............var
00019730: 20 4A 3D 27 3C 6F 62 6A 65 63 74 20 69 64 3D 22    .J='<object.id="
00019740: 27 2B 42 2B 27 22 27 3B 20 66 6F 72 28 76 61 72    '+B+'"';.for(var
00019750: 20 49 20 69 6E 20 48 29 20 7B 0A 20 20 20 20 20    .I.in.H).{......
00019760: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019770: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019780: 20 20 20 20 4A 2B 3D 22 20 22 2B 49 2B 27 3D 22    ....J+="."+I+'="
00019790: 27 2B 48 5B 49 5D 2B 27 22 27 0A 20 20 20 20 20    '+H[I]+'"'......
000197a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000197b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000197c0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
000197d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000197e0: 20 20 20 20 20 20 20 20 4A 2B 3D 22 3E 22 3B 20    ........J+=">";.
000197f0: 66 6F 72 28 76 61 72 20 43 20 69 6E 20 45 29 20    for(var.C.in.E).
00019800: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00019810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019820: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 45 5B    ...........if(E[
00019830: 43 5D 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    C]).{...........
00019840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019850: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019860: 20 20 20 4A 2B 3D 27 3C 70 61 72 61 6D 20 6E 61    ...J+='<param.na
00019870: 6D 65 3D 22 27 2B 43 2B 27 22 20 76 61 6C 75 65    me="'+C+'".value
00019880: 3D 22 27 2B 45 5B 43 5D 2B 27 22 20 2F 3E 27 0A    ="'+E[C]+'"./>'.
00019890: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000198a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000198b0: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
000198c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000198d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000198e0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
000198f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019900: 20 20 20 20 20 20 20 20 4A 2B 3D 22 3C 2F 6F 62    ........J+="</ob
00019910: 6A 65 63 74 3E 22 3B 20 74 68 69 73 2E 6F 62 6A    ject>";.this.obj
00019920: 65 63 74 3D 28 28 41 29 3F 41 2E 65 6D 70 74 79    ect=((A)?A.empty
00019930: 28 29 3A 6E 65 77 20 45 6C 65 6D 65 6E 74 28 22    ():new.Element("
00019940: 64 69 76 22 29 29 2E 73 65 74 28 22 68 74 6D 6C    div")).set("html
00019950: 22 2C 20 4A 29 2E 66 69 72 73 74 43 68 69 6C 64    ",.J).firstChild
00019960: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019980: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00019990: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000199a0: 20 20 20 20 20 20 2C 20 72 65 70 6C 61 63 65 73    ......,.replaces
000199b0: 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20    :function(A).{..
000199c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000199d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000199e0: 20 20 20 20 41 3D 24 28 41 2C 20 20 21 30 29 3B    ....A=$(A,..!0);
000199f0: 20 41 2E 70 61 72 65 6E 74 4E 6F 64 65 2E 72 65    .A.parentNode.re
00019a00: 70 6C 61 63 65 43 68 69 6C 64 28 74 68 69 73 2E    placeChild(this.
00019a10: 74 6F 45 6C 65 6D 65 6E 74 28 29 2C 20 41 29 3B    toElement(),.A);
00019a20: 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20    .return.this....
00019a30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019a40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00019a50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019a60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019a70: 20 20 2C 20 69 6E 6A 65 63 74 3A 66 75 6E 63 74    ..,.inject:funct
00019a80: 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20    ion(A).{........
00019a90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019aa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 24 28    ..............$(
00019ab0: 41 2C 20 20 21 30 29 2E 61 70 70 65 6E 64 43 68    A,..!0).appendCh
00019ac0: 69 6C 64 28 74 68 69 73 2E 74 6F 45 6C 65 6D 65    ild(this.toEleme
00019ad0: 6E 74 28 29 29 3B 20 72 65 74 75 72 6E 20 74 68    nt());.return.th
00019ae0: 69 73 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    is..............
00019af0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019b00: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00019b10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019b20: 20 20 20 20 20 20 20 20 2C 20 72 65 6D 6F 74 65    ........,.remote
00019b30: 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20    :function().{...
00019b40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019b50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019b60: 20 20 20 72 65 74 75 72 6E 20 53 77 69 66 66 2E    ...return.Swiff.
00019b70: 72 65 6D 6F 74 65 2E 61 70 70 6C 79 28 53 77 69    remote.apply(Swi
00019b80: 66 66 2C 20 5B 74 68 69 73 2E 74 6F 45 6C 65 6D    ff,.[this.toElem
00019b90: 65 6E 74 28 29 5D 2E 65 78 74 65 6E 64 28 61 72    ent()].extend(ar
00019ba0: 67 75 6D 65 6E 74 73 29 29 0A 20 20 20 20 20 20    guments)).......
00019bb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019bc0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
00019bd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019be0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00019bf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019c00: 20 20 20 20 20 20 29 3B 20 53 77 69 66 66 2E 43    ......);.Swiff.C
00019c10: 61 6C 6C 42 61 63 6B 73 3D 20 7B 7D 0A 0A 20 20    allBacks=.{}....
00019c20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019c30: 20 20 20 20 20 20 20 3B 20 53 77 69 66 66 2E 72    .......;.Swiff.r
00019c40: 65 6D 6F 74 65 3D 66 75 6E 63 74 69 6F 6E 28 6F    emote=function(o
00019c50: 62 6A 2C 20 66 6E 29 20 7B 0A 20 20 20 20 20 20    bj,.fn).{.......
00019c60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019c70: 20 20 20 20 20 20 20 76 61 72 20 72 73 3D 6F 62    .......var.rs=ob
00019c80: 6A 2E 43 61 6C 6C 46 75 6E 63 74 69 6F 6E 28 27    j.CallFunction('
00019c90: 3C 69 6E 76 6F 6B 65 20 6E 61 6D 65 3D 22 27 2B    <invoke.name="'+
00019ca0: 66 6E 2B 27 22 20 72 65 74 75 72 6E 74 79 70 65    fn+'".returntype
00019cb0: 3D 22 6A 61 76 61 73 63 72 69 70 74 22 3E 27 2B    ="javascript">'+
00019cc0: 5F 5F 66 6C 61 73 68 5F 5F 61 72 67 75 6D 65 6E    __flash__argumen
00019cd0: 74 73 54 6F 58 4D 4C 28 61 72 67 75 6D 65 6E 74    tsToXML(argument
00019ce0: 73 2C 20 32 29 2B 22 3C 2F 69 6E 76 6F 6B 65 3E    s,.2)+"</invoke>
00019cf0: 22 29 3B 20 72 65 74 75 72 6E 20 65 76 61 6C 28    ");.return.eval(
00019d00: 72 73 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    rs).............
00019d10: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00019d20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019d30: 20 20 20 20 20 20 20 20 20 3B 20 76 61 72 20 46    .........;.var.F
00019d40: 78 3D 6E 65 77 20 43 6C 61 73 73 28 20 7B 0A 20    x=new.Class(.{..
00019d50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019d60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019d70: 49 6D 70 6C 65 6D 65 6E 74 73 3A 5B 43 68 61 69    Implements:[Chai
00019d80: 6E 2C 20 45 76 65 6E 74 73 2C 20 4F 70 74 69 6F    n,.Events,.Optio
00019d90: 6E 73 5D 2C 20 6F 70 74 69 6F 6E 73 3A 20 7B 0A    ns],.options:.{.
00019da0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019db0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019dc0: 20 20 20 20 20 66 70 73 3A 35 30 2C 20 75 6E 69    .....fps:50,.uni
00019dd0: 74 3A 20 21 31 2C 20 64 75 72 61 74 69 6F 6E 3A    t:.!1,.duration:
00019de0: 35 30 30 2C 20 6C 69 6E 6B 3A 22 69 67 6E 6F 72    500,.link:"ignor
00019df0: 65 22 2C 20 74 72 61 6E 73 69 74 69 6F 6E 3A 66    e",.transition:f
00019e00: 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20    unction(A).{....
00019e10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019e20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019e30: 20 20 20 20 20 20 72 65 74 75 72 6E 2D 28 4D 61    ......return-(Ma
00019e40: 74 68 2E 63 6F 73 28 4D 61 74 68 2E 50 49 2A 41    th.cos(Math.PI*A
00019e50: 29 2D 31 29 2F 32 0A 20 20 20 20 20 20 20 20 20    )-1)/2..........
00019e60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019e70: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
00019e80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019e90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00019ea0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019eb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019ec0: 20 20 20 2C 20 69 6E 69 74 69 61 6C 69 7A 65 3A    ...,.initialize:
00019ed0: 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20    function(A).{...
00019ee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019ef0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019f00: 20 20 20 74 68 69 73 2E 73 75 62 6A 65 63 74 3D    ...this.subject=
00019f10: 74 68 69 73 2E 73 75 62 6A 65 63 74 7C 7C 74 68    this.subject||th
00019f20: 69 73 3B 20 74 68 69 73 2E 73 65 74 4F 70 74 69    is;.this.setOpti
00019f30: 6F 6E 73 28 41 29 3B 20 74 68 69 73 2E 6F 70 74    ons(A);.this.opt
00019f40: 69 6F 6E 73 2E 64 75 72 61 74 69 6F 6E 3D 46 78    ions.duration=Fx
00019f50: 2E 44 75 72 61 74 69 6F 6E 73 5B 74 68 69 73 2E    .Durations[this.
00019f60: 6F 70 74 69 6F 6E 73 2E 64 75 72 61 74 69 6F 6E    options.duration
00019f70: 5D 7C 7C 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E    ]||this.options.
00019f80: 64 75 72 61 74 69 6F 6E 2E 74 6F 49 6E 74 28 29    duration.toInt()
00019f90: 3B 20 76 61 72 20 42 3D 74 68 69 73 2E 6F 70 74    ;.var.B=this.opt
00019fa0: 69 6F 6E 73 2E 77 61 69 74 3B 20 69 66 28 42 3D    ions.wait;.if(B=
00019fb0: 3D 3D 20 21 31 29 20 7B 0A 20 20 20 20 20 20 20    ==.!1).{........
00019fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019fd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00019fe0: 20 20 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 6C    ..this.options.l
00019ff0: 69 6E 6B 3D 22 63 61 6E 63 65 6C 22 0A 20 20 20    ink="cancel"....
0001a000: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a020: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001a030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a040: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001a050: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a060: 20 20 20 20 20 20 20 20 20 2C 20 73 74 65 70 3A    .........,.step:
0001a070: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
0001a080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a090: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a0a0: 20 20 76 61 72 20 41 3D 24 74 69 6D 65 28 29 3B    ..var.A=$time();
0001a0b0: 20 69 66 28 41 3C 74 68 69 73 2E 74 69 6D 65 2B    .if(A<this.time+
0001a0c0: 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 64 75 72    this.options.dur
0001a0d0: 61 74 69 6F 6E 29 20 7B 0A 20 20 20 20 20 20 20    ation).{........
0001a0e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a0f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a100: 20 20 76 61 72 20 42 3D 74 68 69 73 2E 6F 70 74    ..var.B=this.opt
0001a110: 69 6F 6E 73 2E 74 72 61 6E 73 69 74 69 6F 6E 28    ions.transition(
0001a120: 28 41 2D 74 68 69 73 2E 74 69 6D 65 29 2F 74 68    (A-this.time)/th
0001a130: 69 73 2E 6F 70 74 69 6F 6E 73 2E 64 75 72 61 74    is.options.durat
0001a140: 69 6F 6E 29 3B 20 74 68 69 73 2E 73 65 74 28 74    ion);.this.set(t
0001a150: 68 69 73 2E 63 6F 6D 70 75 74 65 28 74 68 69 73    his.compute(this
0001a160: 2E 66 72 6F 6D 2C 20 74 68 69 73 2E 74 6F 2C 20    .from,.this.to,.
0001a170: 42 29 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    B)).............
0001a180: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a190: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001a1a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a1b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a1c0: 20 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20 20    .else.{.........
0001a1d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a1e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a1f0: 20 74 68 69 73 2E 73 65 74 28 74 68 69 73 2E 63    .this.set(this.c
0001a200: 6F 6D 70 75 74 65 28 74 68 69 73 2E 66 72 6F 6D    ompute(this.from
0001a210: 2C 20 74 68 69 73 2E 74 6F 2C 20 31 29 29 3B 20    ,.this.to,.1));.
0001a220: 74 68 69 73 2E 63 6F 6D 70 6C 65 74 65 28 29 0A    this.complete().
0001a230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a240: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a250: 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20    .....}..........
0001a260: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a270: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001a280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a290: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 73 65    ............,.se
0001a2a0: 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    t:function(A).{.
0001a2b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a2c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a2d0: 20 20 20 20 20 72 65 74 75 72 6E 20 41 0A 20 20    .....return.A...
0001a2e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a2f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001a300: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a320: 20 20 20 2C 20 63 6F 6D 70 75 74 65 3A 66 75 6E    ...,.compute:fun
0001a330: 63 74 69 6F 6E 28 43 2C 20 42 2C 20 41 29 20 7B    ction(C,.B,.A).{
0001a340: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a360: 20 20 20 20 20 20 72 65 74 75 72 6E 20 46 78 2E    ......return.Fx.
0001a370: 63 6F 6D 70 75 74 65 28 43 2C 20 42 2C 20 41 29    compute(C,.B,.A)
0001a380: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a3a0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001a3b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a3c0: 20 20 20 20 20 20 2C 20 63 68 65 63 6B 3A 66 75    ......,.check:fu
0001a3d0: 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20    nction(A).{.....
0001a3e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a3f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a400: 20 69 66 28 20 21 74 68 69 73 2E 74 69 6D 65 72    .if(.!this.timer
0001a410: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0001a420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a430: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0001a440: 75 72 6E 20 21 30 0A 20 20 20 20 20 20 20 20 20    urn.!0..........
0001a450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a460: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0001a470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a480: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a490: 20 20 20 20 73 77 69 74 63 68 28 74 68 69 73 2E    ....switch(this.
0001a4a0: 6F 70 74 69 6F 6E 73 2E 6C 69 6E 6B 29 20 7B 0A    options.link).{.
0001a4b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a4c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a4d0: 20 20 20 20 20 20 20 20 20 63 61 73 65 20 22 63    .........case."c
0001a4e0: 61 6E 63 65 6C 22 3A 74 68 69 73 2E 63 61 6E 63    ancel":this.canc
0001a4f0: 65 6C 28 29 3B 20 72 65 74 75 72 6E 20 21 30 3B    el();.return.!0;
0001a500: 20 63 61 73 65 20 22 63 68 61 69 6E 22 3A 74 68    .case."chain":th
0001a510: 69 73 2E 63 68 61 69 6E 28 41 2E 62 69 6E 64 28    is.chain(A.bind(
0001a520: 74 68 69 73 2C 20 41 72 72 61 79 2E 73 6C 69 63    this,.Array.slic
0001a530: 65 28 61 72 67 75 6D 65 6E 74 73 2C 20 31 29 29    e(arguments,.1))
0001a540: 29 3B 20 72 65 74 75 72 6E 20 21 31 0A 20 20 20    );.return.!1....
0001a550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a560: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a570: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001a580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a590: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
0001a5a0: 20 21 31 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!1.............
0001a5b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a5c0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001a5d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a5e0: 20 20 20 20 20 20 20 20 20 2C 20 73 74 61 72 74    .........,.start
0001a5f0: 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20    :function(B,.A).
0001a600: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001a610: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a620: 20 20 20 20 20 20 20 69 66 28 20 21 74 68 69 73    .......if(.!this
0001a630: 2E 63 68 65 63 6B 28 61 72 67 75 6D 65 6E 74 73    .check(arguments
0001a640: 2E 63 61 6C 6C 65 65 2C 20 42 2C 20 41 29 29 20    .callee,.B,.A)).
0001a650: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001a660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a670: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0001a680: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
0001a690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a6a0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0001a6b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a6c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a6d0: 20 20 20 20 74 68 69 73 2E 66 72 6F 6D 3D 42 3B    ....this.from=B;
0001a6e0: 20 74 68 69 73 2E 74 6F 3D 41 3B 20 74 68 69 73    .this.to=A;.this
0001a6f0: 2E 74 69 6D 65 3D 30 3B 20 74 68 69 73 2E 73 74    .time=0;.this.st
0001a700: 61 72 74 54 69 6D 65 72 28 29 3B 20 74 68 69 73    artTimer();.this
0001a710: 2E 6F 6E 53 74 61 72 74 28 29 3B 20 72 65 74 75    .onStart();.retu
0001a720: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
0001a730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a740: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001a750: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a760: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 63    .............,.c
0001a770: 6F 6D 70 6C 65 74 65 3A 66 75 6E 63 74 69 6F 6E    omplete:function
0001a780: 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ().{............
0001a790: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a7a0: 20 20 20 20 20 20 20 20 20 20 69 66 28 74 68 69    ..........if(thi
0001a7b0: 73 2E 73 74 6F 70 54 69 6D 65 72 28 29 29 20 7B    s.stopTimer()).{
0001a7c0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a7d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a7e0: 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 6F    ..........this.o
0001a7f0: 6E 43 6F 6D 70 6C 65 74 65 28 29 0A 20 20 20 20    nComplete().....
0001a800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a820: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001a830: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a840: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
0001a850: 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20 20    this............
0001a860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a870: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0001a880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a890: 20 20 20 20 20 20 20 20 20 20 2C 20 63 61 6E 63    ..........,.canc
0001a8a0: 65 6C 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A    el:function().{.
0001a8b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a8c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a8d0: 20 20 20 20 20 69 66 28 74 68 69 73 2E 73 74 6F    .....if(this.sto
0001a8e0: 70 54 69 6D 65 72 28 29 29 20 7B 0A 20 20 20 20    pTimer()).{.....
0001a8f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a900: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a910: 20 20 20 20 20 74 68 69 73 2E 6F 6E 43 61 6E 63    .....this.onCanc
0001a920: 65 6C 28 29 0A 20 20 20 20 20 20 20 20 20 20 20    el()............
0001a930: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a940: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001a950: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a970: 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20    ..return.this...
0001a980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a990: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001a9a0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a9b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a9c0: 20 20 20 2C 20 6F 6E 53 74 61 72 74 3A 66 75 6E    ...,.onStart:fun
0001a9d0: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
0001a9e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001a9f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
0001aa00: 68 69 73 2E 66 69 72 65 45 76 65 6E 74 28 22 73    his.fireEvent("s
0001aa10: 74 61 72 74 22 2C 20 74 68 69 73 2E 73 75 62 6A    tart",.this.subj
0001aa20: 65 63 74 29 0A 20 20 20 20 20 20 20 20 20 20 20    ect)............
0001aa30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001aa40: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0001aa50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001aa60: 20 20 20 20 20 20 20 20 20 20 2C 20 6F 6E 43 6F    ..........,.onCo
0001aa70: 6D 70 6C 65 74 65 3A 66 75 6E 63 74 69 6F 6E 28    mplete:function(
0001aa80: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0001aa90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001aaa0: 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 66 69    .........this.fi
0001aab0: 72 65 45 76 65 6E 74 28 22 63 6F 6D 70 6C 65 74    reEvent("complet
0001aac0: 65 22 2C 20 74 68 69 73 2E 73 75 62 6A 65 63 74    e",.this.subject
0001aad0: 29 3B 20 69 66 28 20 21 74 68 69 73 2E 63 61 6C    );.if(.!this.cal
0001aae0: 6C 43 68 61 69 6E 28 29 29 20 7B 0A 20 20 20 20    lChain()).{.....
0001aaf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ab00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ab10: 20 20 20 20 20 74 68 69 73 2E 66 69 72 65 45 76    .....this.fireEv
0001ab20: 65 6E 74 28 22 63 68 61 69 6E 43 6F 6D 70 6C 65    ent("chainComple
0001ab30: 74 65 22 2C 20 74 68 69 73 2E 73 75 62 6A 65 63    te",.this.subjec
0001ab40: 74 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    t)..............
0001ab50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ab60: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
0001ab70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ab80: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001ab90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001aba0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
0001abb0: 20 6F 6E 43 61 6E 63 65 6C 3A 66 75 6E 63 74 69    .onCancel:functi
0001abc0: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
0001abd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001abe0: 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73    ............this
0001abf0: 2E 66 69 72 65 45 76 65 6E 74 28 22 63 61 6E 63    .fireEvent("canc
0001ac00: 65 6C 22 2C 20 74 68 69 73 2E 73 75 62 6A 65 63    el",.this.subjec
0001ac10: 74 29 2E 63 6C 65 61 72 43 68 61 69 6E 28 29 0A    t).clearChain().
0001ac20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ac30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ac40: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001ac50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ac60: 20 20 20 20 20 2C 20 70 61 75 73 65 3A 66 75 6E    .....,.pause:fun
0001ac70: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
0001ac80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ac90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
0001aca0: 68 69 73 2E 73 74 6F 70 54 69 6D 65 72 28 29 3B    his.stopTimer();
0001acb0: 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20    .return.this....
0001acc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001acd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001ace0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001acf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ad00: 20 20 2C 20 72 65 73 75 6D 65 3A 66 75 6E 63 74    ..,.resume:funct
0001ad10: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
0001ad20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ad30: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
0001ad40: 73 2E 73 74 61 72 74 54 69 6D 65 72 28 29 3B 20    s.startTimer();.
0001ad50: 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20    return.this.....
0001ad60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ad70: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0001ad80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ad90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ada0: 20 2C 20 73 74 6F 70 54 69 6D 65 72 3A 66 75 6E    .,.stopTimer:fun
0001adb0: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
0001adc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001add0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
0001ade0: 66 28 20 21 74 68 69 73 2E 74 69 6D 65 72 29 20    f(.!this.timer).
0001adf0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001ae00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ae10: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0001ae20: 6E 20 21 31 0A 20 20 20 20 20 20 20 20 20 20 20    n.!1............
0001ae30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ae40: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001ae50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ae60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ae70: 20 20 74 68 69 73 2E 74 69 6D 65 3D 24 74 69 6D    ..this.time=$tim
0001ae80: 65 28 29 2D 74 68 69 73 2E 74 69 6D 65 3B 20 74    e()-this.time;.t
0001ae90: 68 69 73 2E 74 69 6D 65 72 3D 24 63 6C 65 61 72    his.timer=$clear
0001aea0: 28 74 68 69 73 2E 74 69 6D 65 72 29 3B 20 72 65    (this.timer);.re
0001aeb0: 74 75 72 6E 20 21 30 0A 20 20 20 20 20 20 20 20    turn.!0.........
0001aec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001aed0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001aee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001aef0: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 73    .............,.s
0001af00: 74 61 72 74 54 69 6D 65 72 3A 66 75 6E 63 74 69    tartTimer:functi
0001af10: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
0001af20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001af30: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 74    ............if(t
0001af40: 68 69 73 2E 74 69 6D 65 72 29 20 7B 0A 20 20 20    his.timer).{....
0001af50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001af60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001af70: 20 20 20 20 20 20 72 65 74 75 72 6E 20 21 31 0A    ......return.!1.
0001af80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001af90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001afa0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001afb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001afc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
0001afd0: 73 2E 74 69 6D 65 3D 24 74 69 6D 65 28 29 2D 74    s.time=$time()-t
0001afe0: 68 69 73 2E 74 69 6D 65 3B 20 74 68 69 73 2E 74    his.time;.this.t
0001aff0: 69 6D 65 72 3D 74 68 69 73 2E 73 74 65 70 2E 70    imer=this.step.p
0001b000: 65 72 69 6F 64 69 63 61 6C 28 4D 61 74 68 2E 72    eriodical(Math.r
0001b010: 6F 75 6E 64 28 31 30 30 30 2F 74 68 69 73 2E 6F    ound(1000/this.o
0001b020: 70 74 69 6F 6E 73 2E 66 70 73 29 2C 20 74 68 69    ptions.fps),.thi
0001b030: 73 29 3B 20 72 65 74 75 72 6E 20 21 30 0A 20 20    s);.return.!0...
0001b040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b050: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001b060: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001b080: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b090: 20 20 20 20 20 20 20 20 20 20 29 3B 20 46 78 2E    ..........);.Fx.
0001b0a0: 63 6F 6D 70 75 74 65 3D 66 75 6E 63 74 69 6F 6E    compute=function
0001b0b0: 28 43 2C 20 42 2C 20 41 29 20 7B 0A 20 20 20 20    (C,.B,.A).{.....
0001b0c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b0d0: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 28    .........return(
0001b0e0: 42 2D 43 29 2A 41 2B 43 0A 20 20 20 20 20 20 20    B-C)*A+C........
0001b0f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b100: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001b110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3B 20    ..............;.
0001b120: 46 78 2E 44 75 72 61 74 69 6F 6E 73 3D 20 7B 0A    Fx.Durations=.{.
0001b130: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b140: 20 20 20 20 20 20 20 20 20 20 20 20 20 22 73 68    ............."sh
0001b150: 6F 72 74 22 3A 32 35 30 2C 20 6E 6F 72 6D 61 6C    ort":250,.normal
0001b160: 3A 35 30 30 2C 20 22 6C 6F 6E 67 22 3A 31 30 30    :500,."long":100
0001b170: 30 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    0...............
0001b180: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001b190: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b1a0: 20 20 20 20 20 20 20 3B 20 46 78 2E 43 53 53 3D    .......;.Fx.CSS=
0001b1b0: 6E 65 77 20 43 6C 61 73 73 28 20 7B 0A 20 20 20    new.Class(.{....
0001b1c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b1d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 45 78    ..............Ex
0001b1e0: 74 65 6E 64 73 3A 46 78 2C 20 70 72 65 70 61 72    tends:Fx,.prepar
0001b1f0: 65 3A 66 75 6E 63 74 69 6F 6E 28 44 2C 20 45 2C    e:function(D,.E,
0001b200: 20 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .B).{...........
0001b210: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b220: 20 20 20 20 20 20 20 20 20 20 20 42 3D 24 73 70    ...........B=$sp
0001b230: 6C 61 74 28 42 29 3B 20 76 61 72 20 43 3D 42 5B    lat(B);.var.C=B[
0001b240: 31 5D 3B 20 69 66 28 20 21 24 63 68 6B 28 43 29    1];.if(.!$chk(C)
0001b250: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0001b260: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b270: 20 20 20 20 20 20 20 20 20 20 20 20 20 42 5B 31    .............B[1
0001b280: 5D 3D 42 5B 30 5D 3B 20 42 5B 30 5D 3D 44 2E 67    ]=B[0];.B[0]=D.g
0001b290: 65 74 53 74 79 6C 65 28 45 29 0A 20 20 20 20 20    etStyle(E)......
0001b2a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b2b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b2c0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0001b2d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b2e0: 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 42 2E    ........var.A=B.
0001b2f0: 6D 61 70 28 74 68 69 73 2E 70 61 72 73 65 29 3B    map(this.parse);
0001b300: 20 72 65 74 75 72 6E 20 7B 0A 20 20 20 20 20 20    .return.{.......
0001b310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b320: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b330: 20 20 20 66 72 6F 6D 3A 41 5B 30 5D 2C 20 74 6F    ...from:A[0],.to
0001b340: 3A 41 5B 31 5D 0A 20 20 20 20 20 20 20 20 20 20    :A[1]...........
0001b350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b360: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
0001b370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b380: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001b390: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b3a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b3b0: 20 20 2C 20 70 61 72 73 65 3A 66 75 6E 63 74 69    ..,.parse:functi
0001b3c0: 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20    on(A).{.........
0001b3d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b3e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 41 3D 24    .............A=$
0001b3f0: 6C 61 6D 62 64 61 28 41 29 28 29 3B 20 41 3D 28    lambda(A)();.A=(
0001b400: 74 79 70 65 6F 66 20 41 3D 3D 22 73 74 72 69 6E    typeof.A=="strin
0001b410: 67 22 29 3F 41 2E 73 70 6C 69 74 28 22 20 22 29    g")?A.split(".")
0001b420: 3A 24 73 70 6C 61 74 28 41 29 3B 20 72 65 74 75    :$splat(A);.retu
0001b430: 72 6E 20 41 2E 6D 61 70 28 66 75 6E 63 74 69 6F    rn.A.map(functio
0001b440: 6E 28 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(C).{..........
0001b450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b470: 20 20 20 20 43 3D 53 74 72 69 6E 67 28 43 29 3B    ....C=String(C);
0001b480: 20 76 61 72 20 42 3D 20 21 31 3B 20 46 78 2E 43    .var.B=.!1;.Fx.C
0001b490: 53 53 2E 50 61 72 73 65 72 73 2E 65 61 63 68 28    SS.Parsers.each(
0001b4a0: 66 75 6E 63 74 69 6F 6E 28 46 2C 20 45 29 20 7B    function(F,.E).{
0001b4b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b4c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b4d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b4e0: 20 20 20 20 20 20 69 66 28 42 29 20 7B 0A 20 20    ......if(B).{...
0001b4f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b500: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b520: 20 20 20 20 20 20 20 72 65 74 75 72 6E 0A 20 20    .......return...
0001b530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b540: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b560: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0001b570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b590: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 44    ...........var.D
0001b5a0: 3D 46 2E 70 61 72 73 65 28 43 29 3B 20 69 66 28    =F.parse(C);.if(
0001b5b0: 24 63 68 6B 28 44 29 29 20 7B 0A 20 20 20 20 20    $chk(D)).{......
0001b5c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b5d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b5e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b5f0: 20 20 20 20 42 3D 20 7B 0A 20 20 20 20 20 20 20    ....B=.{........
0001b600: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b610: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b630: 20 20 20 20 20 20 76 61 6C 75 65 3A 44 2C 20 70    ......value:D,.p
0001b640: 61 72 73 65 72 3A 46 0A 20 20 20 20 20 20 20 20    arser:F.........
0001b650: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b670: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b680: 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001b690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b6a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b6b0: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
0001b6c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b6d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b6e0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001b6f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b700: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b710: 20 20 20 20 20 20 20 20 20 20 20 29 3B 20 42 3D    ...........);.B=
0001b720: 42 7C 7C 20 7B 0A 20 20 20 20 20 20 20 20 20 20    B||.{...........
0001b730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b740: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b750: 20 20 20 20 20 20 20 76 61 6C 75 65 3A 43 2C 20    .......value:C,.
0001b760: 70 61 72 73 65 72 3A 46 78 2E 43 53 53 2E 50 61    parser:Fx.CSS.Pa
0001b770: 72 73 65 72 73 2E 53 74 72 69 6E 67 0A 20 20 20    rsers.String....
0001b780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b790: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b7a0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001b7b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b7c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b7d0: 20 20 20 20 20 20 20 20 20 20 3B 20 72 65 74 75    ..........;.retu
0001b7e0: 72 6E 20 42 0A 20 20 20 20 20 20 20 20 20 20 20    rn.B............
0001b7f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001b810: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b820: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b830: 20 20 20 20 20 20 29 0A 20 20 20 20 20 20 20 20    ......).........
0001b840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b850: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001b860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b870: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 63    .............,.c
0001b880: 6F 6D 70 75 74 65 3A 66 75 6E 63 74 69 6F 6E 28    ompute:function(
0001b890: 44 2C 20 43 2C 20 42 29 20 7B 0A 20 20 20 20 20    D,.C,.B).{......
0001b8a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b8b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b8c0: 76 61 72 20 41 3D 5B 5D 3B 20 28 4D 61 74 68 2E    var.A=[];.(Math.
0001b8d0: 6D 69 6E 28 44 2E 6C 65 6E 67 74 68 2C 20 43 2E    min(D.length,.C.
0001b8e0: 6C 65 6E 67 74 68 29 29 2E 74 69 6D 65 73 28 66    length)).times(f
0001b8f0: 75 6E 63 74 69 6F 6E 28 45 29 20 7B 0A 20 20 20    unction(E).{....
0001b900: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b910: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b920: 20 20 20 20 20 20 20 20 20 20 41 2E 70 75 73 68    ..........A.push
0001b930: 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    (.{.............
0001b940: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b950: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b960: 20 20 20 20 20 20 20 20 20 76 61 6C 75 65 3A 44    .........value:D
0001b970: 5B 45 5D 2E 70 61 72 73 65 72 2E 63 6F 6D 70 75    [E].parser.compu
0001b980: 74 65 28 44 5B 45 5D 2E 76 61 6C 75 65 2C 20 43    te(D[E].value,.C
0001b990: 5B 45 5D 2E 76 61 6C 75 65 2C 20 42 29 2C 20 70    [E].value,.B),.p
0001b9a0: 61 72 73 65 72 3A 44 5B 45 5D 2E 70 61 72 73 65    arser:D[E].parse
0001b9b0: 72 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    r...............
0001b9c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b9d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001b9e0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0001b9f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ba00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ba10: 20 20 20 29 0A 20 20 20 20 20 20 20 20 20 20 20    ...)............
0001ba20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ba30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001ba40: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ba50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ba60: 20 20 20 20 20 20 29 3B 20 41 2E 24 66 61 6D 69    ......);.A.$fami
0001ba70: 6C 79 3D 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ly=.{...........
0001ba80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ba90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 6E    ...............n
0001baa0: 61 6D 65 3A 22 66 78 3A 63 73 73 3A 76 61 6C 75    ame:"fx:css:valu
0001bab0: 65 22 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    e"..............
0001bac0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bad0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001bae0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001baf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bb00: 3B 20 72 65 74 75 72 6E 20 41 0A 20 20 20 20 20    ;.return.A......
0001bb10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bb20: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0001bb30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bb40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bb50: 2C 20 73 65 72 76 65 3A 66 75 6E 63 74 69 6F 6E    ,.serve:function
0001bb60: 28 43 2C 20 42 29 20 7B 0A 20 20 20 20 20 20 20    (C,.B).{........
0001bb70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bb80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
0001bb90: 28 24 74 79 70 65 28 43 29 20 21 3D 22 66 78 3A    ($type(C).!="fx:
0001bba0: 63 73 73 3A 76 61 6C 75 65 22 29 20 7B 0A 20 20    css:value").{...
0001bbb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bbc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bbd0: 20 20 20 20 20 20 20 43 3D 74 68 69 73 2E 70 61    .......C=this.pa
0001bbe0: 72 73 65 28 43 29 0A 20 20 20 20 20 20 20 20 20    rse(C)..........
0001bbf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bc00: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0001bc10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bc20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bc30: 20 20 20 20 76 61 72 20 41 3D 5B 5D 3B 20 43 2E    ....var.A=[];.C.
0001bc40: 65 61 63 68 28 66 75 6E 63 74 69 6F 6E 28 44 29    each(function(D)
0001bc50: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0001bc60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bc70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bc80: 41 3D 41 2E 63 6F 6E 63 61 74 28 44 2E 70 61 72    A=A.concat(D.par
0001bc90: 73 65 72 2E 73 65 72 76 65 28 44 2E 76 61 6C 75    ser.serve(D.valu
0001bca0: 65 2C 20 42 29 29 0A 20 20 20 20 20 20 20 20 20    e,.B))..........
0001bcb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bcc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bcd0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0001bce0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bcf0: 20 20 20 20 20 20 20 20 29 3B 20 72 65 74 75 72    ........);.retur
0001bd00: 6E 20 41 0A 20 20 20 20 20 20 20 20 20 20 20 20    n.A.............
0001bd10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bd20: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001bd30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bd40: 20 20 20 20 20 20 20 20 20 2C 20 72 65 6E 64 65    .........,.rende
0001bd50: 72 3A 66 75 6E 63 74 69 6F 6E 28 41 2C 20 44 2C    r:function(A,.D,
0001bd60: 20 43 2C 20 42 29 20 7B 0A 20 20 20 20 20 20 20    .C,.B).{........
0001bd70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bd80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 41 2E    ..............A.
0001bd90: 73 65 74 53 74 79 6C 65 28 44 2C 20 74 68 69 73    setStyle(D,.this
0001bda0: 2E 73 65 72 76 65 28 43 2C 20 42 29 29 0A 20 20    .serve(C,.B))...
0001bdb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bdc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001bdd0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bde0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bdf0: 20 20 20 2C 20 73 65 61 72 63 68 3A 66 75 6E 63    ...,.search:func
0001be00: 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20    tion(A).{.......
0001be10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001be20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
0001be30: 66 28 46 78 2E 43 53 53 2E 43 61 63 68 65 5B 41    f(Fx.CSS.Cache[A
0001be40: 5D 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ]).{............
0001be50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001be60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0001be70: 74 75 72 6E 20 46 78 2E 43 53 53 2E 43 61 63 68    turn.Fx.CSS.Cach
0001be80: 65 5B 41 5D 0A 20 20 20 20 20 20 20 20 20 20 20    e[A]............
0001be90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bea0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001beb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bed0: 20 20 76 61 72 20 42 3D 20 7B 7D 0A 0A 20 20 20    ..var.B=.{}.....
0001bee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bef0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bf00: 20 20 3B 20 41 72 72 61 79 2E 65 61 63 68 28 64    ..;.Array.each(d
0001bf10: 6F 63 75 6D 65 6E 74 2E 73 74 79 6C 65 53 68 65    ocument.styleShe
0001bf20: 65 74 73 2C 20 66 75 6E 63 74 69 6F 6E 28 45 2C    ets,.function(E,
0001bf30: 20 44 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .D).{...........
0001bf40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bf50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bf60: 20 20 20 76 61 72 20 43 3D 45 2E 68 72 65 66 3B    ...var.C=E.href;
0001bf70: 20 69 66 28 43 26 26 43 2E 63 6F 6E 74 61 69 6E    .if(C&&C.contain
0001bf80: 73 28 22 3A 2F 2F 22 29 26 26 20 21 43 2E 63 6F    s("://")&&.!C.co
0001bf90: 6E 74 61 69 6E 73 28 64 6F 63 75 6D 65 6E 74 2E    ntains(document.
0001bfa0: 64 6F 6D 61 69 6E 29 29 20 7B 0A 20 20 20 20 20    domain)).{......
0001bfb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bfc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001bfd0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
0001bfe0: 72 6E 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    rn..............
0001bff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c000: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c010: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0001c020: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c040: 76 61 72 20 46 3D 45 2E 72 75 6C 65 73 7C 7C 45    var.F=E.rules||E
0001c050: 2E 63 73 73 52 75 6C 65 73 3B 20 41 72 72 61 79    .cssRules;.Array
0001c060: 2E 65 61 63 68 28 46 2C 20 66 75 6E 63 74 69 6F    .each(F,.functio
0001c070: 6E 28 49 2C 20 47 29 20 7B 0A 20 20 20 20 20 20    n(I,.G).{.......
0001c080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c090: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c0a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
0001c0b0: 66 28 20 21 49 2E 73 74 79 6C 65 29 20 7B 0A 20    f(.!I.style).{..
0001c0c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c0d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c0e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c0f0: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 0A 20    ........return..
0001c100: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c120: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c130: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0001c140: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c150: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c160: 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20    ............var.
0001c170: 48 3D 28 49 2E 73 65 6C 65 63 74 6F 72 54 65 78    H=(I.selectorTex
0001c180: 74 29 3F 49 2E 73 65 6C 65 63 74 6F 72 54 65 78    t)?I.selectorTex
0001c190: 74 2E 72 65 70 6C 61 63 65 28 2F 5E 5C 77 2B 2F    t.replace(/^\w+/
0001c1a0: 2C 20 66 75 6E 63 74 69 6F 6E 28 4A 29 20 7B 0A    ,.function(J).{.
0001c1b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c1c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c1d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c1e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0001c1f0: 75 72 6E 20 4A 2E 74 6F 4C 6F 77 65 72 43 61 73    urn.J.toLowerCas
0001c200: 65 28 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    e().............
0001c210: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c230: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0001c240: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c260: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c270: 20 20 20 20 20 29 3A 6E 75 6C 6C 3B 20 69 66 28    .....):null;.if(
0001c280: 20 21 48 7C 7C 20 21 48 2E 74 65 73 74 28 22 5E    .!H||.!H.test("^
0001c290: 22 2B 41 2B 22 24 22 29 29 20 7B 0A 20 20 20 20    "+A+"$")).{.....
0001c2a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c2b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c2c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c2d0: 20 20 20 20 20 72 65 74 75 72 6E 0A 20 20 20 20    .....return.....
0001c2e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c2f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c310: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001c320: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c340: 20 20 20 20 20 20 20 20 20 45 6C 65 6D 65 6E 74    .........Element
0001c350: 2E 53 74 79 6C 65 73 2E 65 61 63 68 28 66 75 6E    .Styles.each(fun
0001c360: 63 74 69 6F 6E 28 4B 2C 20 4A 29 20 7B 0A 20 20    ction(K,.J).{...
0001c370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c380: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c3a0: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 20 21    ...........if(.!
0001c3b0: 49 2E 73 74 79 6C 65 5B 4A 5D 7C 7C 45 6C 65 6D    I.style[J]||Elem
0001c3c0: 65 6E 74 2E 53 68 6F 72 74 53 74 79 6C 65 73 5B    ent.ShortStyles[
0001c3d0: 4A 5D 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    J]).{...........
0001c3e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c3f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c400: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c410: 20 20 20 20 20 20 20 72 65 74 75 72 6E 0A 20 20    .......return...
0001c420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c440: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c450: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001c460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c480: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c490: 20 20 20 20 20 20 20 20 20 20 20 4B 3D 53 74 72    ...........K=Str
0001c4a0: 69 6E 67 28 49 2E 73 74 79 6C 65 5B 4A 5D 29 3B    ing(I.style[J]);
0001c4b0: 20 42 5B 4A 5D 3D 28 4B 2E 74 65 73 74 28 2F 5E    .B[J]=(K.test(/^
0001c4c0: 72 67 62 2F 29 29 3F 4B 2E 72 67 62 54 6F 48 65    rgb/))?K.rgbToHe
0001c4d0: 78 28 29 3A 4B 0A 20 20 20 20 20 20 20 20 20 20    x():K...........
0001c4e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c4f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c500: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001c510: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c520: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c540: 20 20 20 20 20 20 20 29 0A 20 20 20 20 20 20 20    .......)........
0001c550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c560: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c570: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001c580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c590: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c5a0: 20 20 20 20 20 20 20 20 20 20 29 0A 20 20 20 20    ..........).....
0001c5b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c5c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c5d0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001c5e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c5f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 29 3B 20    .............);.
0001c600: 72 65 74 75 72 6E 20 46 78 2E 43 53 53 2E 43 61    return.Fx.CSS.Ca
0001c610: 63 68 65 5B 41 5D 3D 42 0A 20 20 20 20 20 20 20    che[A]=B........
0001c620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c630: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
0001c640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c650: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001c660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c670: 20 20 20 20 20 29 3B 20 46 78 2E 43 53 53 2E 43    .....);.Fx.CSS.C
0001c680: 61 63 68 65 3D 20 7B 7D 0A 0A 20 20 20 20 20 20    ache=.{}........
0001c690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c6a0: 20 20 20 3B 20 46 78 2E 43 53 53 2E 50 61 72 73    ...;.Fx.CSS.Pars
0001c6b0: 65 72 73 3D 6E 65 77 20 48 61 73 68 28 20 7B 0A    ers=new.Hash(.{.
0001c6c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c6d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c6e0: 20 43 6F 6C 6F 72 3A 20 7B 0A 20 20 20 20 20 20    .Color:.{.......
0001c6f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c700: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 70    ...............p
0001c710: 61 72 73 65 3A 66 75 6E 63 74 69 6F 6E 28 41 29    arse:function(A)
0001c720: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0001c730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c740: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 41    ............if(A
0001c750: 2E 6D 61 74 63 68 28 2F 5E 23 5B 30 2D 39 61 2D    .match(/^#[0-9a-
0001c760: 66 5D 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    f].{............
0001c770: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c790: 20 20 20 20 20 20 20 20 20 20 33 2C 20 36 0A 20    ..........3,.6..
0001c7a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c7b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c7c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c7d0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0001c7e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c7f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c800: 20 20 20 20 24 2F 69 29 29 20 7B 0A 20 20 20 20    ....$/i)).{.....
0001c810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c820: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c830: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
0001c840: 41 2E 68 65 78 54 6F 52 67 62 28 20 21 30 29 0A    A.hexToRgb(.!0).
0001c850: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c870: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001c880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c890: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c8a0: 20 20 20 20 20 72 65 74 75 72 6E 28 28 41 3D 41    .....return((A=A
0001c8b0: 2E 6D 61 74 63 68 28 2F 28 5C 64 2B 29 2C 20 5C    .match(/(\d+),.\
0001c8c0: 73 2A 28 5C 64 2B 29 2C 20 5C 73 2A 28 5C 64 2B    s*(\d+),.\s*(\d+
0001c8d0: 29 2F 29 29 29 3F 5B 41 5B 31 5D 2C 20 41 5B 32    )/)))?[A[1],.A[2
0001c8e0: 5D 2C 20 41 5B 33 5D 5D 3A 20 21 31 0A 20 20 20    ],.A[3]]:.!1....
0001c8f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c900: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c910: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001c920: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c930: 20 20 20 20 20 20 20 20 20 20 2C 20 63 6F 6D 70    ..........,.comp
0001c940: 75 74 65 3A 66 75 6E 63 74 69 6F 6E 28 43 2C 20    ute:function(C,.
0001c950: 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20    B,.A).{.........
0001c960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c980: 20 72 65 74 75 72 6E 20 43 2E 6D 61 70 28 66 75    .return.C.map(fu
0001c990: 6E 63 74 69 6F 6E 28 45 2C 20 44 29 20 7B 0A 20    nction(E,.D).{..
0001c9a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c9b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c9c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001c9d0: 72 65 74 75 72 6E 20 4D 61 74 68 2E 72 6F 75 6E    return.Math.roun
0001c9e0: 64 28 46 78 2E 63 6F 6D 70 75 74 65 28 43 5B 44    d(Fx.compute(C[D
0001c9f0: 5D 2C 20 42 5B 44 5D 2C 20 41 29 29 0A 20 20 20    ],.B[D],.A))....
0001ca00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ca10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ca20: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001ca30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ca40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ca50: 20 20 20 20 20 20 29 0A 20 20 20 20 20 20 20 20    ......).........
0001ca60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ca70: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0001ca80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ca90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001caa0: 20 20 20 20 20 2C 20 73 65 72 76 65 3A 66 75 6E    .....,.serve:fun
0001cab0: 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20    ction(A).{......
0001cac0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cad0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cae0: 20 20 20 20 72 65 74 75 72 6E 20 41 2E 6D 61 70    ....return.A.map
0001caf0: 28 4E 75 6D 62 65 72 29 0A 20 20 20 20 20 20 20    (Number)........
0001cb00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cb10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001cb20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cb30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cb40: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001cb50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cb60: 20 20 20 20 20 2C 20 4E 75 6D 62 65 72 3A 20 7B    .....,.Number:.{
0001cb70: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cb80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cb90: 20 20 20 20 20 20 70 61 72 73 65 3A 70 61 72 73    ......parse:pars
0001cba0: 65 46 6C 6F 61 74 2C 20 63 6F 6D 70 75 74 65 3A    eFloat,.compute:
0001cbb0: 46 78 2E 63 6F 6D 70 75 74 65 2C 20 73 65 72 76    Fx.compute,.serv
0001cbc0: 65 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29    e:function(B,.A)
0001cbd0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0001cbe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cbf0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
0001cc00: 72 6E 28 41 29 3F 42 2B 41 3A 42 0A 20 20 20 20    rn(A)?B+A:B.....
0001cc10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cc20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cc30: 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001cc40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cc50: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0001cc60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cc70: 20 20 20 20 20 20 20 20 2C 20 53 74 72 69 6E 67    ........,.String
0001cc80: 3A 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    :.{.............
0001cc90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cca0: 20 20 20 20 20 20 20 20 20 70 61 72 73 65 3A 24    .........parse:$
0001ccb0: 6C 61 6D 62 64 61 28 20 21 31 29 2C 20 63 6F 6D    lambda(.!1),.com
0001ccc0: 70 75 74 65 3A 24 61 72 67 75 6D 65 6E 74 73 28    pute:$arguments(
0001ccd0: 31 29 2C 20 73 65 72 76 65 3A 24 61 72 67 75 6D    1),.serve:$argum
0001cce0: 65 6E 74 73 28 30 29 0A 20 20 20 20 20 20 20 20    ents(0).........
0001ccf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cd00: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
0001cd10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cd20: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001cd30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cd40: 20 20 20 20 29 3B 20 46 78 2E 54 77 65 65 6E 3D    ....);.Fx.Tween=
0001cd50: 6E 65 77 20 43 6C 61 73 73 28 20 7B 0A 20 20 20    new.Class(.{....
0001cd60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cd70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 45 78    ..............Ex
0001cd80: 74 65 6E 64 73 3A 46 78 2E 43 53 53 2C 20 69 6E    tends:Fx.CSS,.in
0001cd90: 69 74 69 61 6C 69 7A 65 3A 66 75 6E 63 74 69 6F    itialize:functio
0001cda0: 6E 28 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20    n(B,.A).{.......
0001cdb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cdc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
0001cdd0: 68 69 73 2E 65 6C 65 6D 65 6E 74 3D 74 68 69 73    his.element=this
0001cde0: 2E 73 75 62 6A 65 63 74 3D 24 28 42 29 3B 20 74    .subject=$(B);.t
0001cdf0: 68 69 73 2E 70 61 72 65 6E 74 28 41 29 0A 20 20    his.parent(A)...
0001ce00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ce10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001ce20: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ce30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ce40: 20 20 20 2C 20 73 65 74 3A 66 75 6E 63 74 69 6F    ...,.set:functio
0001ce50: 6E 28 42 2C 20 41 29 20 7B 0A 20 20 20 20 20 20    n(B,.A).{.......
0001ce60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ce70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
0001ce80: 66 28 61 72 67 75 6D 65 6E 74 73 2E 6C 65 6E 67    f(arguments.leng
0001ce90: 74 68 3D 3D 31 29 20 7B 0A 20 20 20 20 20 20 20    th==1).{........
0001cea0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ceb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cec0: 20 20 41 3D 42 3B 20 42 3D 74 68 69 73 2E 70 72    ..A=B;.B=this.pr
0001ced0: 6F 70 65 72 74 79 7C 7C 74 68 69 73 2E 6F 70 74    operty||this.opt
0001cee0: 69 6F 6E 73 2E 70 72 6F 70 65 72 74 79 0A 20 20    ions.property...
0001cef0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cf00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cf10: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0001cf20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cf30: 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
0001cf40: 72 65 6E 64 65 72 28 74 68 69 73 2E 65 6C 65 6D    render(this.elem
0001cf50: 65 6E 74 2C 20 42 2C 20 41 2C 20 74 68 69 73 2E    ent,.B,.A,.this.
0001cf60: 6F 70 74 69 6F 6E 73 2E 75 6E 69 74 29 3B 20 72    options.unit);.r
0001cf70: 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20    eturn.this......
0001cf80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cf90: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0001cfa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cfb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cfc0: 2C 20 73 74 61 72 74 3A 66 75 6E 63 74 69 6F 6E    ,.start:function
0001cfd0: 28 43 2C 20 45 2C 20 44 29 20 7B 0A 20 20 20 20    (C,.E,.D).{.....
0001cfe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001cff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d000: 20 69 66 28 20 21 74 68 69 73 2E 63 68 65 63 6B    .if(.!this.check
0001d010: 28 61 72 67 75 6D 65 6E 74 73 2E 63 61 6C 6C 65    (arguments.calle
0001d020: 65 2C 20 43 2C 20 45 2C 20 44 29 29 20 7B 0A 20    e,.C,.E,.D)).{..
0001d030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d050: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 74    ........return.t
0001d060: 68 69 73 0A 20 20 20 20 20 20 20 20 20 20 20 20    his.............
0001d070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d080: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001d090: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d0a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d0b0: 20 76 61 72 20 42 3D 41 72 72 61 79 2E 66 6C 61    .var.B=Array.fla
0001d0c0: 74 74 65 6E 28 61 72 67 75 6D 65 6E 74 73 29 3B    tten(arguments);
0001d0d0: 20 74 68 69 73 2E 70 72 6F 70 65 72 74 79 3D 74    .this.property=t
0001d0e0: 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 70 72 6F 70    his.options.prop
0001d0f0: 65 72 74 79 7C 7C 42 2E 73 68 69 66 74 28 29 3B    erty||B.shift();
0001d100: 20 76 61 72 20 41 3D 74 68 69 73 2E 70 72 65 70    .var.A=this.prep
0001d110: 61 72 65 28 74 68 69 73 2E 65 6C 65 6D 65 6E 74    are(this.element
0001d120: 2C 20 74 68 69 73 2E 70 72 6F 70 65 72 74 79 2C    ,.this.property,
0001d130: 20 42 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73    .B);.return.this
0001d140: 2E 70 61 72 65 6E 74 28 41 2E 66 72 6F 6D 2C 20    .parent(A.from,.
0001d150: 41 2E 74 6F 29 0A 20 20 20 20 20 20 20 20 20 20    A.to)...........
0001d160: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d170: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
0001d180: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d190: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0001d1a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d1b0: 20 20 29 3B 20 45 6C 65 6D 65 6E 74 2E 50 72 6F    ..);.Element.Pro
0001d1c0: 70 65 72 74 69 65 73 2E 74 77 65 65 6E 3D 20 7B    perties.tween=.{
0001d1d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d1e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 73 65    ..............se
0001d1f0: 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    t:function(A).{.
0001d200: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d210: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d220: 20 76 61 72 20 42 3D 74 68 69 73 2E 72 65 74 72    .var.B=this.retr
0001d230: 69 65 76 65 28 22 74 77 65 65 6E 22 29 3B 20 69    ieve("tween");.i
0001d240: 66 28 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    f(B).{..........
0001d250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d260: 20 20 20 20 20 20 20 20 20 20 20 20 42 2E 63 61    ............B.ca
0001d270: 6E 63 65 6C 28 29 0A 20 20 20 20 20 20 20 20 20    ncel()..........
0001d280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d290: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001d2a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d2b0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
0001d2c0: 72 6E 20 74 68 69 73 2E 65 6C 69 6D 69 6E 61 74    rn.this.eliminat
0001d2d0: 65 28 22 74 77 65 65 6E 22 29 2E 73 74 6F 72 65    e("tween").store
0001d2e0: 28 22 74 77 65 65 6E 3A 6F 70 74 69 6F 6E 73 22    ("tween:options"
0001d2f0: 2C 20 24 65 78 74 65 6E 64 28 20 7B 0A 20 20 20    ,.$extend(.{....
0001d300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d320: 20 20 20 20 20 20 20 20 20 20 6C 69 6E 6B 3A 22    ..........link:"
0001d330: 63 61 6E 63 65 6C 22 0A 20 20 20 20 20 20 20 20    cancel".........
0001d340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d360: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001d370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d380: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 41    .............,.A
0001d390: 29 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    ))..............
0001d3a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d3b0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0001d3c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d3d0: 2C 20 67 65 74 3A 66 75 6E 63 74 69 6F 6E 28 41    ,.get:function(A
0001d3e0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0001d3f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d400: 20 20 20 20 20 69 66 28 41 7C 7C 20 21 74 68 69    .....if(A||.!thi
0001d410: 73 2E 72 65 74 72 69 65 76 65 28 22 74 77 65 65    s.retrieve("twee
0001d420: 6E 22 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n")).{..........
0001d430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d440: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 41    ............if(A
0001d450: 7C 7C 20 21 74 68 69 73 2E 72 65 74 72 69 65 76    ||.!this.retriev
0001d460: 65 28 22 74 77 65 65 6E 3A 6F 70 74 69 6F 6E 73    e("tween:options
0001d470: 22 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ")).{...........
0001d480: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d490: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
0001d4a0: 68 69 73 2E 73 65 74 28 22 74 77 65 65 6E 22 2C    his.set("tween",
0001d4b0: 20 41 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    .A).............
0001d4c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d4d0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001d4e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d4f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d500: 20 74 68 69 73 2E 73 74 6F 72 65 28 22 74 77 65    .this.store("twe
0001d510: 65 6E 22 2C 20 6E 65 77 20 46 78 2E 54 77 65 65    en",.new.Fx.Twee
0001d520: 6E 28 74 68 69 73 2C 20 74 68 69 73 2E 72 65 74    n(this,.this.ret
0001d530: 72 69 65 76 65 28 22 74 77 65 65 6E 3A 6F 70 74    rieve("tween:opt
0001d540: 69 6F 6E 73 22 29 29 29 0A 20 20 20 20 20 20 20    ions")))........
0001d550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d560: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001d570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0001d590: 74 75 72 6E 20 74 68 69 73 2E 72 65 74 72 69 65    turn.this.retrie
0001d5a0: 76 65 28 22 74 77 65 65 6E 22 29 0A 20 20 20 20    ve("tween").....
0001d5b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d5c0: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
0001d5d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d5e0: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0001d5f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d600: 3B 20 45 6C 65 6D 65 6E 74 2E 69 6D 70 6C 65 6D    ;.Element.implem
0001d610: 65 6E 74 28 20 7B 0A 20 20 20 20 20 20 20 20 20    ent(.{..........
0001d620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d630: 20 20 20 20 20 20 20 20 74 77 65 65 6E 3A 66 75    ........tween:fu
0001d640: 6E 63 74 69 6F 6E 28 41 2C 20 43 2C 20 42 29 20    nction(A,.C,.B).
0001d650: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001d660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d670: 20 20 20 20 20 20 20 74 68 69 73 2E 67 65 74 28    .......this.get(
0001d680: 22 74 77 65 65 6E 22 29 2E 73 74 61 72 74 28 61    "tween").start(a
0001d690: 72 67 75 6D 65 6E 74 73 29 3B 20 72 65 74 75 72    rguments);.retur
0001d6a0: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
0001d6b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d6c0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001d6d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d6e0: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 66 61    ............,.fa
0001d6f0: 64 65 3A 66 75 6E 63 74 69 6F 6E 28 43 29 20 7B    de:function(C).{
0001d700: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d720: 20 20 20 20 20 20 76 61 72 20 45 3D 74 68 69 73    ......var.E=this
0001d730: 2E 67 65 74 28 22 74 77 65 65 6E 22 29 2C 20 44    .get("tween"),.D
0001d740: 3D 22 6F 70 61 63 69 74 79 22 2C 20 41 3B 20 43    ="opacity",.A;.C
0001d750: 3D 24 70 69 63 6B 28 43 2C 20 22 74 6F 67 67 6C    =$pick(C,."toggl
0001d760: 65 22 29 3B 20 73 77 69 74 63 68 28 43 29 20 7B    e");.switch(C).{
0001d770: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d790: 20 20 20 20 20 20 20 20 20 20 63 61 73 65 20 22    ..........case."
0001d7a0: 69 6E 22 3A 45 2E 73 74 61 72 74 28 44 2C 20 31    in":E.start(D,.1
0001d7b0: 29 3B 20 62 72 65 61 6B 3B 20 63 61 73 65 20 22    );.break;.case."
0001d7c0: 6F 75 74 22 3A 45 2E 73 74 61 72 74 28 44 2C 20    out":E.start(D,.
0001d7d0: 30 29 3B 20 62 72 65 61 6B 3B 20 63 61 73 65 20    0);.break;.case.
0001d7e0: 22 73 68 6F 77 22 3A 45 2E 73 65 74 28 44 2C 20    "show":E.set(D,.
0001d7f0: 31 29 3B 20 62 72 65 61 6B 3B 20 63 61 73 65 20    1);.break;.case.
0001d800: 22 68 69 64 65 22 3A 45 2E 73 65 74 28 44 2C 20    "hide":E.set(D,.
0001d810: 30 29 3B 20 62 72 65 61 6B 3B 20 63 61 73 65 20    0);.break;.case.
0001d820: 22 74 6F 67 67 6C 65 22 3A 76 61 72 20 42 3D 74    "toggle":var.B=t
0001d830: 68 69 73 2E 72 65 74 72 69 65 76 65 28 22 66 61    his.retrieve("fa
0001d840: 64 65 3A 66 6C 61 67 22 2C 20 74 68 69 73 2E 67    de:flag",.this.g
0001d850: 65 74 28 22 6F 70 61 63 69 74 79 22 29 3D 3D 31    et("opacity")==1
0001d860: 29 3B 20 45 2E 73 74 61 72 74 28 44 2C 20 28 42    );.E.start(D,.(B
0001d870: 29 3F 30 3A 31 29 3B 20 74 68 69 73 2E 73 74 6F    )?0:1);.this.sto
0001d880: 72 65 28 22 66 61 64 65 3A 66 6C 61 67 22 2C 20    re("fade:flag",.
0001d890: 20 21 42 29 3B 20 41 3D 20 21 30 3B 20 62 72 65    .!B);.A=.!0;.bre
0001d8a0: 61 6B 3B 20 64 65 66 61 75 6C 74 3A 45 2E 73 74    ak;.default:E.st
0001d8b0: 61 72 74 28 44 2C 20 61 72 67 75 6D 65 6E 74 73    art(D,.arguments
0001d8c0: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0001d8d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d8e0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0001d8f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d900: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
0001d910: 66 28 20 21 41 29 20 7B 0A 20 20 20 20 20 20 20    f(.!A).{........
0001d920: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d930: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d940: 20 20 74 68 69 73 2E 65 6C 69 6D 69 6E 61 74 65    ..this.eliminate
0001d950: 28 22 66 61 64 65 3A 66 6C 61 67 22 29 0A 20 20    ("fade:flag")...
0001d960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d980: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0001d990: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d9a0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0001d9b0: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
0001d9c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d9d0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001d9e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001d9f0: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 68 69    ............,.hi
0001da00: 67 68 6C 69 67 68 74 3A 66 75 6E 63 74 69 6F 6E    ghlight:function
0001da10: 28 43 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20    (C,.A).{........
0001da20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001da30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
0001da40: 28 20 21 41 29 20 7B 0A 20 20 20 20 20 20 20 20    (.!A).{.........
0001da50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001da60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001da70: 20 41 3D 74 68 69 73 2E 72 65 74 72 69 65 76 65    .A=this.retrieve
0001da80: 28 22 68 69 67 68 6C 69 67 68 74 3A 6F 72 69 67    ("highlight:orig
0001da90: 69 6E 61 6C 22 2C 20 74 68 69 73 2E 67 65 74 53    inal",.this.getS
0001daa0: 74 79 6C 65 28 22 62 61 63 6B 67 72 6F 75 6E 64    tyle("background
0001dab0: 2D 63 6F 6C 6F 72 22 29 29 3B 20 41 3D 28 41 3D    -color"));.A=(A=
0001dac0: 3D 22 74 72 61 6E 73 70 61 72 65 6E 74 22 29 3F    ="transparent")?
0001dad0: 22 23 66 66 66 22 3A 41 0A 20 20 20 20 20 20 20    "#fff":A........
0001dae0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001daf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001db00: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001db10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001db20: 20 20 20 20 20 20 76 61 72 20 42 3D 74 68 69 73    ......var.B=this
0001db30: 2E 67 65 74 28 22 74 77 65 65 6E 22 29 3B 20 42    .get("tween");.B
0001db40: 2E 73 74 61 72 74 28 22 62 61 63 6B 67 72 6F 75    .start("backgrou
0001db50: 6E 64 2D 63 6F 6C 6F 72 22 2C 20 43 7C 7C 22 23    nd-color",.C||"#
0001db60: 66 66 66 66 38 38 22 2C 20 41 29 2E 63 68 61 69    ffff88",.A).chai
0001db70: 6E 28 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20    n(function().{..
0001db80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001db90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dba0: 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73    ............this
0001dbb0: 2E 73 65 74 53 74 79 6C 65 28 22 62 61 63 6B 67    .setStyle("backg
0001dbc0: 72 6F 75 6E 64 2D 63 6F 6C 6F 72 22 2C 20 74 68    round-color",.th
0001dbd0: 69 73 2E 72 65 74 72 69 65 76 65 28 22 68 69 67    is.retrieve("hig
0001dbe0: 68 6C 69 67 68 74 3A 6F 72 69 67 69 6E 61 6C 22    hlight:original"
0001dbf0: 29 29 3B 20 42 2E 63 61 6C 6C 43 68 61 69 6E 28    ));.B.callChain(
0001dc00: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0001dc10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dc20: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001dc30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dc40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dc50: 20 20 20 20 20 20 20 2E 62 69 6E 64 28 74 68 69    ........bind(thi
0001dc60: 73 29 29 3B 20 72 65 74 75 72 6E 20 74 68 69 73    s));.return.this
0001dc70: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dc80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dc90: 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001dca0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dcb0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001dcc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 29 3B 20    .............);.
0001dcd0: 46 78 2E 4D 6F 72 70 68 3D 6E 65 77 20 43 6C 61    Fx.Morph=new.Cla
0001dce0: 73 73 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ss(.{...........
0001dcf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dd00: 20 20 20 20 20 20 20 45 78 74 65 6E 64 73 3A 46    .......Extends:F
0001dd10: 78 2E 43 53 53 2C 20 69 6E 69 74 69 61 6C 69 7A    x.CSS,.initializ
0001dd20: 65 3A 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29    e:function(B,.A)
0001dd30: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0001dd40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dd50: 20 20 20 20 20 20 20 20 74 68 69 73 2E 65 6C 65    ........this.ele
0001dd60: 6D 65 6E 74 3D 74 68 69 73 2E 73 75 62 6A 65 63    ment=this.subjec
0001dd70: 74 3D 24 28 42 29 3B 20 74 68 69 73 2E 70 61 72    t=$(B);.this.par
0001dd80: 65 6E 74 28 41 29 0A 20 20 20 20 20 20 20 20 20    ent(A)..........
0001dd90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dda0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001ddb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ddc0: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 73 65    ............,.se
0001ddd0: 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    t:function(A).{.
0001dde0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ddf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001de00: 20 20 20 20 20 69 66 28 74 79 70 65 6F 66 20 41    .....if(typeof.A
0001de10: 3D 3D 22 73 74 72 69 6E 67 22 29 20 7B 0A 20 20    =="string").{...
0001de20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001de30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001de40: 20 20 20 20 20 20 20 41 3D 74 68 69 73 2E 73 65    .......A=this.se
0001de50: 61 72 63 68 28 41 29 0A 20 20 20 20 20 20 20 20    arch(A).........
0001de60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001de70: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0001de80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001de90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dea0: 20 20 20 20 20 66 6F 72 28 76 61 72 20 42 20 69    .....for(var.B.i
0001deb0: 6E 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n.A).{..........
0001dec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ded0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dee0: 74 68 69 73 2E 72 65 6E 64 65 72 28 74 68 69 73    this.render(this
0001def0: 2E 65 6C 65 6D 65 6E 74 2C 20 42 2C 20 41 5B 42    .element,.B,.A[B
0001df00: 5D 2C 20 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E    ],.this.options.
0001df10: 75 6E 69 74 29 0A 20 20 20 20 20 20 20 20 20 20    unit)...........
0001df20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001df30: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001df40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001df50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001df60: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20    ...return.this..
0001df70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001df80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001df90: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
0001dfa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dfb0: 20 20 20 20 2C 20 63 6F 6D 70 75 74 65 3A 66 75    ....,.compute:fu
0001dfc0: 6E 63 74 69 6F 6E 28 45 2C 20 44 2C 20 43 29 20    nction(E,.D,.C).
0001dfd0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001dfe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001dff0: 20 20 20 20 20 20 20 76 61 72 20 41 3D 20 7B 7D    .......var.A=.{}
0001e000: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e020: 20 20 20 20 20 20 20 3B 20 66 6F 72 28 76 61 72    .......;.for(var
0001e030: 20 42 20 69 6E 20 45 29 20 7B 0A 20 20 20 20 20    .B.in.E).{......
0001e040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e050: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e060: 20 20 20 20 41 5B 42 5D 3D 74 68 69 73 2E 70 61    ....A[B]=this.pa
0001e070: 72 65 6E 74 28 45 5B 42 5D 2C 20 44 5B 42 5D 2C    rent(E[B],.D[B],
0001e080: 20 43 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    .C).............
0001e090: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e0a0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001e0b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e0c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e0d0: 20 72 65 74 75 72 6E 20 41 0A 20 20 20 20 20 20    .return.A.......
0001e0e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e0f0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001e100: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
0001e120: 20 73 74 61 72 74 3A 66 75 6E 63 74 69 6F 6E 28    .start:function(
0001e130: 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    B).{............
0001e140: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e150: 20 20 20 20 20 20 20 20 20 20 69 66 28 20 21 74    ..........if(.!t
0001e160: 68 69 73 2E 63 68 65 63 6B 28 61 72 67 75 6D 65    his.check(argume
0001e170: 6E 74 73 2E 63 61 6C 6C 65 65 2C 20 42 29 29 20    nts.callee,.B)).
0001e180: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001e190: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e1a0: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0001e1b0: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
0001e1c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e1d0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0001e1e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e1f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e200: 20 20 20 20 69 66 28 74 79 70 65 6F 66 20 42 3D    ....if(typeof.B=
0001e210: 3D 22 73 74 72 69 6E 67 22 29 20 7B 0A 20 20 20    ="string").{....
0001e220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e240: 20 20 20 20 20 20 42 3D 74 68 69 73 2E 73 65 61    ......B=this.sea
0001e250: 72 63 68 28 42 29 0A 20 20 20 20 20 20 20 20 20    rch(B)..........
0001e260: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e270: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
0001e280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e2a0: 20 20 20 20 76 61 72 20 45 3D 20 7B 7D 0A 0A 20    ....var.E=.{}...
0001e2b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e2c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e2d0: 20 20 20 20 2C 20 44 3D 20 7B 7D 0A 0A 20 20 20    ....,.D=.{}.....
0001e2e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e2f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e300: 20 20 3B 20 66 6F 72 28 76 61 72 20 43 20 69 6E    ..;.for(var.C.in
0001e310: 20 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .B).{...........
0001e320: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
0001e340: 61 72 20 41 3D 74 68 69 73 2E 70 72 65 70 61 72    ar.A=this.prepar
0001e350: 65 28 74 68 69 73 2E 65 6C 65 6D 65 6E 74 2C 20    e(this.element,.
0001e360: 43 2C 20 42 5B 43 5D 29 3B 20 45 5B 43 5D 3D 41    C,.B[C]);.E[C]=A
0001e370: 2E 66 72 6F 6D 3B 20 44 5B 43 5D 3D 41 2E 74 6F    .from;.D[C]=A.to
0001e380: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e3a0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0001e3b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e3c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0001e3d0: 74 75 72 6E 20 74 68 69 73 2E 70 61 72 65 6E 74    turn.this.parent
0001e3e0: 28 45 2C 20 44 29 0A 20 20 20 20 20 20 20 20 20    (E,.D)..........
0001e3f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e400: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
0001e410: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e420: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0001e430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e440: 20 20 20 29 3B 20 45 6C 65 6D 65 6E 74 2E 50 72    ...);.Element.Pr
0001e450: 6F 70 65 72 74 69 65 73 2E 6D 6F 72 70 68 3D 20    operties.morph=.
0001e460: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001e470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 73    ...............s
0001e480: 65 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B    et:function(A).{
0001e490: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e4a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e4b0: 20 20 76 61 72 20 42 3D 74 68 69 73 2E 72 65 74    ..var.B=this.ret
0001e4c0: 72 69 65 76 65 28 22 6D 6F 72 70 68 22 29 3B 20    rieve("morph");.
0001e4d0: 69 66 28 42 29 20 7B 0A 20 20 20 20 20 20 20 20    if(B).{.........
0001e4e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e4f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 42 2E 63    .............B.c
0001e500: 61 6E 63 65 6C 28 29 0A 20 20 20 20 20 20 20 20    ancel().........
0001e510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e520: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001e530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e540: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
0001e550: 75 72 6E 20 74 68 69 73 2E 65 6C 69 6D 69 6E 61    urn.this.elimina
0001e560: 74 65 28 22 6D 6F 72 70 68 22 29 2E 73 74 6F 72    te("morph").stor
0001e570: 65 28 22 6D 6F 72 70 68 3A 6F 70 74 69 6F 6E 73    e("morph:options
0001e580: 22 2C 20 24 65 78 74 65 6E 64 28 20 7B 0A 20 20    ",.$extend(.{...
0001e590: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e5a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e5b0: 20 20 20 20 20 20 20 20 20 20 20 6C 69 6E 6B 3A    ...........link:
0001e5c0: 22 63 61 6E 63 65 6C 22 0A 20 20 20 20 20 20 20    "cancel"........
0001e5d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e5e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e5f0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001e600: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e610: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
0001e620: 41 29 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    A)).............
0001e630: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e640: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001e650: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e660: 20 2C 20 67 65 74 3A 66 75 6E 63 74 69 6F 6E 28    .,.get:function(
0001e670: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    A).{............
0001e680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e690: 20 20 20 20 20 20 69 66 28 41 7C 7C 20 21 74 68    ......if(A||.!th
0001e6a0: 69 73 2E 72 65 74 72 69 65 76 65 28 22 6D 6F 72    is.retrieve("mor
0001e6b0: 70 68 22 29 29 20 7B 0A 20 20 20 20 20 20 20 20    ph")).{.........
0001e6c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e6d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
0001e6e0: 41 7C 7C 20 21 74 68 69 73 2E 72 65 74 72 69 65    A||.!this.retrie
0001e6f0: 76 65 28 22 6D 6F 72 70 68 3A 6F 70 74 69 6F 6E    ve("morph:option
0001e700: 73 22 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20    s")).{..........
0001e710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e720: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e730: 74 68 69 73 2E 73 65 74 28 22 6D 6F 72 70 68 22    this.set("morph"
0001e740: 2C 20 41 29 0A 20 20 20 20 20 20 20 20 20 20 20    ,.A)............
0001e750: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e760: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001e770: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e790: 20 20 74 68 69 73 2E 73 74 6F 72 65 28 22 6D 6F    ..this.store("mo
0001e7a0: 72 70 68 22 2C 20 6E 65 77 20 46 78 2E 4D 6F 72    rph",.new.Fx.Mor
0001e7b0: 70 68 28 74 68 69 73 2C 20 74 68 69 73 2E 72 65    ph(this,.this.re
0001e7c0: 74 72 69 65 76 65 28 22 6D 6F 72 70 68 3A 6F 70    trieve("morph:op
0001e7d0: 74 69 6F 6E 73 22 29 29 29 0A 20 20 20 20 20 20    tions"))).......
0001e7e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e7f0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001e800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
0001e820: 65 74 75 72 6E 20 74 68 69 73 2E 72 65 74 72 69    eturn.this.retri
0001e830: 65 76 65 28 22 6D 6F 72 70 68 22 29 0A 20 20 20    eve("morph")....
0001e840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e850: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
0001e860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e870: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001e880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e890: 20 3B 20 45 6C 65 6D 65 6E 74 2E 69 6D 70 6C 65    .;.Element.imple
0001e8a0: 6D 65 6E 74 28 20 7B 0A 20 20 20 20 20 20 20 20    ment(.{.........
0001e8b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e8c0: 20 20 20 20 20 20 20 20 20 6D 6F 72 70 68 3A 66    .........morph:f
0001e8d0: 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20    unction(A).{....
0001e8e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e8f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e900: 20 20 74 68 69 73 2E 67 65 74 28 22 6D 6F 72 70    ..this.get("morp
0001e910: 68 22 29 2E 73 74 61 72 74 28 41 29 3B 20 72 65    h").start(A);.re
0001e920: 74 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20    turn.this.......
0001e930: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e940: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
0001e950: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e960: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001e970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e980: 20 20 20 20 20 20 29 3B 20 28 66 75 6E 63 74 69    ......);.(functi
0001e990: 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20    on().{..........
0001e9a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001e9b0: 20 20 20 20 20 20 20 20 76 61 72 20 41 3D 46 78    ........var.A=Fx
0001e9c0: 2E 70 72 6F 74 6F 74 79 70 65 2E 69 6E 69 74 69    .prototype.initi
0001e9d0: 61 6C 69 7A 65 3B 20 46 78 2E 70 72 6F 74 6F 74    alize;.Fx.protot
0001e9e0: 79 70 65 2E 69 6E 69 74 69 61 6C 69 7A 65 3D 66    ype.initialize=f
0001e9f0: 75 6E 63 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20    unction(B).{....
0001ea00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ea10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ea20: 20 20 41 2E 63 61 6C 6C 28 74 68 69 73 2C 20 42    ..A.call(this,.B
0001ea30: 29 3B 20 76 61 72 20 43 3D 74 68 69 73 2E 6F 70    );.var.C=this.op
0001ea40: 74 69 6F 6E 73 2E 74 72 61 6E 73 69 74 69 6F 6E    tions.transition
0001ea50: 3B 20 69 66 28 74 79 70 65 6F 66 20 43 3D 3D 22    ;.if(typeof.C=="
0001ea60: 73 74 72 69 6E 67 22 26 26 28 43 3D 43 2E 73 70    string"&&(C=C.sp
0001ea70: 6C 69 74 28 22 3A 22 29 29 29 20 7B 0A 20 20 20    lit(":"))).{....
0001ea80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ea90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eaa0: 20 20 20 20 20 20 76 61 72 20 44 3D 46 78 2E 54    ......var.D=Fx.T
0001eab0: 72 61 6E 73 69 74 69 6F 6E 73 3B 20 44 3D 44 5B    ransitions;.D=D[
0001eac0: 43 5B 30 5D 5D 7C 7C 44 5B 43 5B 30 5D 2E 63 61    C[0]]||D[C[0].ca
0001ead0: 70 69 74 61 6C 69 7A 65 28 29 5D 3B 20 69 66 28    pitalize()];.if(
0001eae0: 43 5B 31 5D 29 20 7B 0A 20 20 20 20 20 20 20 20    C[1]).{.........
0001eaf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eb00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eb10: 20 20 20 20 20 44 3D 44 5B 22 65 61 73 65 22 2B    .....D=D["ease"+
0001eb20: 43 5B 31 5D 2E 63 61 70 69 74 61 6C 69 7A 65 28    C[1].capitalize(
0001eb30: 29 2B 28 43 5B 32 5D 3F 43 5B 32 5D 2E 63 61 70    )+(C[2]?C[2].cap
0001eb40: 69 74 61 6C 69 7A 65 28 29 3A 22 22 29 5D 0A 20    italize():"")]..
0001eb50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eb60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eb70: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001eb80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eb90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eba0: 20 20 20 20 74 68 69 73 2E 6F 70 74 69 6F 6E 73    ....this.options
0001ebb0: 2E 74 72 61 6E 73 69 74 69 6F 6E 3D 44 0A 20 20    .transition=D...
0001ebc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ebd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ebe0: 20 20 20 7D 0A 20 20 20 20 20 20 20 20 20 20 20    ...}............
0001ebf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ec00: 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20 20    ......}.........
0001ec10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ec20: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001ec30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ec40: 20 29 28 29 3B 20 46 78 2E 54 72 61 6E 73 69 74    .)();.Fx.Transit
0001ec50: 69 6F 6E 3D 66 75 6E 63 74 69 6F 6E 28 42 2C 20    ion=function(B,.
0001ec60: 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    A).{............
0001ec70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ec80: 20 20 41 3D 24 73 70 6C 61 74 28 41 29 3B 20 72    ..A=$splat(A);.r
0001ec90: 65 74 75 72 6E 20 24 65 78 74 65 6E 64 28 42 2C    eturn.$extend(B,
0001eca0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0001ecb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ecc0: 20 20 20 20 20 20 20 20 65 61 73 65 49 6E 3A 66    ........easeIn:f
0001ecd0: 75 6E 63 74 69 6F 6E 28 43 29 20 7B 0A 20 20 20    unction(C).{....
0001ece0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ecf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ed00: 20 20 20 20 20 20 72 65 74 75 72 6E 20 42 28 43    ......return.B(C
0001ed10: 2C 20 41 29 0A 20 20 20 20 20 20 20 20 20 20 20    ,.A)............
0001ed20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ed30: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001ed40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ed50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ed60: 20 20 2C 20 65 61 73 65 4F 75 74 3A 66 75 6E 63    ..,.easeOut:func
0001ed70: 74 69 6F 6E 28 43 29 20 7B 0A 20 20 20 20 20 20    tion(C).{.......
0001ed80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ed90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eda0: 20 20 20 72 65 74 75 72 6E 20 31 2D 42 28 31 2D    ...return.1-B(1-
0001edb0: 43 2C 20 41 29 0A 20 20 20 20 20 20 20 20 20 20    C,.A)...........
0001edc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001edd0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
0001ede0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001edf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ee00: 20 20 20 2C 20 65 61 73 65 49 6E 4F 75 74 3A 66    ...,.easeInOut:f
0001ee10: 75 6E 63 74 69 6F 6E 28 43 29 20 7B 0A 20 20 20    unction(C).{....
0001ee20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ee30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ee40: 20 20 20 20 20 20 72 65 74 75 72 6E 28 43 3C 3D    ......return(C<=
0001ee50: 30 2E 35 29 3F 42 28 32 2A 43 2C 20 41 29 2F 32    0.5)?B(2*C,.A)/2
0001ee60: 3A 28 32 2D 42 28 32 2A 28 31 2D 43 29 2C 20 41    :(2-B(2*(1-C),.A
0001ee70: 29 29 2F 32 0A 20 20 20 20 20 20 20 20 20 20 20    ))/2............
0001ee80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ee90: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
0001eea0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eeb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0001eec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eed0: 20 20 20 20 20 20 20 20 20 20 20 20 20 29 0A 20    .............)..
0001eee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001eef0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001ef00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ef10: 20 20 20 20 3B 20 46 78 2E 54 72 61 6E 73 69 74    ....;.Fx.Transit
0001ef20: 69 6F 6E 73 3D 6E 65 77 20 48 61 73 68 28 20 7B    ions=new.Hash(.{
0001ef30: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ef40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ef50: 20 20 6C 69 6E 65 61 72 3A 24 61 72 67 75 6D 65    ..linear:$argume
0001ef60: 6E 74 73 28 30 29 0A 20 20 20 20 20 20 20 20 20    nts(0)..........
0001ef70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ef80: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0001ef90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001efa0: 29 3B 20 46 78 2E 54 72 61 6E 73 69 74 69 6F 6E    );.Fx.Transition
0001efb0: 73 2E 65 78 74 65 6E 64 3D 66 75 6E 63 74 69 6F    s.extend=functio
0001efc0: 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(A).{..........
0001efd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001efe0: 20 20 20 20 66 6F 72 28 76 61 72 20 42 20 69 6E    ....for(var.B.in
0001eff0: 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .A).{...........
0001f000: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f010: 20 20 20 20 20 20 20 46 78 2E 54 72 61 6E 73 69    .......Fx.Transi
0001f020: 74 69 6F 6E 73 5B 42 5D 3D 6E 65 77 20 46 78 2E    tions[B]=new.Fx.
0001f030: 54 72 61 6E 73 69 74 69 6F 6E 28 41 5B 42 5D 29    Transition(A[B])
0001f040: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f050: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001f060: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f070: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001f080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f090: 20 20 20 20 20 3B 20 46 78 2E 54 72 61 6E 73 69    .....;.Fx.Transi
0001f0a0: 74 69 6F 6E 73 2E 65 78 74 65 6E 64 28 20 7B 0A    tions.extend(.{.
0001f0b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f0c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f0d0: 20 50 6F 77 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    .Pow:function(B,
0001f0e0: 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .A).{...........
0001f0f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f100: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
0001f110: 6E 20 4D 61 74 68 2E 70 6F 77 28 42 2C 20 41 5B    n.Math.pow(B,.A[
0001f120: 30 5D 7C 7C 36 29 0A 20 20 20 20 20 20 20 20 20    0]||6)..........
0001f130: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f140: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001f150: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f160: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 45 78    ............,.Ex
0001f170: 70 6F 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B    po:function(A).{
0001f180: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f190: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f1a0: 20 20 20 20 20 20 72 65 74 75 72 6E 20 4D 61 74    ......return.Mat
0001f1b0: 68 2E 70 6F 77 28 32 2C 20 38 2A 28 41 2D 31 29    h.pow(2,.8*(A-1)
0001f1c0: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
0001f1d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f1e0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0001f1f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f200: 20 20 20 20 20 20 20 2C 20 43 69 72 63 3A 66 75    .......,.Circ:fu
0001f210: 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20    nction(A).{.....
0001f220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f240: 20 72 65 74 75 72 6E 20 31 2D 4D 61 74 68 2E 73    .return.1-Math.s
0001f250: 69 6E 28 4D 61 74 68 2E 61 63 6F 73 28 41 29 29    in(Math.acos(A))
0001f260: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f270: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f280: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001f290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f2a0: 20 20 20 20 20 20 2C 20 53 69 6E 65 3A 66 75 6E    ......,.Sine:fun
0001f2b0: 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20    ction(A).{......
0001f2c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f2d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f2e0: 72 65 74 75 72 6E 20 31 2D 4D 61 74 68 2E 73 69    return.1-Math.si
0001f2f0: 6E 28 28 31 2D 41 29 2A 4D 61 74 68 2E 50 49 2F    n((1-A)*Math.PI/
0001f300: 32 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    2)..............
0001f310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f320: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
0001f330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f340: 20 20 20 20 20 20 20 20 2C 20 42 61 63 6B 3A 66    ........,.Back:f
0001f350: 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A    unction(B,.A).{.
0001f360: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f380: 20 20 20 20 20 41 3D 41 5B 30 5D 7C 7C 31 2E 36    .....A=A[0]||1.6
0001f390: 31 38 3B 20 72 65 74 75 72 6E 20 4D 61 74 68 2E    18;.return.Math.
0001f3a0: 70 6F 77 28 42 2C 20 32 29 2A 28 28 41 2B 31 29    pow(B,.2)*((A+1)
0001f3b0: 2A 42 2D 41 29 0A 20 20 20 20 20 20 20 20 20 20    *B-A)...........
0001f3c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f3d0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
0001f3e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f3f0: 20 20 20 20 20 20 20 20 20 20 20 2C 20 42 6F 75    ...........,.Bou
0001f400: 6E 63 65 3A 66 75 6E 63 74 69 6F 6E 28 44 29 20    nce:function(D).
0001f410: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
0001f420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f430: 20 20 20 20 20 20 20 76 61 72 20 43 3B 20 66 6F    .......var.C;.fo
0001f440: 72 28 76 61 72 20 42 3D 30 2C 20 41 3D 31 3B 20    r(var.B=0,.A=1;.
0001f450: 31 3B 20 42 2B 3D 41 2C 20 41 2F 3D 32 29 20 7B    1;.B+=A,.A/=2).{
0001f460: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f480: 20 20 20 20 20 20 20 20 20 20 69 66 28 44 3E 3D    ..........if(D>=
0001f490: 28 37 2D 34 2A 42 29 2F 31 31 29 20 7B 0A 20 20    (7-4*B)/11).{...
0001f4a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f4b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f4c0: 20 20 20 20 20 20 20 20 20 20 20 43 3D 2D 4D 61    ...........C=-Ma
0001f4d0: 74 68 2E 70 6F 77 28 28 31 31 2D 36 2A 42 2D 31    th.pow((11-6*B-1
0001f4e0: 31 2A 44 29 2F 34 2C 20 32 29 2B 41 2A 41 3B 20    1*D)/4,.2)+A*A;.
0001f4f0: 62 72 65 61 6B 0A 20 20 20 20 20 20 20 20 20 20    break...........
0001f500: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001f520: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f540: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
0001f550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f560: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
0001f570: 74 75 72 6E 20 43 0A 20 20 20 20 20 20 20 20 20    turn.C..........
0001f580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f590: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
0001f5a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f5b0: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 45 6C    ............,.El
0001f5c0: 61 73 74 69 63 3A 66 75 6E 63 74 69 6F 6E 28 42    astic:function(B
0001f5d0: 2C 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    ,.A).{..........
0001f5e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f5f0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
0001f600: 72 6E 20 4D 61 74 68 2E 70 6F 77 28 32 2C 20 31    rn.Math.pow(2,.1
0001f610: 30 2A 2D 2D 42 29 2A 4D 61 74 68 2E 63 6F 73 28    0*--B)*Math.cos(
0001f620: 32 30 2A 42 2A 4D 61 74 68 2E 50 49 2A 28 41 5B    20*B*Math.PI*(A[
0001f630: 30 5D 7C 7C 31 29 2F 33 29 0A 20 20 20 20 20 20    0]||1)/3).......
0001f640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f650: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20    ...........}....
0001f660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f670: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001f680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f690: 20 20 20 20 20 20 29 3B 20 5B 22 51 75 61 64 22    ......);.["Quad"
0001f6a0: 2C 20 22 43 75 62 69 63 22 2C 20 22 51 75 61 72    ,."Cubic",."Quar
0001f6b0: 74 22 2C 20 22 51 75 69 6E 74 22 5D 2E 65 61 63    t",."Quint"].eac
0001f6c0: 68 28 66 75 6E 63 74 69 6F 6E 28 42 2C 20 41 29    h(function(B,.A)
0001f6d0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0001f6e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f6f0: 20 20 20 20 46 78 2E 54 72 61 6E 73 69 74 69 6F    ....Fx.Transitio
0001f700: 6E 73 5B 42 5D 3D 6E 65 77 20 46 78 2E 54 72 61    ns[B]=new.Fx.Tra
0001f710: 6E 73 69 74 69 6F 6E 28 66 75 6E 63 74 69 6F 6E    nsition(function
0001f720: 28 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    (C).{...........
0001f730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f740: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
0001f750: 65 74 75 72 6E 20 4D 61 74 68 2E 70 6F 77 28 43    eturn.Math.pow(C
0001f760: 2C 20 5B 41 2B 32 5D 29 0A 20 20 20 20 20 20 20    ,.[A+2])........
0001f770: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
0001f790: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f7a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f7b0: 20 20 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    ..).............
0001f7c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f7d0: 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20    .}..............
0001f7e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 29 3B 20    .............);.
0001f7f0: 76 61 72 20 52 65 71 75 65 73 74 3D 6E 65 77 20    var.Request=new.
0001f800: 43 6C 61 73 73 28 20 7B 0A 20 20 20 20 20 20 20    Class(.{........
0001f810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f820: 20 20 20 20 20 20 20 20 20 20 49 6D 70 6C 65 6D    ..........Implem
0001f830: 65 6E 74 73 3A 5B 43 68 61 69 6E 2C 20 45 76 65    ents:[Chain,.Eve
0001f840: 6E 74 73 2C 20 4F 70 74 69 6F 6E 73 5D 2C 20 6F    nts,.Options],.o
0001f850: 70 74 69 6F 6E 73 3A 20 7B 0A 20 20 20 20 20 20    ptions:.{.......
0001f860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f870: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 75    ...............u
0001f880: 72 6C 3A 22 22 2C 20 64 61 74 61 3A 22 22 2C 20    rl:"",.data:"",.
0001f890: 68 65 61 64 65 72 73 3A 20 7B 0A 20 20 20 20 20    headers:.{......
0001f8a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f8b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f8c0: 20 20 20 20 22 58 2D 52 65 71 75 65 73 74 65 64    ...."X-Requested
0001f8d0: 2D 57 69 74 68 22 3A 22 58 4D 4C 48 74 74 70 52    -With":"XMLHttpR
0001f8e0: 65 71 75 65 73 74 22 2C 20 41 63 63 65 70 74 3A    equest",.Accept:
0001f8f0: 22 74 65 78 74 2F 6A 61 76 61 73 63 72 69 70 74    "text/javascript
0001f900: 2C 20 74 65 78 74 2F 68 74 6D 6C 2C 20 61 70 70    ,.text/html,.app
0001f910: 6C 69 63 61 74 69 6F 6E 2F 78 6D 6C 2C 20 74 65    lication/xml,.te
0001f920: 78 74 2F 78 6D 6C 2C 20 2A 2F 2A 22 0A 20 20 20    xt/xml,.*/*"....
0001f930: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f940: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f950: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001f960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001f970: 20 20 20 20 20 20 20 20 20 20 2C 20 61 73 79 6E    ..........,.asyn
0001f980: 63 3A 20 21 30 2C 20 66 6F 72 6D 61 74 3A 20 21    c:.!0,.format:.!
0001f990: 31 2C 20 6D 65 74 68 6F 64 3A 22 70 6F 73 74 22    1,.method:"post"
0001f9a0: 2C 20 6C 69 6E 6B 3A 22 69 67 6E 6F 72 65 22 2C    ,.link:"ignore",
0001f9b0: 20 69 73 53 75 63 63 65 73 73 3A 6E 75 6C 6C 2C    .isSuccess:null,
0001f9c0: 20 65 6D 75 6C 61 74 69 6F 6E 3A 20 21 30 2C 20    .emulation:.!0,.
0001f9d0: 75 72 6C 45 6E 63 6F 64 65 64 3A 20 21 30 2C 20    urlEncoded:.!0,.
0001f9e0: 65 6E 63 6F 64 69 6E 67 3A 22 75 74 66 2D 38 22    encoding:"utf-8"
0001f9f0: 2C 20 65 76 61 6C 53 63 72 69 70 74 73 3A 20 21    ,.evalScripts:.!
0001fa00: 31 2C 20 65 76 61 6C 52 65 73 70 6F 6E 73 65 3A    1,.evalResponse:
0001fa10: 20 21 31 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!1.............
0001fa20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fa30: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
0001fa40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fa50: 20 20 20 20 20 20 20 20 20 2C 20 69 6E 69 74 69    .........,.initi
0001fa60: 61 6C 69 7A 65 3A 66 75 6E 63 74 69 6F 6E 28 41    alize:function(A
0001fa70: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
0001fa80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fa90: 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 78 68    .........this.xh
0001faa0: 72 3D 6E 65 77 20 42 72 6F 77 73 65 72 2E 52 65    r=new.Browser.Re
0001fab0: 71 75 65 73 74 28 29 3B 20 74 68 69 73 2E 73 65    quest();.this.se
0001fac0: 74 4F 70 74 69 6F 6E 73 28 41 29 3B 20 74 68 69    tOptions(A);.thi
0001fad0: 73 2E 6F 70 74 69 6F 6E 73 2E 69 73 53 75 63 63    s.options.isSucc
0001fae0: 65 73 73 3D 74 68 69 73 2E 6F 70 74 69 6F 6E 73    ess=this.options
0001faf0: 2E 69 73 53 75 63 63 65 73 73 7C 7C 74 68 69 73    .isSuccess||this
0001fb00: 2E 69 73 53 75 63 63 65 73 73 3B 20 74 68 69 73    .isSuccess;.this
0001fb10: 2E 68 65 61 64 65 72 73 3D 6E 65 77 20 48 61 73    .headers=new.Has
0001fb20: 68 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 68    h(this.options.h
0001fb30: 65 61 64 65 72 73 29 0A 20 20 20 20 20 20 20 20    eaders).........
0001fb40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fb50: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
0001fb60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fb70: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 6F    .............,.o
0001fb80: 6E 53 74 61 74 65 43 68 61 6E 67 65 3A 66 75 6E    nStateChange:fun
0001fb90: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
0001fba0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fbb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
0001fbc0: 66 28 74 68 69 73 2E 78 68 72 2E 72 65 61 64 79    f(this.xhr.ready
0001fbd0: 53 74 61 74 65 20 21 3D 34 7C 7C 20 21 74 68 69    State.!=4||.!thi
0001fbe0: 73 2E 72 75 6E 6E 69 6E 67 29 20 7B 0A 20 20 20    s.running).{....
0001fbf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fc00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fc10: 20 20 20 20 20 20 72 65 74 75 72 6E 0A 20 20 20    ......return....
0001fc20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fc30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fc40: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
0001fc50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fc60: 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 72    ..........this.r
0001fc70: 75 6E 6E 69 6E 67 3D 20 21 31 3B 20 74 68 69 73    unning=.!1;.this
0001fc80: 2E 73 74 61 74 75 73 3D 30 3B 20 24 74 72 79 28    .status=0;.$try(
0001fc90: 66 75 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20    function().{....
0001fca0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fcb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fcc0: 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 73    ..........this.s
0001fcd0: 74 61 74 75 73 3D 74 68 69 73 2E 78 68 72 2E 73    tatus=this.xhr.s
0001fce0: 74 61 74 75 73 0A 20 20 20 20 20 20 20 20 20 20    tatus...........
0001fcf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fd00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
0001fd10: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fd20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fd30: 20 20 20 20 20 20 20 20 20 20 20 2E 62 69 6E 64    ............bind
0001fd40: 28 74 68 69 73 29 29 3B 20 69 66 28 74 68 69 73    (this));.if(this
0001fd50: 2E 6F 70 74 69 6F 6E 73 2E 69 73 53 75 63 63 65    .options.isSucce
0001fd60: 73 73 2E 63 61 6C 6C 28 74 68 69 73 2C 20 74 68    ss.call(this,.th
0001fd70: 69 73 2E 73 74 61 74 75 73 29 29 20 7B 0A 20 20    is.status)).{...
0001fd80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fd90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fda0: 20 20 20 20 20 20 20 74 68 69 73 2E 72 65 73 70    .......this.resp
0001fdb0: 6F 6E 73 65 3D 20 7B 0A 20 20 20 20 20 20 20 20    onse=.{.........
0001fdc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fdd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fde0: 20 20 20 20 20 74 65 78 74 3A 74 68 69 73 2E 78    .....text:this.x
0001fdf0: 68 72 2E 72 65 73 70 6F 6E 73 65 54 65 78 74 2C    hr.responseText,
0001fe00: 20 78 6D 6C 3A 74 68 69 73 2E 78 68 72 2E 72 65    .xml:this.xhr.re
0001fe10: 73 70 6F 6E 73 65 58 4D 4C 0A 20 20 20 20 20 20    sponseXML.......
0001fe20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fe30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fe40: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
0001fe50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fe60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3B    ...............;
0001fe70: 20 74 68 69 73 2E 73 75 63 63 65 73 73 28 74 68    .this.success(th
0001fe80: 69 73 2E 72 65 73 70 6F 6E 73 65 2E 74 65 78 74    is.response.text
0001fe90: 2C 20 74 68 69 73 2E 72 65 73 70 6F 6E 73 65 2E    ,.this.response.
0001fea0: 78 6D 6C 29 0A 20 20 20 20 20 20 20 20 20 20 20    xml)............
0001feb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fec0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
0001fed0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fef0: 20 20 65 6C 73 65 20 7B 0A 20 20 20 20 20 20 20    ..else.{........
0001ff00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ff10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ff20: 20 20 74 68 69 73 2E 72 65 73 70 6F 6E 73 65 3D    ..this.response=
0001ff30: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
0001ff40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ff50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ff60: 74 65 78 74 3A 6E 75 6C 6C 2C 20 78 6D 6C 3A 6E    text:null,.xml:n
0001ff70: 75 6C 6C 0A 20 20 20 20 20 20 20 20 20 20 20 20    ull.............
0001ff80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ff90: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
0001ffa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ffb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001ffc0: 20 20 20 20 20 20 20 20 20 3B 20 74 68 69 73 2E    .........;.this.
0001ffd0: 66 61 69 6C 75 72 65 28 29 0A 20 20 20 20 20 20    failure().......
0001ffe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
0001fff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00020000: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020020: 20 20 20 20 20 20 20 74 68 69 73 2E 78 68 72 2E    .......this.xhr.
00020030: 6F 6E 72 65 61 64 79 73 74 61 74 65 63 68 61 6E    onreadystatechan
00020040: 67 65 3D 24 65 6D 70 74 79 0A 20 20 20 20 20 20    ge=$empty.......
00020050: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020060: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00020070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
00020090: 20 69 73 53 75 63 63 65 73 73 3A 66 75 6E 63 74    .isSuccess:funct
000200a0: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
000200b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000200c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74    .............ret
000200d0: 75 72 6E 28 28 74 68 69 73 2E 73 74 61 74 75 73    urn((this.status
000200e0: 3E 3D 32 30 30 29 26 26 28 74 68 69 73 2E 73 74    >=200)&&(this.st
000200f0: 61 74 75 73 3C 33 30 30 29 29 0A 20 20 20 20 20    atus<300))......
00020100: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020110: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00020120: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020130: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020140: 2C 20 70 72 6F 63 65 73 73 53 63 72 69 70 74 73    ,.processScripts
00020150: 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20    :function(A).{..
00020160: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020170: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020180: 20 20 20 20 69 66 28 74 68 69 73 2E 6F 70 74 69    ....if(this.opti
00020190: 6F 6E 73 2E 65 76 61 6C 52 65 73 70 6F 6E 73 65    ons.evalResponse
000201a0: 7C 7C 28 2F 28 65 63 6D 61 7C 6A 61 76 61 29 73    ||(/(ecma|java)s
000201b0: 63 72 69 70 74 2F 29 2E 74 65 73 74 28 74 68 69    cript/).test(thi
000201c0: 73 2E 67 65 74 48 65 61 64 65 72 28 22 43 6F 6E    s.getHeader("Con
000201d0: 74 65 6E 74 2D 74 79 70 65 22 29 29 29 20 7B 0A    tent-type"))).{.
000201e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000201f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020200: 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20    .........return.
00020210: 24 65 78 65 63 28 41 29 0A 20 20 20 20 20 20 20    $exec(A)........
00020220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00020240: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020260: 20 20 20 20 20 20 72 65 74 75 72 6E 20 41 2E 73    ......return.A.s
00020270: 74 72 69 70 53 63 72 69 70 74 73 28 74 68 69 73    tripScripts(this
00020280: 2E 6F 70 74 69 6F 6E 73 2E 65 76 61 6C 53 63 72    .options.evalScr
00020290: 69 70 74 73 29 0A 20 20 20 20 20 20 20 20 20 20    ipts)...........
000202a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000202b0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000202c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000202d0: 20 20 20 20 20 20 20 20 20 20 20 2C 20 73 75 63    ...........,.suc
000202e0: 63 65 73 73 3A 66 75 6E 63 74 69 6F 6E 28 42 2C    cess:function(B,
000202f0: 20 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .A).{...........
00020300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020310: 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
00020320: 6F 6E 53 75 63 63 65 73 73 28 74 68 69 73 2E 70    onSuccess(this.p
00020330: 72 6F 63 65 73 73 53 63 72 69 70 74 73 28 42 29    rocessScripts(B)
00020340: 2C 20 41 29 0A 20 20 20 20 20 20 20 20 20 20 20    ,.A)............
00020350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020360: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00020370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020380: 20 20 20 20 20 20 20 20 20 20 2C 20 6F 6E 53 75    ..........,.onSu
00020390: 63 63 65 73 73 3A 66 75 6E 63 74 69 6F 6E 28 29    ccess:function()
000203a0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000203b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000203c0: 20 20 20 20 20 20 20 20 74 68 69 73 2E 66 69 72    ........this.fir
000203d0: 65 45 76 65 6E 74 28 22 63 6F 6D 70 6C 65 74 65    eEvent("complete
000203e0: 22 2C 20 61 72 67 75 6D 65 6E 74 73 29 2E 66 69    ",.arguments).fi
000203f0: 72 65 45 76 65 6E 74 28 22 73 75 63 63 65 73 73    reEvent("success
00020400: 22 2C 20 61 72 67 75 6D 65 6E 74 73 29 2E 63 61    ",.arguments).ca
00020410: 6C 6C 43 68 61 69 6E 28 29 0A 20 20 20 20 20 20    llChain().......
00020420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020430: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00020440: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
00020460: 20 66 61 69 6C 75 72 65 3A 66 75 6E 63 74 69 6F    .failure:functio
00020470: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
00020480: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020490: 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
000204a0: 6F 6E 46 61 69 6C 75 72 65 28 29 0A 20 20 20 20    onFailure().....
000204b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000204c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
000204d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000204e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000204f0: 20 2C 20 6F 6E 46 61 69 6C 75 72 65 3A 66 75 6E    .,.onFailure:fun
00020500: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
00020510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020520: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
00020530: 68 69 73 2E 66 69 72 65 45 76 65 6E 74 28 22 63    his.fireEvent("c
00020540: 6F 6D 70 6C 65 74 65 22 29 2E 66 69 72 65 45 76    omplete").fireEv
00020550: 65 6E 74 28 22 66 61 69 6C 75 72 65 22 2C 20 74    ent("failure",.t
00020560: 68 69 73 2E 78 68 72 29 0A 20 20 20 20 20 20 20    his.xhr)........
00020570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020580: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00020590: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000205a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
000205b0: 73 65 74 48 65 61 64 65 72 3A 66 75 6E 63 74 69    setHeader:functi
000205c0: 6F 6E 28 41 2C 20 42 29 20 7B 0A 20 20 20 20 20    on(A,.B).{......
000205d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000205e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000205f0: 74 68 69 73 2E 68 65 61 64 65 72 73 2E 73 65 74    this.headers.set
00020600: 28 41 2C 20 42 29 3B 20 72 65 74 75 72 6E 20 74    (A,.B);.return.t
00020610: 68 69 73 0A 20 20 20 20 20 20 20 20 20 20 20 20    his.............
00020620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020630: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00020640: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020650: 20 20 20 20 20 20 20 20 20 2C 20 67 65 74 48 65    .........,.getHe
00020660: 61 64 65 72 3A 66 75 6E 63 74 69 6F 6E 28 41 29    ader:function(A)
00020670: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00020680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020690: 20 20 20 20 20 20 20 20 72 65 74 75 72 6E 20 24    ........return.$
000206a0: 74 72 79 28 66 75 6E 63 74 69 6F 6E 28 29 20 7B    try(function().{
000206b0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000206c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000206d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
000206e0: 74 75 72 6E 20 74 68 69 73 2E 78 68 72 2E 67 65    turn.this.xhr.ge
000206f0: 74 52 65 73 70 6F 6E 73 65 48 65 61 64 65 72 28    tResponseHeader(
00020700: 41 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    A)..............
00020710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020720: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00020730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020740: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020750: 20 20 20 20 20 20 20 20 2E 62 69 6E 64 28 74 68    .........bind(th
00020760: 69 73 29 29 0A 20 20 20 20 20 20 20 20 20 20 20    is))............
00020770: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020780: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00020790: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000207a0: 20 20 20 20 20 20 20 20 20 20 2C 20 63 68 65 63    ..........,.chec
000207b0: 6B 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    k:function(A).{.
000207c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000207d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000207e0: 20 20 20 20 20 69 66 28 20 21 74 68 69 73 2E 72    .....if(.!this.r
000207f0: 75 6E 6E 69 6E 67 29 20 7B 0A 20 20 20 20 20 20    unning).{.......
00020800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020820: 20 20 20 72 65 74 75 72 6E 20 21 30 0A 20 20 20    ...return.!0....
00020830: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020850: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00020860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020870: 20 20 20 20 20 20 20 20 20 20 73 77 69 74 63 68    ..........switch
00020880: 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 6C 69    (this.options.li
00020890: 6E 6B 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    nk).{...........
000208a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000208b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 63    ...............c
000208c0: 61 73 65 20 22 63 61 6E 63 65 6C 22 3A 74 68 69    ase."cancel":thi
000208d0: 73 2E 63 61 6E 63 65 6C 28 29 3B 20 72 65 74 75    s.cancel();.retu
000208e0: 72 6E 20 21 30 3B 20 63 61 73 65 20 22 63 68 61    rn.!0;.case."cha
000208f0: 69 6E 22 3A 74 68 69 73 2E 63 68 61 69 6E 28 41    in":this.chain(A
00020900: 2E 62 69 6E 64 28 74 68 69 73 2C 20 41 72 72 61    .bind(this,.Arra
00020910: 79 2E 73 6C 69 63 65 28 61 72 67 75 6D 65 6E 74    y.slice(argument
00020920: 73 2C 20 31 29 29 29 3B 20 72 65 74 75 72 6E 20    s,.1)));.return.
00020930: 21 31 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    !1..............
00020940: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020950: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00020960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020980: 72 65 74 75 72 6E 20 21 31 0A 20 20 20 20 20 20    return.!1.......
00020990: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000209a0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
000209b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000209c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C    ...............,
000209d0: 20 73 65 6E 64 3A 66 75 6E 63 74 69 6F 6E 28 49    .send:function(I
000209e0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000209f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020a00: 20 20 20 20 20 20 20 20 20 69 66 28 20 21 74 68    .........if(.!th
00020a10: 69 73 2E 63 68 65 63 6B 28 61 72 67 75 6D 65 6E    is.check(argumen
00020a20: 74 73 2E 63 61 6C 6C 65 65 2C 20 49 29 29 20 7B    ts.callee,.I)).{
00020a30: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020a40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020a50: 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72 6E    ..........return
00020a60: 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20 20    .this...........
00020a70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020a80: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00020a90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020aa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020ab0: 20 20 20 74 68 69 73 2E 72 75 6E 6E 69 6E 67 3D    ...this.running=
00020ac0: 20 21 30 3B 20 76 61 72 20 47 3D 24 74 79 70 65    .!0;.var.G=$type
00020ad0: 28 49 29 3B 20 69 66 28 47 3D 3D 22 73 74 72 69    (I);.if(G=="stri
00020ae0: 6E 67 22 7C 7C 47 3D 3D 22 65 6C 65 6D 65 6E 74    ng"||G=="element
00020af0: 22 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    ").{............
00020b00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020b10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 49 3D    ..............I=
00020b20: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00020b30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020b40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020b50: 64 61 74 61 3A 49 0A 20 20 20 20 20 20 20 20 20    data:I..........
00020b60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020b70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020b80: 7D 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00020b90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020ba0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00020bb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020bc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
00020bd0: 61 72 20 44 3D 74 68 69 73 2E 6F 70 74 69 6F 6E    ar.D=this.option
00020be0: 73 3B 20 49 3D 24 65 78 74 65 6E 64 28 20 7B 0A    s;.I=$extend(.{.
00020bf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020c00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020c10: 20 20 20 20 20 20 20 20 20 20 20 20 20 64 61 74    .............dat
00020c20: 61 3A 44 2E 64 61 74 61 2C 20 75 72 6C 3A 44 2E    a:D.data,.url:D.
00020c30: 75 72 6C 2C 20 6D 65 74 68 6F 64 3A 44 2E 6D 65    url,.method:D.me
00020c40: 74 68 6F 64 0A 20 20 20 20 20 20 20 20 20 20 20    thod............
00020c50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020c60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00020c70: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020c80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020c90: 20 20 20 20 20 20 20 20 20 20 2C 20 49 29 3B 20    ..........,.I);.
00020ca0: 76 61 72 20 45 3D 49 2E 64 61 74 61 2C 20 42 3D    var.E=I.data,.B=
00020cb0: 49 2E 75 72 6C 2C 20 41 3D 49 2E 6D 65 74 68 6F    I.url,.A=I.metho
00020cc0: 64 3B 20 73 77 69 74 63 68 28 24 74 79 70 65 28    d;.switch($type(
00020cd0: 45 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    E)).{...........
00020ce0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020cf0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 63    ...............c
00020d00: 61 73 65 20 22 65 6C 65 6D 65 6E 74 22 3A 45 3D    ase."element":E=
00020d10: 24 28 45 29 2E 74 6F 51 75 65 72 79 53 74 72 69    $(E).toQueryStri
00020d20: 6E 67 28 29 3B 20 62 72 65 61 6B 3B 20 63 61 73    ng();.break;.cas
00020d30: 65 20 22 6F 62 6A 65 63 74 22 3A 63 61 73 65 20    e."object":case.
00020d40: 22 68 61 73 68 22 3A 45 3D 48 61 73 68 2E 74 6F    "hash":E=Hash.to
00020d50: 51 75 65 72 79 53 74 72 69 6E 67 28 45 29 0A 20    QueryString(E)..
00020d60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020d70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020d80: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00020d90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020da0: 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28 74    ............if(t
00020db0: 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 66 6F 72 6D    his.options.form
00020dc0: 61 74 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    at).{...........
00020dd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020de0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
00020df0: 61 72 20 48 3D 22 66 6F 72 6D 61 74 3D 22 2B 74    ar.H="format="+t
00020e00: 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 66 6F 72 6D    his.options.form
00020e10: 61 74 3B 20 45 3D 28 45 29 3F 48 2B 22 26 22 2B    at;.E=(E)?H+"&"+
00020e20: 45 3A 48 0A 20 20 20 20 20 20 20 20 20 20 20 20    E:H.............
00020e30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020e40: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00020e50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020e60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020e70: 20 69 66 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73    .if(this.options
00020e80: 2E 65 6D 75 6C 61 74 69 6F 6E 26 26 5B 22 70 75    .emulation&&["pu
00020e90: 74 22 2C 20 22 64 65 6C 65 74 65 22 5D 2E 63 6F    t",."delete"].co
00020ea0: 6E 74 61 69 6E 73 28 41 29 29 20 7B 0A 20 20 20    ntains(A)).{....
00020eb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020ec0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020ed0: 20 20 20 20 20 20 76 61 72 20 46 3D 22 5F 6D 65    ......var.F="_me
00020ee0: 74 68 6F 64 3D 22 2B 41 3B 20 45 3D 28 45 29 3F    thod="+A;.E=(E)?
00020ef0: 46 2B 22 26 22 2B 45 3A 46 3B 20 41 3D 22 70 6F    F+"&"+E:F;.A="po
00020f00: 73 74 22 0A 20 20 20 20 20 20 20 20 20 20 20 20    st".............
00020f10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020f20: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00020f30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020f40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020f50: 20 69 66 28 74 68 69 73 2E 6F 70 74 69 6F 6E 73    .if(this.options
00020f60: 2E 75 72 6C 45 6E 63 6F 64 65 64 26 26 41 3D 3D    .urlEncoded&&A==
00020f70: 22 70 6F 73 74 22 29 20 7B 0A 20 20 20 20 20 20    "post").{.......
00020f80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020f90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00020fa0: 20 20 20 76 61 72 20 43 3D 28 74 68 69 73 2E 6F    ...var.C=(this.o
00020fb0: 70 74 69 6F 6E 73 2E 65 6E 63 6F 64 69 6E 67 29    ptions.encoding)
00020fc0: 3F 22 3B 20 63 68 61 72 73 65 74 3D 22 2B 74 68    ?";.charset="+th
00020fd0: 69 73 2E 6F 70 74 69 6F 6E 73 2E 65 6E 63 6F 64    is.options.encod
00020fe0: 69 6E 67 3A 22 22 3B 20 74 68 69 73 2E 68 65 61    ing:"";.this.hea
00020ff0: 64 65 72 73 2E 73 65 74 28 22 43 6F 6E 74 65 6E    ders.set("Conten
00021000: 74 2D 74 79 70 65 22 2C 20 22 61 70 70 6C 69 63    t-type",."applic
00021010: 61 74 69 6F 6E 2F 78 2D 77 77 77 2D 66 6F 72 6D    ation/x-www-form
00021020: 2D 75 72 6C 65 6E 63 6F 64 65 64 22 2B 43 29 0A    -urlencoded"+C).
00021030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021050: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00021060: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021070: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00021080: 45 26 26 41 3D 3D 22 67 65 74 22 29 20 7B 0A 20    E&&A=="get").{..
00021090: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000210a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000210b0: 20 20 20 20 20 20 20 20 42 3D 42 2B 28 42 2E 63    ........B=B+(B.c
000210c0: 6F 6E 74 61 69 6E 73 28 22 3F 22 29 3F 22 26 22    ontains("?")?"&"
000210d0: 3A 22 3F 22 29 2B 45 3B 20 45 3D 6E 75 6C 6C 0A    :"?")+E;.E=null.
000210e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000210f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021100: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00021110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021120: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
00021130: 73 2E 78 68 72 2E 6F 70 65 6E 28 41 2E 74 6F 55    s.xhr.open(A.toU
00021140: 70 70 65 72 43 61 73 65 28 29 2C 20 42 2C 20 74    pperCase(),.B,.t
00021150: 68 69 73 2E 6F 70 74 69 6F 6E 73 2E 61 73 79 6E    his.options.asyn
00021160: 63 29 3B 20 74 68 69 73 2E 78 68 72 2E 6F 6E 72    c);.this.xhr.onr
00021170: 65 61 64 79 73 74 61 74 65 63 68 61 6E 67 65 3D    eadystatechange=
00021180: 74 68 69 73 2E 6F 6E 53 74 61 74 65 43 68 61 6E    this.onStateChan
00021190: 67 65 2E 62 69 6E 64 28 74 68 69 73 29 3B 20 74    ge.bind(this);.t
000211a0: 68 69 73 2E 68 65 61 64 65 72 73 2E 65 61 63 68    his.headers.each
000211b0: 28 66 75 6E 63 74 69 6F 6E 28 4B 2C 20 4A 29 20    (function(K,.J).
000211c0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
000211d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000211e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69    ...............i
000211f0: 66 28 20 21 24 74 72 79 28 66 75 6E 63 74 69 6F    f(.!$try(functio
00021200: 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    n().{...........
00021210: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021220: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
00021240: 68 69 73 2E 78 68 72 2E 73 65 74 52 65 71 75 65    his.xhr.setReque
00021250: 73 74 48 65 61 64 65 72 28 4A 2C 20 4B 29 3B 20    stHeader(J,.K);.
00021260: 72 65 74 75 72 6E 20 21 30 0A 20 20 20 20 20 20    return.!0.......
00021270: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000212a0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000212b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000212c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000212d0: 20 20 20 20 20 20 20 2E 62 69 6E 64 28 74 68 69    ........bind(thi
000212e0: 73 29 29 29 20 7B 0A 20 20 20 20 20 20 20 20 20    s))).{..........
000212f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021300: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021310: 20 20 20 20 20 20 20 20 74 68 69 73 2E 66 69 72    ........this.fir
00021320: 65 45 76 65 6E 74 28 22 65 78 63 65 70 74 69 6F    eEvent("exceptio
00021330: 6E 22 2C 20 5B 4A 2C 20 4B 5D 29 0A 20 20 20 20    n",.[J,.K]).....
00021340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021360: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
00021370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021380: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021390: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
000213a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000213b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000213c0: 2C 20 74 68 69 73 29 3B 20 74 68 69 73 2E 66 69    ,.this);.this.fi
000213d0: 72 65 45 76 65 6E 74 28 22 72 65 71 75 65 73 74    reEvent("request
000213e0: 22 29 3B 20 74 68 69 73 2E 78 68 72 2E 73 65 6E    ");.this.xhr.sen
000213f0: 64 28 45 29 3B 20 69 66 28 20 21 74 68 69 73 2E    d(E);.if(.!this.
00021400: 6F 70 74 69 6F 6E 73 2E 61 73 79 6E 63 29 20 7B    options.async).{
00021410: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021430: 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 6F    ..........this.o
00021440: 6E 53 74 61 74 65 43 68 61 6E 67 65 28 29 0A 20    nStateChange()..
00021450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021470: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00021480: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021490: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
000214a0: 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20    rn.this.........
000214b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000214c0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000214d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000214e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 63    .............,.c
000214f0: 61 6E 63 65 6C 3A 66 75 6E 63 74 69 6F 6E 28 29    ancel:function()
00021500: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00021510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021520: 20 20 20 20 20 20 20 20 69 66 28 20 21 74 68 69    ........if(.!thi
00021530: 73 2E 72 75 6E 6E 69 6E 67 29 20 7B 0A 20 20 20    s.running).{....
00021540: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021560: 20 20 20 20 20 20 72 65 74 75 72 6E 20 74 68 69    ......return.thi
00021570: 73 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    s...............
00021580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021590: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000215a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000215b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
000215c0: 68 69 73 2E 72 75 6E 6E 69 6E 67 3D 20 21 31 3B    his.running=.!1;
000215d0: 20 74 68 69 73 2E 78 68 72 2E 61 62 6F 72 74 28    .this.xhr.abort(
000215e0: 29 3B 20 74 68 69 73 2E 78 68 72 2E 6F 6E 72 65    );.this.xhr.onre
000215f0: 61 64 79 73 74 61 74 65 63 68 61 6E 67 65 3D 24    adystatechange=$
00021600: 65 6D 70 74 79 3B 20 74 68 69 73 2E 78 68 72 3D    empty;.this.xhr=
00021610: 6E 65 77 20 42 72 6F 77 73 65 72 2E 52 65 71 75    new.Browser.Requ
00021620: 65 73 74 28 29 3B 20 74 68 69 73 2E 66 69 72 65    est();.this.fire
00021630: 45 76 65 6E 74 28 22 63 61 6E 63 65 6C 22 29 3B    Event("cancel");
00021640: 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20 20    .return.this....
00021650: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00021670: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021680: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00021690: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000216a0: 20 20 20 20 20 20 20 20 20 29 3B 20 28 66 75 6E    .........);.(fun
000216b0: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
000216c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000216d0: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 41    ...........var.A
000216e0: 3D 20 7B 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    =.{}............
000216f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021700: 20 20 20 20 20 20 20 3B 20 5B 22 67 65 74 22 2C    .......;.["get",
00021710: 20 22 70 6F 73 74 22 2C 20 22 70 75 74 22 2C 20    ."post",."put",.
00021720: 22 64 65 6C 65 74 65 22 2C 20 22 47 45 54 22 2C    "delete",."GET",
00021730: 20 22 50 4F 53 54 22 2C 20 22 50 55 54 22 2C 20    ."POST",."PUT",.
00021740: 22 44 45 4C 45 54 45 22 5D 2E 65 61 63 68 28 66    "DELETE"].each(f
00021750: 75 6E 63 74 69 6F 6E 28 42 29 20 7B 0A 20 20 20    unction(B).{....
00021760: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021770: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021780: 20 20 20 20 20 20 41 5B 42 5D 3D 66 75 6E 63 74    ......A[B]=funct
00021790: 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20 20    ion().{.........
000217a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000217b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000217c0: 20 20 20 20 20 76 61 72 20 43 3D 41 72 72 61 79    .....var.C=Array
000217d0: 2E 6C 69 6E 6B 28 61 72 67 75 6D 65 6E 74 73 2C    .link(arguments,
000217e0: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
000217f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021810: 20 20 20 20 20 20 20 20 75 72 6C 3A 53 74 72 69    ........url:Stri
00021820: 6E 67 2E 74 79 70 65 2C 20 64 61 74 61 3A 24 64    ng.type,.data:$d
00021830: 65 66 69 6E 65 64 0A 20 20 20 20 20 20 20 20 20    efined..........
00021840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021850: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021860: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00021870: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021890: 20 20 20 20 20 20 20 20 29 3B 20 72 65 74 75 72    ........);.retur
000218a0: 6E 20 74 68 69 73 2E 73 65 6E 64 28 24 65 78 74    n.this.send($ext
000218b0: 65 6E 64 28 43 2C 20 7B 0A 20 20 20 20 20 20 20    end(C,.{........
000218c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000218d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000218e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000218f0: 20 20 6D 65 74 68 6F 64 3A 42 2E 74 6F 4C 6F 77    ..method:B.toLow
00021900: 65 72 43 61 73 65 28 29 0A 20 20 20 20 20 20 20    erCase()........
00021910: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021920: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021930: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00021940: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021950: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021960: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021970: 20 20 29 29 0A 20 20 20 20 20 20 20 20 20 20 20    ..))............
00021980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021990: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000219a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000219b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000219c0: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000219d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000219e0: 20 20 20 20 20 20 20 20 20 29 3B 20 52 65 71 75    .........);.Requ
000219f0: 65 73 74 2E 69 6D 70 6C 65 6D 65 6E 74 28 41 29    est.implement(A)
00021a00: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021a10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00021a20: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021a30: 20 20 20 20 20 20 20 20 20 20 29 28 29 3B 20 45    ..........)();.E
00021a40: 6C 65 6D 65 6E 74 2E 50 72 6F 70 65 72 74 69 65    lement.Propertie
00021a50: 73 2E 73 65 6E 64 3D 20 7B 0A 20 20 20 20 20 20    s.send=.{.......
00021a60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021a70: 20 20 20 20 20 20 20 73 65 74 3A 66 75 6E 63 74    .......set:funct
00021a80: 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20    ion(A).{........
00021a90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021aa0: 20 20 20 20 20 20 20 20 20 20 76 61 72 20 42 3D    ..........var.B=
00021ab0: 74 68 69 73 2E 72 65 74 72 69 65 76 65 28 22 73    this.retrieve("s
00021ac0: 65 6E 64 22 29 3B 20 69 66 28 42 29 20 7B 0A 20    end");.if(B).{..
00021ad0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021ae0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021af0: 20 20 20 20 42 2E 63 61 6E 63 65 6C 28 29 0A 20    ....B.cancel()..
00021b00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021b10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021b20: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00021b30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021b40: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E    ....return.this.
00021b50: 65 6C 69 6D 69 6E 61 74 65 28 22 73 65 6E 64 22    eliminate("send"
00021b60: 29 2E 73 74 6F 72 65 28 22 73 65 6E 64 3A 6F 70    ).store("send:op
00021b70: 74 69 6F 6E 73 22 2C 20 24 65 78 74 65 6E 64 28    tions",.$extend(
00021b80: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00021b90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021ba0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021bb0: 64 61 74 61 3A 74 68 69 73 2C 20 6C 69 6E 6B 3A    data:this,.link:
00021bc0: 22 63 61 6E 63 65 6C 22 2C 20 6D 65 74 68 6F 64    "cancel",.method
00021bd0: 3A 74 68 69 73 2E 67 65 74 28 22 6D 65 74 68 6F    :this.get("metho
00021be0: 64 22 29 7C 7C 22 70 6F 73 74 22 2C 20 75 72 6C    d")||"post",.url
00021bf0: 3A 74 68 69 73 2E 67 65 74 28 22 61 63 74 69 6F    :this.get("actio
00021c00: 6E 22 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    n").............
00021c10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021c20: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00021c30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021c40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021c50: 20 20 20 20 20 20 20 20 20 2C 20 41 29 29 0A 20    .........,.A))..
00021c60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021c70: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00021c80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021c90: 20 20 20 20 20 20 20 20 20 20 20 20 2C 20 67 65    ............,.ge
00021ca0: 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A    t:function(A).{.
00021cb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021cc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021cd0: 20 69 66 28 41 7C 7C 20 21 74 68 69 73 2E 72 65    .if(A||.!this.re
00021ce0: 74 72 69 65 76 65 28 22 73 65 6E 64 22 29 29 20    trieve("send")).
00021cf0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00021d00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021d10: 20 20 20 20 20 20 20 69 66 28 41 7C 7C 20 21 74    .......if(A||.!t
00021d20: 68 69 73 2E 72 65 74 72 69 65 76 65 28 22 73 65    his.retrieve("se
00021d30: 6E 64 3A 6F 70 74 69 6F 6E 73 22 29 29 20 7B 0A    nd:options")).{.
00021d40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021d50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021d60: 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 73 65    .........this.se
00021d70: 74 28 22 73 65 6E 64 22 2C 20 41 29 0A 20 20 20    t("send",.A)....
00021d80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021d90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021da0: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00021db0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021dc0: 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E 73    ..........this.s
00021dd0: 74 6F 72 65 28 22 73 65 6E 64 22 2C 20 6E 65 77    tore("send",.new
00021de0: 20 52 65 71 75 65 73 74 28 74 68 69 73 2E 72 65    .Request(this.re
00021df0: 74 72 69 65 76 65 28 22 73 65 6E 64 3A 6F 70 74    trieve("send:opt
00021e00: 69 6F 6E 73 22 29 29 29 0A 20 20 20 20 20 20 20    ions")))........
00021e10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021e20: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00021e30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021e40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72 65    ..............re
00021e50: 74 75 72 6E 20 74 68 69 73 2E 72 65 74 72 69 65    turn.this.retrie
00021e60: 76 65 28 22 73 65 6E 64 22 29 0A 20 20 20 20 20    ve("send")......
00021e70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021e80: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00021e90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021ea0: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00021eb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3B    ...............;
00021ec0: 20 45 6C 65 6D 65 6E 74 2E 69 6D 70 6C 65 6D 65    .Element.impleme
00021ed0: 6E 74 28 20 7B 0A 20 20 20 20 20 20 20 20 20 20    nt(.{...........
00021ee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021ef0: 20 20 20 20 20 20 20 73 65 6E 64 3A 66 75 6E 63    .......send:func
00021f00: 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20    tion(A).{.......
00021f10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021f20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
00021f30: 61 72 20 42 3D 74 68 69 73 2E 67 65 74 28 22 73    ar.B=this.get("s
00021f40: 65 6E 64 22 29 3B 20 42 2E 73 65 6E 64 28 20 7B    end");.B.send(.{
00021f50: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021f60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021f70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 64 61    ..............da
00021f80: 74 61 3A 74 68 69 73 2C 20 75 72 6C 3A 41 7C 7C    ta:this,.url:A||
00021f90: 42 2E 6F 70 74 69 6F 6E 73 2E 75 72 6C 0A 20 20    B.options.url...
00021fa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021fb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021fc0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00021fd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00021fe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 29    ...............)
00021ff0: 3B 20 72 65 74 75 72 6E 20 74 68 69 73 0A 20 20    ;.return.this...
00022000: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00022020: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00022040: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022050: 20 20 20 20 20 20 20 20 20 20 29 3B 20 52 65 71    ..........);.Req
00022060: 75 65 73 74 2E 48 54 4D 4C 3D 6E 65 77 20 43 6C    uest.HTML=new.Cl
00022070: 61 73 73 28 20 7B 0A 20 20 20 20 20 20 20 20 20    ass(.{..........
00022080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022090: 20 20 20 20 20 20 20 20 45 78 74 65 6E 64 73 3A    ........Extends:
000220a0: 52 65 71 75 65 73 74 2C 20 6F 70 74 69 6F 6E 73    Request,.options
000220b0: 3A 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    :.{.............
000220c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000220d0: 20 20 20 20 20 20 20 20 20 75 70 64 61 74 65 3A    .........update:
000220e0: 20 21 31 2C 20 65 76 61 6C 53 63 72 69 70 74 73    .!1,.evalScripts
000220f0: 3A 20 21 30 2C 20 66 69 6C 74 65 72 3A 20 21 31    :.!0,.filter:.!1
00022100: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022120: 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20    ..}.............
00022130: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022140: 20 20 20 20 20 20 2C 20 70 72 6F 63 65 73 73 48    ......,.processH
00022150: 54 4D 4C 3A 66 75 6E 63 74 69 6F 6E 28 43 29 20    TML:function(C).
00022160: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00022170: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022180: 20 20 20 20 20 20 20 76 61 72 20 42 3D 43 2E 6D    .......var.B=C.m
00022190: 61 74 63 68 28 2F 3C 62 6F 64 79 5B 5E 3E 5D 2A    atch(/<body[^>]*
000221a0: 3E 28 5B 5C 73 5C 53 5D 2A 3F 29 3C 5C 2F 62 6F    >([\s\S]*?)<\/bo
000221b0: 64 79 3E 2F 69 29 3B 20 43 3D 28 42 29 3F 42 5B    dy>/i);.C=(B)?B[
000221c0: 31 5D 3A 43 3B 20 76 61 72 20 41 3D 6E 65 77 20    1]:C;.var.A=new.
000221d0: 45 6C 65 6D 65 6E 74 28 22 64 69 76 22 29 3B 20    Element("div");.
000221e0: 72 65 74 75 72 6E 20 24 74 72 79 28 66 75 6E 63    return.$try(func
000221f0: 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20 20    tion().{........
00022200: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022210: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022220: 20 20 20 20 20 20 76 61 72 20 44 3D 22 3C 72 6F    ......var.D="<ro
00022230: 6F 74 3E 22 2B 43 2B 22 3C 2F 72 6F 6F 74 3E 22    ot>"+C+"</root>"
00022240: 2C 20 47 3B 20 69 66 28 42 72 6F 77 73 65 72 2E    ,.G;.if(Browser.
00022250: 45 6E 67 69 6E 65 2E 74 72 69 64 65 6E 74 29 20    Engine.trident).
00022260: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00022270: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022290: 20 20 20 47 3D 6E 65 77 20 41 63 74 69 76 65 58    ...G=new.ActiveX
000222a0: 4F 62 6A 65 63 74 28 22 4D 69 63 72 6F 73 6F 66    Object("Microsof
000222b0: 74 2E 58 4D 4C 44 4F 4D 22 29 3B 20 47 2E 61 73    t.XMLDOM");.G.as
000222c0: 79 6E 63 3D 20 21 31 3B 20 47 2E 6C 6F 61 64 58    ync=.!1;.G.loadX
000222d0: 4D 4C 28 44 29 0A 20 20 20 20 20 20 20 20 20 20    ML(D)...........
000222e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000222f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022300: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00022310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022320: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022330: 20 20 20 65 6C 73 65 20 7B 0A 20 20 20 20 20 20    ...else.{.......
00022340: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022360: 20 20 20 20 20 20 20 20 20 20 20 47 3D 6E 65 77    ...........G=new
00022370: 20 44 4F 4D 50 61 72 73 65 72 28 29 2E 70 61 72    .DOMParser().par
00022380: 73 65 46 72 6F 6D 53 74 72 69 6E 67 28 44 2C 20    seFromString(D,.
00022390: 22 74 65 78 74 2F 78 6D 6C 22 29 0A 20 20 20 20    "text/xml").....
000223a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000223b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000223c0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
000223d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000223e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000223f0: 20 20 20 20 20 20 20 20 20 44 3D 47 2E 67 65 74    .........D=G.get
00022400: 45 6C 65 6D 65 6E 74 73 42 79 54 61 67 4E 61 6D    ElementsByTagNam
00022410: 65 28 22 72 6F 6F 74 22 29 5B 30 5D 3B 20 66 6F    e("root")[0];.fo
00022420: 72 28 76 61 72 20 46 3D 30 2C 20 45 3D 44 2E 63    r(var.F=0,.E=D.c
00022430: 68 69 6C 64 4E 6F 64 65 73 2E 6C 65 6E 67 74 68    hildNodes.length
00022440: 3B 20 46 3C 45 3B 20 46 2B 2B 29 20 7B 0A 20 20    ;.F<E;.F++).{...
00022450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022470: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76    ...............v
00022480: 61 72 20 48 3D 45 6C 65 6D 65 6E 74 2E 63 6C 6F    ar.H=Element.clo
00022490: 6E 65 28 44 2E 63 68 69 6C 64 4E 6F 64 65 73 5B    ne(D.childNodes[
000224a0: 46 5D 2C 20 20 21 30 2C 20 20 21 30 29 3B 20 69    F],..!0,..!0);.i
000224b0: 66 28 48 29 20 7B 0A 20 20 20 20 20 20 20 20 20    f(H).{..........
000224c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000224d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000224e0: 20 20 20 20 20 20 20 20 20 20 20 20 41 2E 67 72    ............A.gr
000224f0: 61 62 28 48 29 0A 20 20 20 20 20 20 20 20 20 20    ab(H)...........
00022500: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022520: 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20 20    .......}........
00022530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022540: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022550: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00022560: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022570: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022580: 20 20 20 20 20 20 72 65 74 75 72 6E 20 41 0A 20    ......return.A..
00022590: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000225a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000225b0: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
000225c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000225d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000225e0: 29 7C 7C 41 2E 73 65 74 28 22 68 74 6D 6C 22 2C    )||A.set("html",
000225f0: 20 43 29 0A 20 20 20 20 20 20 20 20 20 20 20 20    .C).............
00022600: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022610: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00022620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022630: 20 20 20 20 20 20 20 20 20 2C 20 73 75 63 63 65    .........,.succe
00022640: 73 73 3A 66 75 6E 63 74 69 6F 6E 28 44 29 20 7B    ss:function(D).{
00022650: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022670: 20 20 20 20 20 20 76 61 72 20 43 3D 74 68 69 73    ......var.C=this
00022680: 2E 6F 70 74 69 6F 6E 73 2C 20 42 3D 74 68 69 73    .options,.B=this
00022690: 2E 72 65 73 70 6F 6E 73 65 3B 20 42 2E 68 74 6D    .response;.B.htm
000226a0: 6C 3D 44 2E 73 74 72 69 70 53 63 72 69 70 74 73    l=D.stripScripts
000226b0: 28 66 75 6E 63 74 69 6F 6E 28 45 29 20 7B 0A 20    (function(E).{..
000226c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000226d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000226e0: 20 20 20 20 20 20 20 20 20 20 20 20 42 2E 6A 61    ............B.ja
000226f0: 76 61 73 63 72 69 70 74 3D 45 0A 20 20 20 20 20    vascript=E......
00022700: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022720: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00022730: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022740: 20 20 20 20 20 20 20 20 20 20 20 20 29 3B 20 76    ............);.v
00022750: 61 72 20 41 3D 74 68 69 73 2E 70 72 6F 63 65 73    ar.A=this.proces
00022760: 73 48 54 4D 4C 28 42 2E 68 74 6D 6C 29 3B 20 42    sHTML(B.html);.B
00022770: 2E 74 72 65 65 3D 41 2E 63 68 69 6C 64 4E 6F 64    .tree=A.childNod
00022780: 65 73 3B 20 42 2E 65 6C 65 6D 65 6E 74 73 3D 41    es;.B.elements=A
00022790: 2E 67 65 74 45 6C 65 6D 65 6E 74 73 28 22 2A 22    .getElements("*"
000227a0: 29 3B 20 69 66 28 43 2E 66 69 6C 74 65 72 29 20    );.if(C.filter).
000227b0: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
000227c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000227d0: 20 20 20 20 20 20 20 20 20 20 20 42 2E 74 72 65    ...........B.tre
000227e0: 65 3D 42 2E 65 6C 65 6D 65 6E 74 73 2E 66 69 6C    e=B.elements.fil
000227f0: 74 65 72 28 43 2E 66 69 6C 74 65 72 29 0A 20 20    ter(C.filter)...
00022800: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022810: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022820: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00022830: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022840: 20 20 20 20 20 20 20 20 20 20 20 69 66 28 43 2E    ...........if(C.
00022850: 75 70 64 61 74 65 29 20 7B 0A 20 20 20 20 20 20    update).{.......
00022860: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022870: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022880: 20 20 20 24 28 43 2E 75 70 64 61 74 65 29 2E 65    ...$(C.update).e
00022890: 6D 70 74 79 28 29 2E 61 64 6F 70 74 28 42 2E 74    mpty().adopt(B.t
000228a0: 72 65 65 29 0A 20 20 20 20 20 20 20 20 20 20 20    ree)............
000228b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000228c0: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
000228d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000228e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000228f0: 20 20 69 66 28 43 2E 65 76 61 6C 53 63 72 69 70    ..if(C.evalScrip
00022900: 74 73 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ts).{...........
00022910: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022920: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 24    ...............$
00022930: 65 78 65 63 28 42 2E 6A 61 76 61 73 63 72 69 70    exec(B.javascrip
00022940: 74 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    t)..............
00022950: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022960: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00022970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022990: 74 68 69 73 2E 6F 6E 53 75 63 63 65 73 73 28 42    this.onSuccess(B
000229a0: 2E 74 72 65 65 2C 20 42 2E 65 6C 65 6D 65 6E 74    .tree,.B.element
000229b0: 73 2C 20 42 2E 68 74 6D 6C 2C 20 42 2E 6A 61 76    s,.B.html,.B.jav
000229c0: 61 73 63 72 69 70 74 29 0A 20 20 20 20 20 20 20    ascript)........
000229d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000229e0: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
000229f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022a00: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00022a10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022a20: 20 20 20 20 20 29 3B 20 45 6C 65 6D 65 6E 74 2E    .....);.Element.
00022a30: 50 72 6F 70 65 72 74 69 65 73 2E 6C 6F 61 64 3D    Properties.load=
00022a40: 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    .{..............
00022a50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022a60: 73 65 74 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20    set:function(A).
00022a70: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00022a80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022a90: 20 20 20 76 61 72 20 42 3D 74 68 69 73 2E 72 65    ...var.B=this.re
00022aa0: 74 72 69 65 76 65 28 22 6C 6F 61 64 22 29 3B 20    trieve("load");.
00022ab0: 69 66 28 42 29 20 7B 0A 20 20 20 20 20 20 20 20    if(B).{.........
00022ac0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022ad0: 20 20 20 20 20 20 20 20 20 20 20 20 20 73 65 6E    .............sen
00022ae0: 64 2E 63 61 6E 63 65 6C 28 29 0A 20 20 20 20 20    d.cancel()......
00022af0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022b00: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00022b10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022b20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022b30: 72 65 74 75 72 6E 20 74 68 69 73 2E 65 6C 69 6D    return.this.elim
00022b40: 69 6E 61 74 65 28 22 6C 6F 61 64 22 29 2E 73 74    inate("load").st
00022b50: 6F 72 65 28 22 6C 6F 61 64 3A 6F 70 74 69 6F 6E    ore("load:option
00022b60: 73 22 2C 20 24 65 78 74 65 6E 64 28 20 7B 0A 20    s",.$extend(.{..
00022b70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022b80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022b90: 20 20 20 20 20 20 20 20 20 20 20 20 64 61 74 61    ............data
00022ba0: 3A 74 68 69 73 2C 20 6C 69 6E 6B 3A 22 63 61 6E    :this,.link:"can
00022bb0: 63 65 6C 22 2C 20 75 70 64 61 74 65 3A 74 68 69    cel",.update:thi
00022bc0: 73 2C 20 6D 65 74 68 6F 64 3A 22 67 65 74 22 0A    s,.method:"get".
00022bd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022be0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022bf0: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00022c00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022c10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022c20: 20 20 20 20 20 2C 20 41 29 29 0A 20 20 20 20 20    .....,.A))......
00022c30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022c40: 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20    ........}.......
00022c50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022c60: 20 20 20 20 20 20 20 20 2C 20 67 65 74 3A 66 75    ........,.get:fu
00022c70: 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20    nction(A).{.....
00022c80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022c90: 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 28    .............if(
00022ca0: 41 7C 7C 20 21 74 68 69 73 2E 72 65 74 72 69 65    A||.!this.retrie
00022cb0: 76 65 28 22 6C 6F 61 64 22 29 29 20 7B 0A 20 20    ve("load")).{...
00022cc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022cd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022ce0: 20 20 20 69 66 28 41 7C 7C 20 21 74 68 69 73 2E    ...if(A||.!this.
00022cf0: 72 65 74 72 69 65 76 65 28 22 6C 6F 61 64 3A 6F    retrieve("load:o
00022d00: 70 74 69 6F 6E 73 22 29 29 20 7B 0A 20 20 20 20    ptions")).{.....
00022d10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022d20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022d30: 20 20 20 20 20 74 68 69 73 2E 73 65 74 28 22 6C    .....this.set("l
00022d40: 6F 61 64 22 2C 20 41 29 0A 20 20 20 20 20 20 20    oad",.A)........
00022d50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022d60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00022d70: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022d80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022d90: 20 20 20 20 20 20 74 68 69 73 2E 73 74 6F 72 65    ......this.store
00022da0: 28 22 6C 6F 61 64 22 2C 20 6E 65 77 20 52 65 71    ("load",.new.Req
00022db0: 75 65 73 74 2E 48 54 4D 4C 28 74 68 69 73 2E 72    uest.HTML(this.r
00022dc0: 65 74 72 69 65 76 65 28 22 6C 6F 61 64 3A 6F 70    etrieve("load:op
00022dd0: 74 69 6F 6E 73 22 29 29 29 0A 20 20 20 20 20 20    tions"))).......
00022de0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022df0: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00022e00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022e10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72    ...............r
00022e20: 65 74 75 72 6E 20 74 68 69 73 2E 72 65 74 72 69    eturn.this.retri
00022e30: 65 76 65 28 22 6C 6F 61 64 22 29 0A 20 20 20 20    eve("load").....
00022e40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022e50: 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20    .........}......
00022e60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022e70: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00022e80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022e90: 3B 20 45 6C 65 6D 65 6E 74 2E 69 6D 70 6C 65 6D    ;.Element.implem
00022ea0: 65 6E 74 28 20 7B 0A 20 20 20 20 20 20 20 20 20    ent(.{..........
00022eb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022ec0: 20 20 20 20 20 20 20 20 6C 6F 61 64 3A 66 75 6E    ........load:fun
00022ed0: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
00022ee0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022ef0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 74    ...............t
00022f00: 68 69 73 2E 67 65 74 28 22 6C 6F 61 64 22 29 2E    his.get("load").
00022f10: 73 65 6E 64 28 41 72 72 61 79 2E 6C 69 6E 6B 28    send(Array.link(
00022f20: 61 72 67 75 6D 65 6E 74 73 2C 20 7B 0A 20 20 20    arguments,.{....
00022f30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022f40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022f50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 64 61    ..............da
00022f60: 74 61 3A 4F 62 6A 65 63 74 2E 74 79 70 65 2C 20    ta:Object.type,.
00022f70: 75 72 6C 3A 53 74 72 69 6E 67 2E 74 79 70 65 0A    url:String.type.
00022f80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022f90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022fa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00022fb0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022fc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00022fd0: 20 20 20 20 20 20 20 20 20 29 29 3B 20 72 65 74    .........));.ret
00022fe0: 75 72 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20    urn.this........
00022ff0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023000: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
00023010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023020: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00023030: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023040: 20 20 20 20 20 29 3B 20 52 65 71 75 65 73 74 2E    .....);.Request.
00023050: 4A 53 4F 4E 3D 6E 65 77 20 43 6C 61 73 73 28 20    JSON=new.Class(.
00023060: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00023070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023080: 20 20 20 45 78 74 65 6E 64 73 3A 52 65 71 75 65    ...Extends:Reque
00023090: 73 74 2C 20 6F 70 74 69 6F 6E 73 3A 20 7B 0A 20    st,.options:.{..
000230a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000230b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000230c0: 20 20 20 20 73 65 63 75 72 65 3A 20 21 30 0A 20    ....secure:.!0..
000230d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000230e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000230f0: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00023100: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023110: 20 20 20 20 2C 20 69 6E 69 74 69 61 6C 69 7A 65    ....,.initialize
00023120: 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20    :function(A).{..
00023130: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023140: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023150: 20 20 20 20 74 68 69 73 2E 70 61 72 65 6E 74 28    ....this.parent(
00023160: 41 29 3B 20 74 68 69 73 2E 68 65 61 64 65 72 73    A);.this.headers
00023170: 2E 65 78 74 65 6E 64 28 20 7B 0A 20 20 20 20 20    .extend(.{......
00023180: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023190: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000231a0: 20 20 20 20 20 20 20 20 41 63 63 65 70 74 3A 22    ........Accept:"
000231b0: 61 70 70 6C 69 63 61 74 69 6F 6E 2F 6A 73 6F 6E    application/json
000231c0: 22 2C 20 22 58 2D 52 65 71 75 65 73 74 22 3A 22    ",."X-Request":"
000231d0: 4A 53 4F 4E 22 0A 20 20 20 20 20 20 20 20 20 20    JSON"...........
000231e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000231f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00023200: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023210: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023220: 20 20 20 20 20 20 20 29 0A 20 20 20 20 20 20 20    .......)........
00023230: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023240: 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20    ..........}.....
00023250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023260: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2C 20    ..............,.
00023270: 73 75 63 63 65 73 73 3A 66 75 6E 63 74 69 6F 6E    success:function
00023280: 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    (A).{...........
00023290: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000232a0: 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73 2E    ...........this.
000232b0: 72 65 73 70 6F 6E 73 65 2E 6A 73 6F 6E 3D 4A 53    response.json=JS
000232c0: 4F 4E 2E 64 65 63 6F 64 65 28 41 2C 20 74 68 69    ON.decode(A,.thi
000232d0: 73 2E 6F 70 74 69 6F 6E 73 2E 73 65 63 75 72 65    s.options.secure
000232e0: 29 3B 20 74 68 69 73 2E 6F 6E 53 75 63 63 65 73    );.this.onSucces
000232f0: 73 28 74 68 69 73 2E 72 65 73 70 6F 6E 73 65 2E    s(this.response.
00023300: 6A 73 6F 6E 2C 20 41 29 0A 20 20 20 20 20 20 20    json,.A)........
00023310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023320: 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20    ..........}.....
00023330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023340: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00023350: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023360: 20 20 20 20 20 29 3B 20 46 78 2E 53 6C 69 64 65    .....);.Fx.Slide
00023370: 3D 6E 65 77 20 43 6C 61 73 73 28 20 7B 0A 20 20    =new.Class(.{...
00023380: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023390: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 45    ...............E
000233a0: 78 74 65 6E 64 73 3A 46 78 2C 20 6F 70 74 69 6F    xtends:Fx,.optio
000233b0: 6E 73 3A 20 7B 0A 20 20 20 20 20 20 20 20 20 20    ns:.{...........
000233c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000233d0: 20 20 20 20 20 20 20 20 20 20 20 6D 6F 64 65 3A    ...........mode:
000233e0: 22 76 65 72 74 69 63 61 6C 22 0A 20 20 20 20 20    "vertical"......
000233f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023400: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00023410: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023420: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023430: 2C 20 69 6E 69 74 69 61 6C 69 7A 65 3A 66 75 6E    ,.initialize:fun
00023440: 63 74 69 6F 6E 28 42 2C 20 41 29 20 7B 0A 20 20    ction(B,.A).{...
00023450: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023460: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023470: 20 20 20 74 68 69 73 2E 61 64 64 45 76 65 6E 74    ...this.addEvent
00023480: 28 22 63 6F 6D 70 6C 65 74 65 22 2C 20 66 75 6E    ("complete",.fun
00023490: 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20 20    ction().{.......
000234a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000234b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000234c0: 20 20 20 20 20 20 20 74 68 69 73 2E 6F 70 65 6E    .......this.open
000234d0: 3D 28 74 68 69 73 2E 77 72 61 70 70 65 72 5B 22    =(this.wrapper["
000234e0: 6F 66 66 73 65 74 22 2B 74 68 69 73 2E 6C 61 79    offset"+this.lay
000234f0: 6F 75 74 2E 63 61 70 69 74 61 6C 69 7A 65 28 29    out.capitalize()
00023500: 5D 20 21 3D 30 29 3B 20 69 66 28 74 68 69 73 2E    ].!=0);.if(this.
00023510: 6F 70 65 6E 26 26 42 72 6F 77 73 65 72 2E 45 6E    open&&Browser.En
00023520: 67 69 6E 65 2E 77 65 62 6B 69 74 34 31 39 29 20    gine.webkit419).
00023530: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
00023540: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023560: 20 20 20 74 68 69 73 2E 65 6C 65 6D 65 6E 74 2E    ...this.element.
00023570: 64 69 73 70 6F 73 65 28 29 2E 69 6E 6A 65 63 74    dispose().inject
00023580: 28 74 68 69 73 2E 77 72 61 70 70 65 72 29 0A 20    (this.wrapper)..
00023590: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000235a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000235b0: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
000235c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000235d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000235e0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000235f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023600: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023610: 20 20 20 2C 20 20 21 30 29 3B 20 74 68 69 73 2E    ...,..!0);.this.
00023620: 65 6C 65 6D 65 6E 74 3D 74 68 69 73 2E 73 75 62    element=this.sub
00023630: 6A 65 63 74 3D 24 28 42 29 3B 20 74 68 69 73 2E    ject=$(B);.this.
00023640: 70 61 72 65 6E 74 28 41 29 3B 20 76 61 72 20 43    parent(A);.var.C
00023650: 3D 74 68 69 73 2E 65 6C 65 6D 65 6E 74 2E 72 65    =this.element.re
00023660: 74 72 69 65 76 65 28 22 77 72 61 70 70 65 72 22    trieve("wrapper"
00023670: 29 3B 20 74 68 69 73 2E 77 72 61 70 70 65 72 3D    );.this.wrapper=
00023680: 43 7C 7C 6E 65 77 20 45 6C 65 6D 65 6E 74 28 22    C||new.Element("
00023690: 64 69 76 22 2C 20 7B 0A 20 20 20 20 20 20 20 20    div",.{.........
000236a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000236b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000236c0: 20 20 20 20 20 73 74 79 6C 65 73 3A 24 65 78 74    .....styles:$ext
000236d0: 65 6E 64 28 74 68 69 73 2E 65 6C 65 6D 65 6E 74    end(this.element
000236e0: 2E 67 65 74 53 74 79 6C 65 73 28 22 6D 61 72 67    .getStyles("marg
000236f0: 69 6E 22 2C 20 22 70 6F 73 69 74 69 6F 6E 22 29    in",."position")
00023700: 2C 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ,.{.............
00023710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023720: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023730: 20 20 20 20 20 20 20 20 20 6F 76 65 72 66 6C 6F    .........overflo
00023740: 77 3A 22 68 69 64 64 65 6E 22 0A 20 20 20 20 20    w:"hidden"......
00023750: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023760: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023770: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00023780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023790: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000237a0: 20 20 20 20 20 20 20 20 20 20 20 20 29 0A 20 20    ............)...
000237b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000237c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000237d0: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
000237e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000237f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 29    ...............)
00023800: 2E 77 72 61 70 73 28 74 68 69 73 2E 65 6C 65 6D    .wraps(this.elem
00023810: 65 6E 74 29 3B 20 74 68 69 73 2E 65 6C 65 6D 65    ent);.this.eleme
00023820: 6E 74 2E 73 74 6F 72 65 28 22 77 72 61 70 70 65    nt.store("wrappe
00023830: 72 22 2C 20 74 68 69 73 2E 77 72 61 70 70 65 72    r",.this.wrapper
00023840: 29 2E 73 65 74 53 74 79 6C 65 28 22 6D 61 72 67    ).setStyle("marg
00023850: 69 6E 22 2C 20 30 29 3B 20 74 68 69 73 2E 6E 6F    in",.0);.this.no
00023860: 77 3D 5B 5D 3B 20 74 68 69 73 2E 6F 70 65 6E 3D    w=[];.this.open=
00023870: 20 21 30 0A 20 20 20 20 20 20 20 20 20 20 20 20    .!0.............
00023880: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023890: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
000238a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000238b0: 20 20 20 20 20 20 20 20 20 2C 20 76 65 72 74 69    .........,.verti
000238c0: 63 61 6C 3A 66 75 6E 63 74 69 6F 6E 28 29 20 7B    cal:function().{
000238d0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000238e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000238f0: 20 20 20 20 20 20 74 68 69 73 2E 6D 61 72 67 69    ......this.margi
00023900: 6E 3D 22 6D 61 72 67 69 6E 2D 74 6F 70 22 3B 20    n="margin-top";.
00023910: 74 68 69 73 2E 6C 61 79 6F 75 74 3D 22 68 65 69    this.layout="hei
00023920: 67 68 74 22 3B 20 74 68 69 73 2E 6F 66 66 73 65    ght";.this.offse
00023930: 74 3D 74 68 69 73 2E 65 6C 65 6D 65 6E 74 2E 6F    t=this.element.o
00023940: 66 66 73 65 74 48 65 69 67 68 74 0A 20 20 20 20    ffsetHeight.....
00023950: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023960: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00023970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023990: 20 2C 20 68 6F 72 69 7A 6F 6E 74 61 6C 3A 66 75    .,.horizontal:fu
000239a0: 6E 63 74 69 6F 6E 28 29 20 7B 0A 20 20 20 20 20    nction().{......
000239b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000239c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000239d0: 74 68 69 73 2E 6D 61 72 67 69 6E 3D 22 6D 61 72    this.margin="mar
000239e0: 67 69 6E 2D 6C 65 66 74 22 3B 20 74 68 69 73 2E    gin-left";.this.
000239f0: 6C 61 79 6F 75 74 3D 22 77 69 64 74 68 22 3B 20    layout="width";.
00023a00: 74 68 69 73 2E 6F 66 66 73 65 74 3D 74 68 69 73    this.offset=this
00023a10: 2E 65 6C 65 6D 65 6E 74 2E 6F 66 66 73 65 74 57    .element.offsetW
00023a20: 69 64 74 68 0A 20 20 20 20 20 20 20 20 20 20 20    idth............
00023a30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023a40: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00023a50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023a60: 20 20 20 20 20 20 20 20 20 20 2C 20 73 65 74 3A    ..........,.set:
00023a70: 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20    function(A).{...
00023a80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023a90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023aa0: 20 20 20 74 68 69 73 2E 65 6C 65 6D 65 6E 74 2E    ...this.element.
00023ab0: 73 65 74 53 74 79 6C 65 28 74 68 69 73 2E 6D 61    setStyle(this.ma
00023ac0: 72 67 69 6E 2C 20 41 5B 30 5D 29 3B 20 74 68 69    rgin,.A[0]);.thi
00023ad0: 73 2E 77 72 61 70 70 65 72 2E 73 65 74 53 74 79    s.wrapper.setSty
00023ae0: 6C 65 28 74 68 69 73 2E 6C 61 79 6F 75 74 2C 20    le(this.layout,.
00023af0: 41 5B 31 5D 29 3B 20 72 65 74 75 72 6E 20 74 68    A[1]);.return.th
00023b00: 69 73 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    is..............
00023b10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023b20: 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20    ....}...........
00023b30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023b40: 20 20 20 20 20 20 20 20 2C 20 63 6F 6D 70 75 74    ........,.comput
00023b50: 65 3A 66 75 6E 63 74 69 6F 6E 28 45 2C 20 44 2C    e:function(E,.D,
00023b60: 20 43 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20    .C).{...........
00023b70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023b80: 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 42    ...........var.B
00023b90: 3D 5B 5D 3B 20 76 61 72 20 41 3D 32 3B 20 41 2E    =[];.var.A=2;.A.
00023ba0: 74 69 6D 65 73 28 66 75 6E 63 74 69 6F 6E 28 46    times(function(F
00023bb0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
00023bc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023bd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023be0: 20 42 5B 46 5D 3D 46 78 2E 63 6F 6D 70 75 74 65    .B[F]=Fx.compute
00023bf0: 28 45 5B 46 5D 2C 20 44 5B 46 5D 2C 20 43 29 0A    (E[F],.D[F],.C).
00023c00: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023c10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023c20: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00023c30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023c40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023c50: 20 29 3B 20 72 65 74 75 72 6E 20 42 0A 20 20 20    .);.return.B....
00023c60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023c70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00023c80: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023c90: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023ca0: 20 20 2C 20 73 74 61 72 74 3A 66 75 6E 63 74 69    ..,.start:functi
00023cb0: 6F 6E 28 42 2C 20 45 29 20 7B 0A 20 20 20 20 20    on(B,.E).{......
00023cc0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023cd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023ce0: 69 66 28 20 21 74 68 69 73 2E 63 68 65 63 6B 28    if(.!this.check(
00023cf0: 61 72 67 75 6D 65 6E 74 73 2E 63 61 6C 6C 65 65    arguments.callee
00023d00: 2C 20 42 2C 20 45 29 29 20 7B 0A 20 20 20 20 20    ,.B,.E)).{......
00023d10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023d20: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023d30: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 0A    ....return.this.
00023d40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023d50: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023d60: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00023d70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023d80: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
00023d90: 73 5B 45 7C 7C 74 68 69 73 2E 6F 70 74 69 6F 6E    s[E||this.option
00023da0: 73 2E 6D 6F 64 65 5D 28 29 3B 20 76 61 72 20 44    s.mode]();.var.D
00023db0: 3D 74 68 69 73 2E 65 6C 65 6D 65 6E 74 2E 67 65    =this.element.ge
00023dc0: 74 53 74 79 6C 65 28 74 68 69 73 2E 6D 61 72 67    tStyle(this.marg
00023dd0: 69 6E 29 2E 74 6F 49 6E 74 28 29 3B 20 76 61 72    in).toInt();.var
00023de0: 20 43 3D 74 68 69 73 2E 77 72 61 70 70 65 72 2E    .C=this.wrapper.
00023df0: 67 65 74 53 74 79 6C 65 28 74 68 69 73 2E 6C 61    getStyle(this.la
00023e00: 79 6F 75 74 29 2E 74 6F 49 6E 74 28 29 3B 20 76    yout).toInt();.v
00023e10: 61 72 20 41 3D 5B 5B 44 2C 20 43 5D 2C 20 5B 30    ar.A=[[D,.C],.[0
00023e20: 2C 20 74 68 69 73 2E 6F 66 66 73 65 74 5D 5D 3B    ,.this.offset]];
00023e30: 20 76 61 72 20 47 3D 5B 5B 44 2C 20 43 5D 2C 20    .var.G=[[D,.C],.
00023e40: 5B 2D 74 68 69 73 2E 6F 66 66 73 65 74 2C 20 30    [-this.offset,.0
00023e50: 5D 5D 3B 20 76 61 72 20 46 3B 20 73 77 69 74 63    ]];.var.F;.switc
00023e60: 68 28 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20    h(B).{..........
00023e70: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023e80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023e90: 63 61 73 65 20 22 69 6E 22 3A 46 3D 41 3B 20 62    case."in":F=A;.b
00023ea0: 72 65 61 6B 3B 20 63 61 73 65 20 22 6F 75 74 22    reak;.case."out"
00023eb0: 3A 46 3D 47 3B 20 62 72 65 61 6B 3B 20 63 61 73    :F=G;.break;.cas
00023ec0: 65 20 22 74 6F 67 67 6C 65 22 3A 46 3D 28 74 68    e."toggle":F=(th
00023ed0: 69 73 2E 77 72 61 70 70 65 72 5B 22 6F 66 66 73    is.wrapper["offs
00023ee0: 65 74 22 2B 74 68 69 73 2E 6C 61 79 6F 75 74 2E    et"+this.layout.
00023ef0: 63 61 70 69 74 61 6C 69 7A 65 28 29 5D 3D 3D 30    capitalize()]==0
00023f00: 29 3F 41 3A 47 0A 20 20 20 20 20 20 20 20 20 20    )?A:G...........
00023f10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023f20: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00023f30: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023f40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023f50: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 70    ...return.this.p
00023f60: 61 72 65 6E 74 28 46 5B 30 5D 2C 20 46 5B 31 5D    arent(F[0],.F[1]
00023f70: 29 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    )...............
00023f80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023f90: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00023fa0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023fb0: 20 20 20 20 20 20 20 2C 20 73 6C 69 64 65 49 6E    .......,.slideIn
00023fc0: 3A 66 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20    :function(A).{..
00023fd0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023fe0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00023ff0: 20 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E    ....return.this.
00024000: 73 74 61 72 74 28 22 69 6E 22 2C 20 41 29 0A 20    start("in",.A)..
00024010: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024020: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024030: 7D 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20    }...............
00024040: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024050: 20 20 20 20 2C 20 73 6C 69 64 65 4F 75 74 3A 66    ....,.slideOut:f
00024060: 75 6E 63 74 69 6F 6E 28 41 29 20 7B 0A 20 20 20    unction(A).{....
00024070: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024080: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024090: 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 73 74    ..return.this.st
000240a0: 61 72 74 28 22 6F 75 74 22 2C 20 41 29 0A 20 20    art("out",.A)...
000240b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000240c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
000240d0: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000240e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000240f0: 20 20 20 2C 20 68 69 64 65 3A 66 75 6E 63 74 69    ...,.hide:functi
00024100: 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20    on(A).{.........
00024110: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024120: 20 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69    .............thi
00024130: 73 5B 41 7C 7C 74 68 69 73 2E 6F 70 74 69 6F 6E    s[A||this.option
00024140: 73 2E 6D 6F 64 65 5D 28 29 3B 20 74 68 69 73 2E    s.mode]();.this.
00024150: 6F 70 65 6E 3D 20 21 31 3B 20 72 65 74 75 72 6E    open=.!1;.return
00024160: 20 74 68 69 73 2E 73 65 74 28 5B 2D 74 68 69 73    .this.set([-this
00024170: 2E 6F 66 66 73 65 74 2C 20 30 5D 29 0A 20 20 20    .offset,.0])....
00024180: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024190: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
000241a0: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000241b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000241c0: 20 20 2C 20 73 68 6F 77 3A 66 75 6E 63 74 69 6F    ..,.show:functio
000241d0: 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(A).{..........
000241e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000241f0: 20 20 20 20 20 20 20 20 20 20 20 20 74 68 69 73    ............this
00024200: 5B 41 7C 7C 74 68 69 73 2E 6F 70 74 69 6F 6E 73    [A||this.options
00024210: 2E 6D 6F 64 65 5D 28 29 3B 20 74 68 69 73 2E 6F    .mode]();.this.o
00024220: 70 65 6E 3D 20 21 30 3B 20 72 65 74 75 72 6E 20    pen=.!0;.return.
00024230: 74 68 69 73 2E 73 65 74 28 5B 30 2C 20 74 68 69    this.set([0,.thi
00024240: 73 2E 6F 66 66 73 65 74 5D 29 0A 20 20 20 20 20    s.offset])......
00024250: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024260: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20    ............}...
00024270: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024280: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024290: 2C 20 74 6F 67 67 6C 65 3A 66 75 6E 63 74 69 6F    ,.toggle:functio
000242a0: 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20 20 20    n(A).{..........
000242b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000242c0: 20 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75    ............retu
000242d0: 72 6E 20 74 68 69 73 2E 73 74 61 72 74 28 22 74    rn.this.start("t
000242e0: 6F 67 67 6C 65 22 2C 20 41 29 0A 20 20 20 20 20    oggle",.A)......
000242f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024300: 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 20 20    ............}...
00024310: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024320: 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20    ...........}....
00024330: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024340: 20 20 20 20 20 20 20 29 3B 20 45 6C 65 6D 65 6E    .......);.Elemen
00024350: 74 2E 50 72 6F 70 65 72 74 69 65 73 2E 73 6C 69    t.Properties.sli
00024360: 64 65 3D 20 7B 0A 20 20 20 20 20 20 20 20 20 20    de=.{...........
00024370: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024380: 20 20 20 73 65 74 3A 66 75 6E 63 74 69 6F 6E 28    ...set:function(
00024390: 42 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20    B).{............
000243a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000243b0: 20 20 20 20 20 20 76 61 72 20 41 3D 74 68 69 73    ......var.A=this
000243c0: 2E 72 65 74 72 69 65 76 65 28 22 73 6C 69 64 65    .retrieve("slide
000243d0: 22 29 3B 20 69 66 28 41 29 20 7B 0A 20 20 20 20    ");.if(A).{.....
000243e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000243f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024400: 20 41 2E 63 61 6E 63 65 6C 28 29 0A 20 20 20 20    .A.cancel().....
00024410: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024420: 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A 0A    .............}..
00024430: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024440: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024450: 20 72 65 74 75 72 6E 20 74 68 69 73 2E 65 6C 69    .return.this.eli
00024460: 6D 69 6E 61 74 65 28 22 73 6C 69 64 65 22 29 2E    minate("slide").
00024470: 73 74 6F 72 65 28 22 73 6C 69 64 65 3A 6F 70 74    store("slide:opt
00024480: 69 6F 6E 73 22 2C 20 24 65 78 74 65 6E 64 28 20    ions",.$extend(.
00024490: 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    {...............
000244a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000244b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 6C    ...............l
000244c0: 69 6E 6B 3A 22 63 61 6E 63 65 6C 22 0A 20 20 20    ink:"cancel"....
000244d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000244e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000244f0: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00024500: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024510: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024520: 20 20 2C 20 42 29 29 0A 20 20 20 20 20 20 20 20    ..,.B)).........
00024530: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024540: 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20    .....}..........
00024550: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024560: 20 20 20 20 20 2C 20 67 65 74 3A 66 75 6E 63 74    .....,.get:funct
00024570: 69 6F 6E 28 41 29 20 7B 0A 20 20 20 20 20 20 20    ion(A).{........
00024580: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024590: 20 20 20 20 20 20 20 20 20 20 69 66 28 41 7C 7C    ..........if(A||
000245a0: 20 21 74 68 69 73 2E 72 65 74 72 69 65 76 65 28    .!this.retrieve(
000245b0: 22 73 6C 69 64 65 22 29 29 20 7B 0A 20 20 20 20    "slide")).{.....
000245c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000245d0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000245e0: 20 69 66 28 41 7C 7C 20 21 74 68 69 73 2E 72 65    .if(A||.!this.re
000245f0: 74 72 69 65 76 65 28 22 73 6C 69 64 65 3A 6F 70    trieve("slide:op
00024600: 74 69 6F 6E 73 22 29 29 20 7B 0A 20 20 20 20 20    tions")).{......
00024610: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024620: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024630: 20 20 20 20 74 68 69 73 2E 73 65 74 28 22 73 6C    ....this.set("sl
00024640: 69 64 65 22 2C 20 41 29 0A 20 20 20 20 20 20 20    ide",.A)........
00024650: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024660: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00024670: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024680: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024690: 20 20 20 20 20 20 74 68 69 73 2E 73 74 6F 72 65    ......this.store
000246a0: 28 22 73 6C 69 64 65 22 2C 20 6E 65 77 20 46 78    ("slide",.new.Fx
000246b0: 2E 53 6C 69 64 65 28 74 68 69 73 2C 20 74 68 69    .Slide(this,.thi
000246c0: 73 2E 72 65 74 72 69 65 76 65 28 22 73 6C 69 64    s.retrieve("slid
000246d0: 65 3A 6F 70 74 69 6F 6E 73 22 29 29 29 0A 20 20    e:options")))...
000246e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000246f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D    ...............}
00024700: 0A 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024710: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024720: 20 20 20 72 65 74 75 72 6E 20 74 68 69 73 2E 72    ...return.this.r
00024730: 65 74 72 69 65 76 65 28 22 73 6C 69 64 65 22 29    etrieve("slide")
00024740: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024750: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7D 0A    ..............}.
00024760: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024770: 20 20 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20    .........}......
00024780: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024790: 20 20 20 20 20 3B 20 45 6C 65 6D 65 6E 74 2E 69    .....;.Element.i
000247a0: 6D 70 6C 65 6D 65 6E 74 28 20 7B 0A 20 20 20 20    mplement(.{.....
000247b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000247c0: 20 20 20 20 20 20 20 20 20 20 20 20 20 73 6C 69    .............sli
000247d0: 64 65 3A 66 75 6E 63 74 69 6F 6E 28 44 2C 20 45    de:function(D,.E
000247e0: 29 20 7B 0A 20 20 20 20 20 20 20 20 20 20 20 20    ).{.............
000247f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024800: 20 20 20 20 20 20 20 20 20 44 3D 44 7C 7C 22 74    .........D=D||"t
00024810: 6F 67 67 6C 65 22 3B 20 76 61 72 20 42 3D 74 68    oggle";.var.B=th
00024820: 69 73 2E 67 65 74 28 22 73 6C 69 64 65 22 29 2C    is.get("slide"),
00024830: 20 41 3B 20 73 77 69 74 63 68 28 44 29 20 7B 0A    .A;.switch(D).{.
00024840: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024850: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024860: 20 20 20 20 20 20 20 20 20 63 61 73 65 20 22 68    .........case."h
00024870: 69 64 65 22 3A 42 2E 68 69 64 65 28 45 29 3B 20    ide":B.hide(E);.
00024880: 62 72 65 61 6B 3B 20 63 61 73 65 20 22 73 68 6F    break;.case."sho
00024890: 77 22 3A 42 2E 73 68 6F 77 28 45 29 3B 20 62 72    w":B.show(E);.br
000248a0: 65 61 6B 3B 20 63 61 73 65 20 22 74 6F 67 67 6C    eak;.case."toggl
000248b0: 65 22 3A 76 61 72 20 43 3D 74 68 69 73 2E 72 65    e":var.C=this.re
000248c0: 74 72 69 65 76 65 28 22 73 6C 69 64 65 3A 66 6C    trieve("slide:fl
000248d0: 61 67 22 2C 20 42 2E 6F 70 65 6E 29 3B 20 42 5B    ag",.B.open);.B[
000248e0: 28 43 29 3F 22 73 6C 69 64 65 4F 75 74 22 3A 22    (C)?"slideOut":"
000248f0: 73 6C 69 64 65 49 6E 22 5D 28 45 29 3B 20 74 68    slideIn"](E);.th
00024900: 69 73 2E 73 74 6F 72 65 28 22 73 6C 69 64 65 3A    is.store("slide:
00024910: 66 6C 61 67 22 2C 20 20 21 43 29 3B 20 41 3D 20    flag",..!C);.A=.
00024920: 21 30 3B 20 62 72 65 61 6B 3B 20 64 65 66 61 75    !0;.break;.defau
00024930: 6C 74 3A 42 2E 73 74 61 72 74 28 44 2C 20 45 29    lt:B.start(D,.E)
00024940: 0A 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024950: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024960: 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20 20    ......}.........
00024970: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024980: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66    ..............if
00024990: 28 20 21 41 29 20 7B 0A 20 20 20 20 20 20 20 20    (.!A).{.........
000249a0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000249b0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000249c0: 20 74 68 69 73 2E 65 6C 69 6D 69 6E 61 74 65 28    .this.eliminate(
000249d0: 22 73 6C 69 64 65 3A 66 6C 61 67 22 29 0A 20 20    "slide:flag")...
000249e0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
000249f0: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024a00: 20 20 20 7D 0A 0A 20 20 20 20 20 20 20 20 20 20    ...}............
00024a10: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024a20: 20 20 20 20 20 20 20 20 20 20 20 72 65 74 75 72    ...........retur
00024a30: 6E 20 74 68 69 73 0A 20 20 20 20 20 20 20 20 20    n.this..........
00024a40: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024a50: 20 20 20 20 20 20 20 20 7D 0A 20 20 20 20 20 20    ........}.......
00024a60: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024a70: 20 20 20 20 20 20 20 7D 0A 0A 20 20 20 20 20 20    .......}........
00024a80: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20    ................
00024a90: 20 20 20 29                                        ...)
